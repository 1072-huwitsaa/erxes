{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/ActivityItem.tsx\";\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport Tip from 'modules/common/components/Tip';\nimport React from 'react';\nimport Task from '../containers/items/boardItems/Task';\nimport Conversation from '../containers/items/Conversation';\nimport Email from '../containers/items/Email';\nimport InternalNote from '../containers/items/InternalNote';\nimport { ActivityIcon, ActivityRow } from '../styles';\nimport { formatText, getIconAndColor } from '../utils';\nimport ArchiveLog from './items/archive/ArchiveLog';\nimport AssigneeLog from './items/boardItems/AssigneeLog';\nimport MovementLog from './items/boardItems/MovementLog';\nimport ConvertLog from './items/ConvertLog';\nimport CreatedLog from './items/create/CreatedLog';\nimport DeletedLog from './items/delete/DeletedLog';\nimport MergedLog from './items/MergedLog';\nimport SegmentLog from './items/SegmentLog';\n\nvar ActivityItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ActivityItem, _React$Component);\n\n  function ActivityItem() {\n    _classCallCheck(this, ActivityItem);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ActivityItem).apply(this, arguments));\n  }\n\n  _createClass(ActivityItem, [{\n    key: \"renderDetail\",\n    value: function renderDetail(type, children) {\n      var iconAndColor = getIconAndColor(type) || {};\n\n      if (type === 'conversation') {\n        return children;\n      }\n\n      return React.createElement(ActivityRow, {\n        key: Math.random(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: formatText(type),\n        placement: \"top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(ActivityIcon, {\n        color: iconAndColor.color,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: iconAndColor.icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }))), children);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          activity = _this$props.activity,\n          currentUser = _this$props.currentUser;\n      var _id = activity._id,\n          contentType = activity.contentType,\n          action = activity.action;\n\n      switch (action && action || contentType) {\n        case 'note':\n          return this.renderDetail('note', React.createElement(InternalNote, {\n            noteId: _id,\n            activity: activity,\n            currentUser: currentUser,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }));\n\n        case 'conversation':\n          return this.renderDetail('conversation', React.createElement(Conversation, {\n            conversationId: _id,\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }));\n\n        case 'taskDetail':\n          return this.renderDetail('task', React.createElement(Task, {\n            taskId: _id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }));\n\n        case 'engage-email':\n          return this.renderDetail('email', React.createElement(Email, {\n            emailType: \"engage\",\n            emailId: _id,\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }));\n\n        case 'email':\n          return this.renderDetail('email', React.createElement(Email, {\n            emailType: \"email\",\n            emailId: _id,\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }));\n\n        case 'comment':\n          return this.renderDetail('conversation', React.createElement(Conversation, {\n            conversationId: _id,\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }));\n\n        case 'moved':\n          return this.renderDetail(activity.contentType, React.createElement(MovementLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }));\n\n        case 'create':\n          return this.renderDetail(activity.contentType, React.createElement(CreatedLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }));\n\n        case 'delete':\n          return this.renderDetail(activity.contentType, React.createElement(DeletedLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }));\n\n        case 'merge':\n          return this.renderDetail(activity.contentType, React.createElement(MergedLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }));\n\n        case 'convert':\n          return this.renderDetail(activity.contentType, React.createElement(ConvertLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }));\n\n        case 'segment':\n          return this.renderDetail(activity.action, React.createElement(SegmentLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }));\n\n        case 'assignee':\n          return this.renderDetail('assignee', React.createElement(AssigneeLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }));\n\n        case 'archive':\n          return this.renderDetail('archive', React.createElement(ArchiveLog, {\n            activity: activity,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }));\n\n        default:\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          });\n      }\n    }\n  }]);\n\n  return ActivityItem;\n}(React.Component);\n\nexport default ActivityItem;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/ActivityItem.tsx"],"names":["Icon","Tip","React","Task","Conversation","Email","InternalNote","ActivityIcon","ActivityRow","formatText","getIconAndColor","ArchiveLog","AssigneeLog","MovementLog","ConvertLog","CreatedLog","DeletedLog","MergedLog","SegmentLog","ActivityItem","type","children","iconAndColor","Math","random","color","icon","props","activity","currentUser","_id","contentType","action","renderDetail","Component"],"mappings":"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","sourcesContent":["import { IUser } from 'modules/auth/types';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport Tip from 'modules/common/components/Tip';\nimport React from 'react';\nimport Task from '../containers/items/boardItems/Task';\nimport Conversation from '../containers/items/Conversation';\nimport Email from '../containers/items/Email';\nimport InternalNote from '../containers/items/InternalNote';\nimport { ActivityIcon, ActivityRow } from '../styles';\nimport { IActivityLog } from '../types';\nimport { formatText, getIconAndColor } from '../utils';\nimport ArchiveLog from './items/archive/ArchiveLog';\nimport AssigneeLog from './items/boardItems/AssigneeLog';\nimport MovementLog from './items/boardItems/MovementLog';\nimport ConvertLog from './items/ConvertLog';\nimport CreatedLog from './items/create/CreatedLog';\nimport DeletedLog from './items/delete/DeletedLog';\nimport MergedLog from './items/MergedLog';\nimport SegmentLog from './items/SegmentLog';\n\ntype Props = {\n  activity: IActivityLog;\n  currentUser: IUser;\n};\n\nclass ActivityItem extends React.Component<Props> {\n  renderDetail(type: string, children: React.ReactNode) {\n    const iconAndColor = getIconAndColor(type) || {};\n\n    if (type === 'conversation') {\n      return children;\n    }\n\n    return (\n      <ActivityRow key={Math.random()}>\n        <Tip text={formatText(type)} placement=\"top\">\n          <ActivityIcon color={iconAndColor.color}>\n            <Icon icon={iconAndColor.icon} />\n          </ActivityIcon>\n        </Tip>\n        {children}\n      </ActivityRow>\n    );\n  }\n\n  render() {\n    const { activity, currentUser } = this.props;\n    const { _id, contentType, action } = activity;\n\n    switch ((action && action) || contentType) {\n      case 'note':\n        return this.renderDetail(\n          'note',\n          <InternalNote\n            noteId={_id}\n            activity={activity}\n            currentUser={currentUser}\n          />\n        );\n      case 'conversation':\n        return this.renderDetail(\n          'conversation',\n          <Conversation conversationId={_id} activity={activity} />\n        );\n      case 'taskDetail':\n        return this.renderDetail('task', <Task taskId={_id} />);\n      case 'engage-email':\n        return this.renderDetail(\n          'email',\n          <Email emailType=\"engage\" emailId={_id} activity={activity} />\n        );\n      case 'email':\n        return this.renderDetail(\n          'email',\n          <Email emailType=\"email\" emailId={_id} activity={activity} />\n        );\n      case 'comment':\n        return this.renderDetail(\n          'conversation',\n          <Conversation conversationId={_id} activity={activity} />\n        );\n      case 'moved':\n        return this.renderDetail(\n          activity.contentType,\n          <MovementLog activity={activity} />\n        );\n      case 'create':\n        return this.renderDetail(\n          activity.contentType,\n          <CreatedLog activity={activity} />\n        );\n      case 'delete':\n        return this.renderDetail(\n          activity.contentType,\n          <DeletedLog activity={activity} />\n        );\n      case 'merge':\n        return this.renderDetail(\n          activity.contentType,\n          <MergedLog activity={activity} />\n        );\n      case 'convert':\n        return this.renderDetail(\n          activity.contentType,\n          <ConvertLog activity={activity} />\n        );\n      case 'segment':\n        return this.renderDetail(\n          activity.action,\n          <SegmentLog activity={activity} />\n        );\n      case 'assignee':\n        return this.renderDetail(\n          'assignee',\n          <AssigneeLog activity={activity} />\n        );\n      case 'archive':\n        return this.renderDetail('archive', <ArchiveLog activity={activity} />);\n      default:\n        return <div />;\n    }\n  }\n}\n\nexport default ActivityItem;\n"]},"metadata":{},"sourceType":"module"}