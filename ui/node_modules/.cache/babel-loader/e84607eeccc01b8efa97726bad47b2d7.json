{"ast":null,"code":"var _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/utils/confirmation/createConfirmation.tsx\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ConfirmDialog from '../../components/ConfirmDialog';\n\nvar createConfirmation = function createConfirmation() {\n  var unmountDelay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1000;\n  return function (props) {\n    var wrapper = document.body.appendChild(document.createElement('div'));\n\n    function dismiss() {\n      if (props.options.beforeDismiss) {\n        props.options.beforeDismiss();\n      }\n\n      setTimeout(function () {\n        ReactDOM.unmountComponentAtNode(wrapper);\n        wrapper.remove();\n      }, unmountDelay);\n    }\n\n    var promise = new Promise(function (proceed) {\n      try {\n        ReactDOM.render(React.createElement(ConfirmDialog, Object.assign({\n          proceed: proceed,\n          dismiss: dismiss\n        }, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        })), wrapper);\n      } catch (e) {\n        throw e;\n      }\n    });\n    return promise.then(function () {\n      dismiss();\n      return;\n    });\n  };\n};\n\nexport default createConfirmation;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/utils/confirmation/createConfirmation.tsx"],"names":["React","ReactDOM","ConfirmDialog","createConfirmation","unmountDelay","props","wrapper","document","body","appendChild","createElement","dismiss","options","beforeDismiss","setTimeout","unmountComponentAtNode","remove","promise","Promise","proceed","render","e","then"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAyB;AAAA,MAAxBC,YAAwB,uEAAT,IAAS;AAClD,SAAO,UAAAC,KAAK,EAAI;AACd,QAAMC,OAAO,GAAGC,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAA1B,CAAhB;;AAEA,aAASC,OAAT,GAAmB;AACjB,UAAIN,KAAK,CAACO,OAAN,CAAcC,aAAlB,EAAiC;AAC/BR,QAAAA,KAAK,CAACO,OAAN,CAAcC,aAAd;AACD;;AAEDC,MAAAA,UAAU,CAAC,YAAM;AACfb,QAAAA,QAAQ,CAACc,sBAAT,CAAgCT,OAAhC;AACAA,QAAAA,OAAO,CAACU,MAAR;AACD,OAHS,EAGPZ,YAHO,CAAV;AAID;;AAED,QAAMa,OAAO,GAAG,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AACrC,UAAI;AACFlB,QAAAA,QAAQ,CAACmB,MAAT,CACE,oBAAC,aAAD;AAAe,UAAA,OAAO,EAAED,OAAxB;AAAiC,UAAA,OAAO,EAAER;AAA1C,WAAuDN,KAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EAEEC,OAFF;AAID,OALD,CAKE,OAAOe,CAAP,EAAU;AACV,cAAMA,CAAN;AACD;AACF,KATe,CAAhB;AAWA,WAAOJ,OAAO,CAACK,IAAR,CAAa,YAAM;AACxBX,MAAAA,OAAO;AACP;AACD,KAHM,CAAP;AAID,GA7BD;AA8BD,CA/BD;;AAiCA,eAAeR,kBAAf","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ConfirmDialog from '../../components/ConfirmDialog';\n\nconst createConfirmation = (unmountDelay = 1000) => {\n  return props => {\n    const wrapper = document.body.appendChild(document.createElement('div'));\n\n    function dismiss() {\n      if (props.options.beforeDismiss) {\n        props.options.beforeDismiss();\n      }\n\n      setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(wrapper);\n        wrapper.remove();\n      }, unmountDelay);\n    }\n\n    const promise = new Promise(proceed => {\n      try {\n        ReactDOM.render(\n          <ConfirmDialog proceed={proceed} dismiss={dismiss} {...props} />,\n          wrapper\n        );\n      } catch (e) {\n        throw e;\n      }\n    });\n\n    return promise.then(() => {\n      dismiss();\n      return;\n    });\n  };\n};\n\nexport default createConfirmation;\n"]},"metadata":{},"sourceType":"module"}