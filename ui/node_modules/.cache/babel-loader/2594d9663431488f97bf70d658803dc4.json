{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/workarea/Participators.tsx\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  color: \", \";\\n  text-align: center;\\n  vertical-align: middle;\\n  font-size: 10px;\\n  background: \", \";\\n  line-height: \", \"px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: \", \"px;\\n  height: \", \"px;\\n  border-radius: 15px;\\n  display: inline-block;\\n  border: 2px solid \", \";\\n  margin-left: -10px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-left: 10px;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Tip from 'modules/common/components/Tip';\nimport { colors } from 'modules/common/styles';\nimport { __, getUserAvatar } from 'modules/common/utils';\nimport React from 'react';\nimport styled from 'styled-components';\nvar spacing = 30;\nvar ParticipatorWrapper = styled.div(_templateObject());\nvar ParticipatorImg = styled.img(_templateObject2(), spacing, spacing, colors.colorWhite);\nvar More = styled(ParticipatorImg.withComponent('span'))(_templateObject3(), colors.colorWhite, colors.colorCoreLightGray, spacing - 4);\n\nvar Participators =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Participators, _React$Component);\n\n  function Participators() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Participators);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Participators)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      toggle: true\n    };\n\n    _this.toggleParticipator = function () {\n      _this.setState({\n        toggle: !_this.state.toggle\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Participators, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          _this$props$participa = _this$props.participatedUsers,\n          participatedUsers = _this$props$participa === void 0 ? [] : _this$props$participa,\n          limit = _this$props.limit;\n      var toggle = this.state.toggle;\n      var length = participatedUsers.length;\n\n      var Trigger = function Trigger(user) {\n        var name = user.details.fullName || user.username || '';\n        return React.createElement(Tip, {\n          key: user._id,\n          placement: \"bottom\",\n          text: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(ParticipatorImg, {\n          title: \"Participator: \".concat(name),\n          key: user._id,\n          src: getUserAvatar(user),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }));\n      };\n\n      var Tooltip = React.createElement(Tip, {\n        placement: \"top\",\n        text: __('View more'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(More, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"+\".concat(limit && length - limit)));\n      return React.createElement(ParticipatorWrapper, {\n        onClick: this.toggleParticipator,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, participatedUsers.slice(0, limit && toggle ? limit : length).map(function (user) {\n        return Trigger(user);\n      }), limit && toggle && length - limit > 0 && Tooltip);\n    }\n  }]);\n\n  return Participators;\n}(React.Component);\n\nexport default Participators;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/workarea/Participators.tsx"],"names":["Tip","colors","__","getUserAvatar","React","styled","spacing","ParticipatorWrapper","div","ParticipatorImg","img","colorWhite","More","withComponent","colorCoreLightGray","Participators","state","toggle","toggleParticipator","setState","props","participatedUsers","limit","length","Trigger","user","name","details","fullName","username","_id","Tooltip","slice","map","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAOA,GAAP,MAAgB,+BAAhB;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,EAAT,EAAaC,aAAb,QAAkC,sBAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,IAAMC,OAAO,GAAG,EAAhB;AAEA,IAAMC,mBAAmB,GAAGF,MAAM,CAACG,GAAV,mBAAzB;AAQA,IAAMC,eAAe,GAAGJ,MAAM,CAACK,GAAV,qBACVJ,OADU,EAETA,OAFS,EAKCL,MAAM,CAACU,UALR,CAArB;AASA,IAAMC,IAAI,GAAGP,MAAM,CAACI,eAAe,CAACI,aAAhB,CAA8B,MAA9B,CAAD,CAAT,qBACCZ,MAAM,CAACU,UADR,EAKMV,MAAM,CAACa,kBALb,EAMOR,OAAO,GAAG,CANjB,CAAV;;IAcMS,a;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AAAEC,MAAAA,MAAM,EAAE;AAAV,K;;UAERC,kB,GAAqB,YAAM;AACzB,YAAKC,QAAL,CAAc;AAAEF,QAAAA,MAAM,EAAE,CAAC,MAAKD,KAAL,CAAWC;AAAtB,OAAd;AACD,K;;;;;;;6BAEQ;AAAA,wBACmC,KAAKG,KADxC;AAAA,8CACCC,iBADD;AAAA,UACCA,iBADD,sCACqB,EADrB;AAAA,UACyBC,KADzB,eACyBA,KADzB;AAAA,UAECL,MAFD,GAEY,KAAKD,KAFjB,CAECC,MAFD;AAGP,UAAMM,MAAM,GAAGF,iBAAiB,CAACE,MAAjC;;AAEA,UAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,IAAI,EAAI;AACtB,YAAMC,IAAI,GAAGD,IAAI,CAACE,OAAL,CAAaC,QAAb,IAAyBH,IAAI,CAACI,QAA9B,IAA0C,EAAvD;AAEA,eACE,oBAAC,GAAD;AAAK,UAAA,GAAG,EAAEJ,IAAI,CAACK,GAAf;AAAoB,UAAA,SAAS,EAAC,QAA9B;AAAuC,UAAA,IAAI,EAAEJ,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,eAAD;AACE,UAAA,KAAK,0BAAmBA,IAAnB,CADP;AAEE,UAAA,GAAG,EAAED,IAAI,CAACK,GAFZ;AAGE,UAAA,GAAG,EAAE3B,aAAa,CAACsB,IAAD,CAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AASD,OAZD;;AAcA,UAAMM,OAAO,GACX,oBAAC,GAAD;AAAK,QAAA,SAAS,EAAC,KAAf;AAAqB,QAAA,IAAI,EAAE7B,EAAE,CAAC,WAAD,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAWoB,KAAK,IAAIC,MAAM,GAAGD,KAA7B,EADF,CADF;AAMA,aACE,oBAAC,mBAAD;AAAqB,QAAA,OAAO,EAAE,KAAKJ,kBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGG,iBAAiB,CACfW,KADF,CACQ,CADR,EACWV,KAAK,IAAIL,MAAT,GAAkBK,KAAlB,GAA0BC,MADrC,EAEEU,GAFF,CAEM,UAAAR,IAAI;AAAA,eAAID,OAAO,CAACC,IAAD,CAAX;AAAA,OAFV,CADH,EAIGH,KAAK,IAAIL,MAAT,IAAmBM,MAAM,GAAGD,KAAT,GAAiB,CAApC,IAAyCS,OAJ5C,CADF;AAQD;;;;EAxCyB3B,KAAK,CAAC8B,S;;AA2ClC,eAAenB,aAAf","sourcesContent":["import { IUser } from 'modules/auth/types';\nimport Tip from 'modules/common/components/Tip';\nimport { colors } from 'modules/common/styles';\nimport { __, getUserAvatar } from 'modules/common/utils';\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst spacing = 30;\n\nconst ParticipatorWrapper = styled.div`\n  margin-left: 10px;\n\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst ParticipatorImg = styled.img`\n  width: ${spacing}px;\n  height: ${spacing}px;\n  border-radius: 15px;\n  display: inline-block;\n  border: 2px solid ${colors.colorWhite};\n  margin-left: -10px;\n`;\n\nconst More = styled(ParticipatorImg.withComponent('span'))`\n  color: ${colors.colorWhite};\n  text-align: center;\n  vertical-align: middle;\n  font-size: 10px;\n  background: ${colors.colorCoreLightGray};\n  line-height: ${spacing - 4}px;\n`;\n\ntype Props = {\n  participatedUsers: IUser[];\n  limit?: number;\n};\n\nclass Participators extends React.Component<Props, { toggle: boolean }> {\n  state = { toggle: true };\n\n  toggleParticipator = () => {\n    this.setState({ toggle: !this.state.toggle });\n  };\n\n  render() {\n    const { participatedUsers = [], limit } = this.props;\n    const { toggle } = this.state;\n    const length = participatedUsers.length;\n\n    const Trigger = user => {\n      const name = user.details.fullName || user.username || '';\n\n      return (\n        <Tip key={user._id} placement=\"bottom\" text={name}>\n          <ParticipatorImg\n            title={`Participator: ${name}`}\n            key={user._id}\n            src={getUserAvatar(user)}\n          />\n        </Tip>\n      );\n    };\n\n    const Tooltip = (\n      <Tip placement=\"top\" text={__('View more')}>\n        <More>{`+${limit && length - limit}`}</More>\n      </Tip>\n    );\n\n    return (\n      <ParticipatorWrapper onClick={this.toggleParticipator}>\n        {participatedUsers\n          .slice(0, limit && toggle ? limit : length)\n          .map(user => Trigger(user))}\n        {limit && toggle && length - limit > 0 && Tooltip}\n      </ParticipatorWrapper>\n    );\n  }\n}\n\nexport default Participators;\n"]},"metadata":{},"sourceType":"module"}