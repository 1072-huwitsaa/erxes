{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/editForm/Actions.tsx\";\nimport DueDateChanger from 'modules/boards/components/DueDateChanger';\nimport { ArchiveBtn } from 'modules/boards/components/editForm/ArchiveBtn';\nimport PriorityIndicator from 'modules/boards/components/editForm/PriorityIndicator';\nimport SelectItem from 'modules/boards/components/SelectItem';\nimport { PRIORITIES } from 'modules/boards/constants';\nimport { Watch } from 'modules/boards/containers/editForm/';\nimport LabelChooser from 'modules/boards/containers/label/LabelChooser';\nimport { ColorButton } from 'modules/boards/styles/common';\nimport { ActionContainer } from 'modules/boards/styles/item';\nimport ChecklistAdd from 'modules/checklists/components/AddButton';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { __ } from 'modules/common/utils';\nimport React from 'react';\nimport { HACKSTAGES } from '../../constants';\nimport Vote from '../../containers/Vote';\n\nvar Actions =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Actions, _React$Component);\n\n  function Actions() {\n    _classCallCheck(this, Actions);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Actions).apply(this, arguments));\n  }\n\n  _createClass(Actions, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          item = _this$props.item,\n          onChangeField = _this$props.onChangeField,\n          options = _this$props.options,\n          copy = _this$props.copy,\n          removeItem = _this$props.removeItem,\n          saveItem = _this$props.saveItem,\n          sendToBoard = _this$props.sendToBoard,\n          dateOnChange = _this$props.dateOnChange,\n          onUpdate = _this$props.onUpdate,\n          onChangeStage = _this$props.onChangeStage;\n      var hackStages = item.hackStages || [];\n\n      var priorityOnChange = function priorityOnChange(value) {\n        onChangeField('priority', value);\n      };\n\n      var onLabelChange = function onLabelChange(labels) {\n        onChangeField('labels', labels);\n      };\n\n      var hackStageOnChange = function hackStageOnChange(value) {\n        if (hackStages.includes(value)) {\n          var remainedValues = hackStages.filter(function (i) {\n            return i !== value;\n          });\n          return onChangeField('hackStages', remainedValues);\n        }\n\n        var values = hackStages.concat(value);\n        return onChangeField('hackStages', values);\n      };\n\n      var priorityTrigger = React.createElement(ColorButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, item.priority ? React.createElement(PriorityIndicator, {\n        value: item.priority,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }) : React.createElement(Icon, {\n        icon: \"sort-amount-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), __('Priority'));\n      var hackStageTrigger = React.createElement(ColorButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"diary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), __('Growth funnel'));\n      return React.createElement(ActionContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(DueDateChanger, {\n        value: item.closeDate,\n        onChange: dateOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(SelectItem, {\n        items: PRIORITIES,\n        selectedItems: item.priority,\n        onChange: priorityOnChange,\n        trigger: priorityTrigger,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(SelectItem, {\n        items: HACKSTAGES,\n        selectedItems: hackStages,\n        onChange: hackStageOnChange,\n        trigger: hackStageTrigger,\n        multiple: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(Vote, {\n        item: item,\n        onUpdate: onUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(LabelChooser, {\n        item: item,\n        onSelect: onLabelChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(ChecklistAdd, {\n        itemId: item._id,\n        type: options.type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(Watch, {\n        item: item,\n        options: options,\n        isSmall: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(ColorButton, {\n        onClick: copy,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"copy-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), __('Copy')), React.createElement(ArchiveBtn, {\n        item: item,\n        removeItem: removeItem,\n        saveItem: saveItem,\n        sendToBoard: sendToBoard,\n        onChangeStage: onChangeStage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Actions;\n}(React.Component);\n\nexport default Actions;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/editForm/Actions.tsx"],"names":["DueDateChanger","ArchiveBtn","PriorityIndicator","SelectItem","PRIORITIES","Watch","LabelChooser","ColorButton","ActionContainer","ChecklistAdd","Icon","__","React","HACKSTAGES","Vote","Actions","props","item","onChangeField","options","copy","removeItem","saveItem","sendToBoard","dateOnChange","onUpdate","onChangeStage","hackStages","priorityOnChange","value","onLabelChange","labels","hackStageOnChange","includes","remainedValues","filter","i","values","concat","priorityTrigger","priority","hackStageTrigger","closeDate","_id","type","Component"],"mappings":"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","sourcesContent":["import DueDateChanger from 'modules/boards/components/DueDateChanger';\nimport { ArchiveBtn } from 'modules/boards/components/editForm/ArchiveBtn';\nimport PriorityIndicator from 'modules/boards/components/editForm/PriorityIndicator';\nimport SelectItem from 'modules/boards/components/SelectItem';\nimport { PRIORITIES } from 'modules/boards/constants';\nimport { Watch } from 'modules/boards/containers/editForm/';\nimport LabelChooser from 'modules/boards/containers/label/LabelChooser';\nimport { ColorButton } from 'modules/boards/styles/common';\nimport { ActionContainer } from 'modules/boards/styles/item';\nimport { IOptions } from 'modules/boards/types';\nimport ChecklistAdd from 'modules/checklists/components/AddButton';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { __ } from 'modules/common/utils';\nimport { IGrowthHack } from 'modules/growthHacks/types';\nimport React from 'react';\nimport { HACKSTAGES } from '../../constants';\nimport Vote from '../../containers/Vote';\n\ntype Props = {\n  item: IGrowthHack;\n  onChangeField: (\n    name: 'labels' | 'priority' | 'hackStages',\n    value: any\n  ) => void;\n  dateOnChange: (date) => void;\n  options: IOptions;\n  copy: () => void;\n  onUpdate: (item, prevStageId?: string) => void;\n  sendToBoard?: (item: any) => void;\n  saveItem: (doc: { [key: string]: any }, callback?: (item) => void) => void;\n  removeItem: (itemId: string) => void;\n  onChangeStage?: (stageId: string) => void;\n};\n\nclass Actions extends React.Component<Props> {\n  render() {\n    const {\n      item,\n      onChangeField,\n      options,\n      copy,\n      removeItem,\n      saveItem,\n      sendToBoard,\n      dateOnChange,\n      onUpdate,\n      onChangeStage\n    } = this.props;\n\n    const hackStages = item.hackStages || [];\n\n    const priorityOnChange = (value: string) => {\n      onChangeField('priority', value);\n    };\n    const onLabelChange = labels => {\n      onChangeField('labels', labels);\n    };\n\n    const hackStageOnChange = (value: string) => {\n      if (hackStages.includes(value)) {\n        const remainedValues = hackStages.filter(i => {\n          return i !== value;\n        });\n\n        return onChangeField('hackStages', remainedValues);\n      }\n\n      const values = hackStages.concat(value);\n\n      return onChangeField('hackStages', values);\n    };\n\n    const priorityTrigger = (\n      <ColorButton>\n        {item.priority ? (\n          <PriorityIndicator value={item.priority} />\n        ) : (\n          <Icon icon=\"sort-amount-up\" />\n        )}\n        {__('Priority')}\n      </ColorButton>\n    );\n\n    const hackStageTrigger = (\n      <ColorButton>\n        <Icon icon=\"diary\" />\n        {__('Growth funnel')}\n      </ColorButton>\n    );\n\n    return (\n      <ActionContainer>\n        <DueDateChanger value={item.closeDate} onChange={dateOnChange} />\n        <SelectItem\n          items={PRIORITIES}\n          selectedItems={item.priority}\n          onChange={priorityOnChange}\n          trigger={priorityTrigger}\n        />\n        <SelectItem\n          items={HACKSTAGES}\n          selectedItems={hackStages}\n          onChange={hackStageOnChange}\n          trigger={hackStageTrigger}\n          multiple={true}\n        />\n        <Vote item={item} onUpdate={onUpdate} />\n        <LabelChooser item={item} onSelect={onLabelChange} />\n        <ChecklistAdd itemId={item._id} type={options.type} />\n        <Watch item={item} options={options} isSmall={true} />\n        <ColorButton onClick={copy}>\n          <Icon icon=\"copy-1\" />\n          {__('Copy')}\n        </ColorButton>\n        <ArchiveBtn\n          item={item}\n          removeItem={removeItem}\n          saveItem={saveItem}\n          sendToBoard={sendToBoard}\n          onChangeStage={onChangeStage}\n        />\n      </ActionContainer>\n    );\n  }\n}\n\nexport default Actions;\n"]},"metadata":{},"sourceType":"module"}