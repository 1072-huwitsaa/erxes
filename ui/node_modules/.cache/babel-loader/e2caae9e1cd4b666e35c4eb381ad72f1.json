{"ast":null,"code":"import _objectWithoutProperties from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/Calendar.tsx\";\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-left: 8px;\\n\\n  &:first-of-type {\\n    margin: 0;\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 8px 16px 2px;\\n  font-weight: bold;\\n  font-size: 14px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  overflow: hidden;\\n  background: #e5e8ec;\\n  margin: 0 5px;\\n  min-width: 280px;\\n  border-radius: 3px;\\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 5px 0px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Button from 'erxes-common-ui/lib/components/button';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { __ } from '../utils';\nimport { getCurrentDate, getFullTitle, monthColumns, nextMonth, previousMonth } from '../utils/calendar';\nvar Header = styled.div(_templateObject());\nvar HeaderWrapper = styled.div(_templateObject2());\nvar Content = styled.div(_templateObject3());\nvar ContentHeader = styled.div(_templateObject4());\nvar Item = styled.div(_templateObject5());\n\nvar Calendar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Calendar, _React$Component);\n\n  function Calendar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Calendar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      currentDate: getCurrentDate()\n    };\n\n    _this.onPreviousClick = function () {\n      var currentDate = previousMonth(_this.state.currentDate);\n\n      _this.setState({\n        currentDate: currentDate\n      });\n    };\n\n    _this.onNextClick = function () {\n      var currentDate = nextMonth(_this.state.currentDate);\n\n      _this.setState({\n        currentDate: currentDate\n      });\n    };\n\n    _this.setCurrentDate = function () {\n      _this.setState({\n        currentDate: getCurrentDate()\n      });\n    };\n\n    _this.renderMiddleContent = function () {\n      return React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(HeaderWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, renderButton({\n        icon: 'leftarrow',\n        onClick: _this.onPreviousClick\n      }), renderButton({\n        icon: 'rightarrow',\n        onClick: _this.onNextClick\n      }), renderButton({\n        onClick: _this.setCurrentDate,\n        text: 'Today',\n        btnStyle: 'primary'\n      })));\n    };\n\n    _this.renderMonths = function () {\n      var currentDate = _this.state.currentDate;\n      var months = monthColumns(currentDate, 3);\n      return months.map(function (date, index) {\n        return _this.renderColumns(index, date);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"renderColumns\",\n    value: function renderColumns(index, date) {\n      return React.createElement(Content, {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(ContentHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, getFullTitle(date)), this.props.renderColumn(date));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var renderContent = this.props.renderContent;\n      return React.createElement(React.Fragment, null, renderContent(this.renderMonths, this.renderMiddleContent));\n    }\n  }]);\n\n  return Calendar;\n}(React.Component);\n\nfunction renderButton(props) {\n  var text = props.text,\n      buttonProps = _objectWithoutProperties(props, [\"text\"]);\n\n  return React.createElement(Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(Button, Object.assign({\n    btnStyle: \"simple\",\n    ignoreTrans: true,\n    size: \"small\"\n  }, buttonProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }), text && __(text)));\n}\n\nexport default Calendar;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/Calendar.tsx"],"names":["Button","React","styled","__","getCurrentDate","getFullTitle","monthColumns","nextMonth","previousMonth","Header","div","HeaderWrapper","Content","ContentHeader","Item","Calendar","state","currentDate","onPreviousClick","setState","onNextClick","setCurrentDate","renderMiddleContent","renderButton","icon","onClick","text","btnStyle","renderMonths","months","map","date","index","renderColumns","props","renderColumn","renderContent","Component","buttonProps"],"mappings":"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","sourcesContent":["import dayjs from 'dayjs';\nimport Button from 'erxes-common-ui/lib/components/button';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { IDateColumn } from '../types';\nimport { __ } from '../utils';\nimport {\n  getCurrentDate,\n  getFullTitle,\n  monthColumns,\n  nextMonth,\n  previousMonth\n} from '../utils/calendar';\n\nconst Header = styled.div`\n  display: inline-block;\n`;\n\nconst HeaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst Content = styled.div`\n  flex: 1;\n  overflow: hidden;\n  background: #e5e8ec;\n  margin: 0 5px;\n  min-width: 280px;\n  border-radius: 3px;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 5px 0px;\n`;\n\nconst ContentHeader = styled.div`\n  padding: 8px 16px 2px;\n  font-weight: bold;\n  font-size: 14px;\n`;\n\nconst Item = styled.div`\n  margin-left: 8px;\n\n  &:first-of-type {\n    margin: 0;\n  }\n`;\n\ntype State = {\n  currentDate: dayjs.Dayjs;\n};\n\ntype ItemButton = {\n  icon?: string;\n  text?: string;\n  onClick: () => void;\n  btnStyle?: string;\n};\n\ntype Props = {\n  renderContent: (\n    renderMonths: () => React.ReactNode[],\n    renderMiddleContent: () => React.ReactNode\n  ) => React.ReactNode;\n  renderColumn: (date: IDateColumn) => React.ReactNode;\n};\n\nclass Calendar extends React.Component<Props, State> {\n  state = { currentDate: getCurrentDate() };\n\n  onPreviousClick = () => {\n    const currentDate = previousMonth(this.state.currentDate);\n\n    this.setState({ currentDate });\n  };\n\n  onNextClick = () => {\n    const currentDate = nextMonth(this.state.currentDate);\n\n    this.setState({ currentDate });\n  };\n\n  setCurrentDate = () => {\n    this.setState({ currentDate: getCurrentDate() });\n  };\n\n  renderMiddleContent = () => {\n    return (\n      <Header>\n        <HeaderWrapper>\n          {renderButton({ icon: 'leftarrow', onClick: this.onPreviousClick })}\n          {renderButton({ icon: 'rightarrow', onClick: this.onNextClick })}\n          {renderButton({\n            onClick: this.setCurrentDate,\n            text: 'Today',\n            btnStyle: 'primary'\n          })}\n        </HeaderWrapper>\n      </Header>\n    );\n  };\n\n  renderMonths = () => {\n    const { currentDate } = this.state;\n    const months = monthColumns(currentDate, 3);\n\n    return months.map((date: IDateColumn, index: number) =>\n      this.renderColumns(index, date)\n    );\n  };\n\n  renderColumns(index: number, date: IDateColumn) {\n    return (\n      <Content key={index}>\n        <ContentHeader>{getFullTitle(date)}</ContentHeader>\n        {this.props.renderColumn(date)}\n      </Content>\n    );\n  }\n\n  render() {\n    const { renderContent } = this.props;\n\n    return <>{renderContent(this.renderMonths, this.renderMiddleContent)}</>;\n  }\n}\n\nfunction renderButton(props: ItemButton) {\n  const { text, ...buttonProps } = props;\n\n  return (\n    <Item>\n      <Button\n        btnStyle=\"simple\"\n        ignoreTrans={true}\n        size=\"small\"\n        {...buttonProps}\n      >\n        {text && __(text)}\n      </Button>\n    </Item>\n  );\n}\n\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}