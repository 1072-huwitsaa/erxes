{"ast":null,"code":"import _objectSpread from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/deals/components/DealMainActionBar.tsx\";\nimport MainActionBar from 'modules/boards/components/MainActionBar';\nimport { ButtonGroup } from 'modules/boards/styles/header';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport SelectCompanies from 'modules/companies/containers/SelectCompanies';\nimport SelectCustomers from 'modules/customers/containers/common/SelectCustomers';\nimport SelectProducts from 'modules/settings/productService/containers/product/SelectProducts';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport options from '../options';\n\nvar DealMainActionBar = function DealMainActionBar(props) {\n  var queryParams = props.queryParams,\n      onSelect = props.onSelect; // get selected type from URL\n\n  var viewType = window.location.href.includes('calendar') ? 'calendar' : window.location.href.includes('board') ? 'board' : 'conversion';\n\n  var viewChooser = function viewChooser() {\n    var onFilterClick = function onFilterClick(type) {\n      var currentBoard = props.currentBoard,\n          currentPipeline = props.currentPipeline;\n\n      if (currentBoard && currentPipeline) {\n        return \"/deal/\".concat(type, \"?id=\").concat(currentBoard._id, \"&pipelineId=\").concat(currentPipeline._id);\n      }\n\n      return \"/deal/\".concat(type);\n    };\n\n    var boardLink = onFilterClick('board');\n    var calendarLink = onFilterClick('calendar');\n    var conversionlink = onFilterClick('conversion');\n    return React.createElement(ButtonGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Tip, {\n      text: __('Board'),\n      placement: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: boardLink,\n      className: viewType === 'board' ? 'active' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      icon: \"window-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }))), React.createElement(Tip, {\n      text: __('Calendar'),\n      placement: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: calendarLink,\n      className: viewType === 'calendar' ? 'active' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      icon: \"calender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }))), React.createElement(Tip, {\n      text: __('Conversion'),\n      placement: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: conversionlink,\n      className: viewType === 'conversion' ? 'active' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      icon: \"process\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }))));\n  };\n\n  var extraFilter = React.createElement(React.Fragment, null, React.createElement(SelectProducts, {\n    label: \"Filter by products\",\n    name: \"productIds\",\n    queryParams: queryParams,\n    onSelect: onSelect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(SelectCompanies, {\n    label: \"Filter by companies\",\n    name: \"companyIds\",\n    queryParams: queryParams,\n    onSelect: onSelect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(SelectCustomers, {\n    label: \"Filter by customers\",\n    name: \"customerIds\",\n    queryParams: queryParams,\n    onSelect: onSelect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }));\n\n  var extendedProps = _objectSpread({}, props, {\n    options: options,\n    extraFilter: extraFilter,\n    link: \"/deal/\".concat(viewType),\n    rightContent: viewChooser\n  });\n\n  return React.createElement(MainActionBar, Object.assign({}, extendedProps, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }));\n};\n\nexport default DealMainActionBar;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/deals/components/DealMainActionBar.tsx"],"names":["MainActionBar","ButtonGroup","Icon","Tip","__","SelectCompanies","SelectCustomers","SelectProducts","React","Link","options","DealMainActionBar","props","queryParams","onSelect","viewType","window","location","href","includes","viewChooser","onFilterClick","type","currentBoard","currentPipeline","_id","boardLink","calendarLink","conversionlink","extraFilter","extendedProps","link","rightContent"],"mappings":"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","sourcesContent":["import MainActionBar from 'modules/boards/components/MainActionBar';\nimport { ButtonGroup } from 'modules/boards/styles/header';\nimport { IBoard, IPipeline } from 'modules/boards/types';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport SelectCompanies from 'modules/companies/containers/SelectCompanies';\nimport SelectCustomers from 'modules/customers/containers/common/SelectCustomers';\nimport SelectProducts from 'modules/settings/productService/containers/product/SelectProducts';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport options from '../options';\n\ntype Props = {\n  onSearch: (search: string) => void;\n  onSelect: (values: string[] | string, name: string) => void;\n  onDateFilterSelect: (name: string, value: string) => void;\n  onClear: (name: string, values) => void;\n  isFiltered: () => boolean;\n  clearFilter: () => void;\n  currentBoard?: IBoard;\n  currentPipeline?: IPipeline;\n  boards: IBoard[];\n  middleContent?: () => React.ReactNode;\n  history: any;\n  queryParams: any;\n  assignedUserIds?: string[];\n  type: string;\n};\n\nconst DealMainActionBar = (props: Props) => {\n  const { queryParams, onSelect } = props;\n\n  // get selected type from URL\n  const viewType = window.location.href.includes('calendar')\n    ? 'calendar'\n    : window.location.href.includes('board')\n    ? 'board'\n    : 'conversion';\n\n  const viewChooser = () => {\n    const onFilterClick = (type: string) => {\n      const { currentBoard, currentPipeline } = props;\n\n      if (currentBoard && currentPipeline) {\n        return `/deal/${type}?id=${currentBoard._id}&pipelineId=${currentPipeline._id}`;\n      }\n\n      return `/deal/${type}`;\n    };\n\n    const boardLink = onFilterClick('board');\n    const calendarLink = onFilterClick('calendar');\n    const conversionlink = onFilterClick('conversion');\n\n    return (\n      <ButtonGroup>\n        <Tip text={__('Board')} placement=\"bottom\">\n          <Link to={boardLink} className={viewType === 'board' ? 'active' : ''}>\n            <Icon icon=\"window-section\" />\n          </Link>\n        </Tip>\n        <Tip text={__('Calendar')} placement=\"bottom\">\n          <Link\n            to={calendarLink}\n            className={viewType === 'calendar' ? 'active' : ''}\n          >\n            <Icon icon=\"calender\" />\n          </Link>\n        </Tip>\n        <Tip text={__('Conversion')} placement=\"bottom\">\n          <Link\n            to={conversionlink}\n            className={viewType === 'conversion' ? 'active' : ''}\n          >\n            <Icon icon=\"process\" />\n          </Link>\n        </Tip>\n      </ButtonGroup>\n    );\n  };\n\n  const extraFilter = (\n    <>\n      <SelectProducts\n        label=\"Filter by products\"\n        name=\"productIds\"\n        queryParams={queryParams}\n        onSelect={onSelect}\n      />\n      <SelectCompanies\n        label=\"Filter by companies\"\n        name=\"companyIds\"\n        queryParams={queryParams}\n        onSelect={onSelect}\n      />\n      <SelectCustomers\n        label=\"Filter by customers\"\n        name=\"customerIds\"\n        queryParams={queryParams}\n        onSelect={onSelect}\n      />\n    </>\n  );\n\n  const extendedProps = {\n    ...props,\n    options,\n    extraFilter,\n    link: `/deal/${viewType}`,\n    rightContent: viewChooser\n  };\n\n  return <MainActionBar {...extendedProps} />;\n};\n\nexport default DealMainActionBar;\n"]},"metadata":{},"sourceType":"module"}