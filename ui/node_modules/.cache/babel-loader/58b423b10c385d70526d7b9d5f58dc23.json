{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/companies/components/detail/Contacts.tsx\";\nimport Box from 'modules/common/components/Box';\nimport EmptyState from 'modules/common/components/EmptyState';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport NameCard from 'modules/common/components/nameCard/NameCard';\nimport { __, renderFullName } from 'modules/common/utils';\nimport { Contact } from 'modules/customers/styles';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nvar Contacts =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Contacts, _React$Component);\n\n  function Contacts() {\n    _classCallCheck(this, Contacts);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Contacts).apply(this, arguments));\n  }\n\n  _createClass(Contacts, [{\n    key: \"renderContacts\",\n    value: function renderContacts(users) {\n      var customerId = this.props.customerId;\n      var customers = users.filter(function (user) {\n        return user._id !== customerId;\n      });\n      return customers.map(function (customer) {\n        return React.createElement(Contact, {\n          key: customer._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }, React.createElement(NameCard.Avatar, {\n          customer: customer,\n          size: 30,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }), renderFullName(customer), React.createElement(Link, {\n          to: \"/contacts/details/\".concat(customer._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: \"arrow-to-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        })));\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this = this;\n\n      var companies = this.props.companies;\n\n      if (!companies) {\n        return React.createElement(EmptyState, {\n          icon: \"user-1\",\n          text: \"No contacts\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        });\n      }\n\n      var customers = companies.map(function (company) {\n        return company.customers;\n      });\n      return customers.map(function (users) {\n        return _this.renderContacts(users);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Box, {\n        title: __('Contacts'),\n        name: \"showContacts\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.renderContent());\n    }\n  }]);\n\n  return Contacts;\n}(React.Component);\n\nexport default Contacts;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/companies/components/detail/Contacts.tsx"],"names":["Box","EmptyState","Icon","NameCard","__","renderFullName","Contact","React","Link","Contacts","users","customerId","props","customers","filter","user","_id","map","customer","companies","company","renderContacts","renderContent","Component"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,+BAAhB;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,OAAOC,IAAP,MAAiB,qCAAjB;AACA,OAAOC,QAAP,MAAqB,6CAArB;AACA,SAASC,EAAT,EAAaC,cAAb,QAAmC,sBAAnC;AAEA,SAASC,OAAT,QAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;IAOMC,Q;;;;;;;;;;;;;mCACWC,K,EAAO;AAAA,UACZC,UADY,GACG,KAAKC,KADR,CACZD,UADY;AAEpB,UAAME,SAAS,GAAGH,KAAK,CAACI,MAAN,CAAa,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaL,UAAjB;AAAA,OAAjB,CAAlB;AAEA,aAAOE,SAAS,CAACI,GAAV,CAAc,UAAAC,QAAQ;AAAA,eAC3B,oBAAC,OAAD;AAAS,UAAA,GAAG,EAAEA,QAAQ,CAACF,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,QAAD,CAAU,MAAV;AAAiB,UAAA,QAAQ,EAAEE,QAA3B;AAAqC,UAAA,IAAI,EAAE,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEGb,cAAc,CAACa,QAAD,CAFjB,EAIE,oBAAC,IAAD;AAAM,UAAA,EAAE,8BAAuBA,QAAQ,CAACF,GAAhC,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAJF,CAD2B;AAAA,OAAtB,CAAP;AAUD;;;oCAEe;AAAA;;AAAA,UACNG,SADM,GACQ,KAAKP,KADb,CACNO,SADM;;AAGd,UAAI,CAACA,SAAL,EAAgB;AACd,eAAO,oBAAC,UAAD;AAAY,UAAA,IAAI,EAAC,QAAjB;AAA0B,UAAA,IAAI,EAAC,aAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,UAAMN,SAAS,GAAGM,SAAS,CAACF,GAAV,CAAc,UAAAG,OAAO;AAAA,eAAIA,OAAO,CAACP,SAAZ;AAAA,OAArB,CAAlB;AAEA,aAAOA,SAAS,CAACI,GAAV,CAAc,UAAAP,KAAK;AAAA,eAAI,KAAI,CAACW,cAAL,CAAoBX,KAApB,CAAJ;AAAA,OAAnB,CAAP;AACD;;;6BAEQ;AACP,aACE,oBAAC,GAAD;AAAK,QAAA,KAAK,EAAEN,EAAE,CAAC,UAAD,CAAd;AAA4B,QAAA,IAAI,EAAC,cAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKkB,aAAL,EADH,CADF;AAKD;;;;EAnCoBf,KAAK,CAACgB,S;;AAsC7B,eAAed,QAAf","sourcesContent":["import Box from 'modules/common/components/Box';\nimport EmptyState from 'modules/common/components/EmptyState';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport NameCard from 'modules/common/components/nameCard/NameCard';\nimport { __, renderFullName } from 'modules/common/utils';\nimport { ICompany } from 'modules/companies/types';\nimport { Contact } from 'modules/customers/styles';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\ntype Props = {\n  companies: ICompany[];\n  customerId: string;\n};\n\nclass Contacts extends React.Component<Props> {\n  renderContacts(users) {\n    const { customerId } = this.props;\n    const customers = users.filter(user => user._id !== customerId);\n\n    return customers.map(customer => (\n      <Contact key={customer._id}>\n        <NameCard.Avatar customer={customer} size={30} />\n        {renderFullName(customer)}\n\n        <Link to={`/contacts/details/${customer._id}`}>\n          <Icon icon=\"arrow-to-right\" />\n        </Link>\n      </Contact>\n    ));\n  }\n\n  renderContent() {\n    const { companies } = this.props;\n\n    if (!companies) {\n      return <EmptyState icon=\"user-1\" text=\"No contacts\" />;\n    }\n\n    const customers = companies.map(company => company.customers);\n\n    return customers.map(users => this.renderContacts(users));\n  }\n\n  render() {\n    return (\n      <Box title={__('Contacts')} name=\"showContacts\">\n        {this.renderContent()}\n      </Box>\n    );\n  }\n}\n\nexport default Contacts;\n"]},"metadata":{},"sourceType":"module"}