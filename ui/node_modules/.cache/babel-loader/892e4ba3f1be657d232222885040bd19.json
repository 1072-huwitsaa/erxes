{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/leads/components/step/FormStep.tsx\";\nimport { Preview } from 'modules/common/components/step/styles';\nimport CreateForm from 'modules/forms/containers/CreateForm';\nimport EditForm from 'modules/forms/containers/EditForm';\nimport React from 'react';\nimport { FormPreview } from './preview';\nimport { FlexItem } from './style';\n\nvar FormStep =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FormStep, _React$Component);\n\n  function FormStep() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FormStep);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FormStep)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderFormPreviewWrapper = function (previewRenderer) {\n      var _this$props = _this.props,\n          color = _this$props.color,\n          theme = _this$props.theme,\n          type = _this$props.type,\n          formData = _this$props.formData;\n      return React.createElement(Preview, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(FormPreview, {\n        type: type,\n        color: color,\n        theme: theme,\n        title: formData.title,\n        desc: formData.desc,\n        btnText: formData.btnText,\n        previewRenderer: previewRenderer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(FormStep, [{\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this$props2 = this.props,\n          formId = _this$props2.formId,\n          onDocChange = _this$props2.onDocChange,\n          afterDbSave = _this$props2.afterDbSave,\n          onInit = _this$props2.onInit,\n          isReadyToSaveForm = _this$props2.isReadyToSaveForm;\n      var doc = {\n        renderPreviewWrapper: this.renderFormPreviewWrapper,\n        afterDbSave: afterDbSave,\n        onDocChange: onDocChange,\n        isReadyToSave: isReadyToSaveForm,\n        onInit: onInit,\n        showMessage: false,\n        type: 'lead'\n      };\n\n      if (formId) {\n        return React.createElement(EditForm, Object.assign({}, doc, {\n          formId: formId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(CreateForm, Object.assign({}, doc, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(FlexItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.renderContent());\n    }\n  }]);\n\n  return FormStep;\n}(React.Component);\n\nexport default FormStep;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/leads/components/step/FormStep.tsx"],"names":["Preview","CreateForm","EditForm","React","FormPreview","FlexItem","FormStep","renderFormPreviewWrapper","previewRenderer","props","color","theme","type","formData","title","desc","btnText","formId","onDocChange","afterDbSave","onInit","isReadyToSaveForm","doc","renderPreviewWrapper","isReadyToSave","showMessage","renderContent","Component"],"mappings":";;;;;;AAAA,SAASA,OAAT,QAAwB,uCAAxB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,QAAP,MAAqB,mCAArB;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,QAAT,QAAyB,SAAzB;;IAcMC,Q;;;;;;;;;;;;;;;;;;UACJC,wB,GAA2B,UAAAC,eAAe,EAAI;AAAA,wBACH,MAAKC,KADF;AAAA,UACpCC,KADoC,eACpCA,KADoC;AAAA,UAC7BC,KAD6B,eAC7BA,KAD6B;AAAA,UACtBC,IADsB,eACtBA,IADsB;AAAA,UAChBC,QADgB,eAChBA,QADgB;AAG5C,aACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,IAAI,EAAED,IADR;AAEE,QAAA,KAAK,EAAEF,KAFT;AAGE,QAAA,KAAK,EAAEC,KAHT;AAIE,QAAA,KAAK,EAAEE,QAAQ,CAACC,KAJlB;AAKE,QAAA,IAAI,EAAED,QAAQ,CAACE,IALjB;AAME,QAAA,OAAO,EAAEF,QAAQ,CAACG,OANpB;AAOE,QAAA,eAAe,EAAER,eAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAaD,K;;;;;;;oCAEe;AAAA,yBAOV,KAAKC,KAPK;AAAA,UAEZQ,MAFY,gBAEZA,MAFY;AAAA,UAGZC,WAHY,gBAGZA,WAHY;AAAA,UAIZC,WAJY,gBAIZA,WAJY;AAAA,UAKZC,MALY,gBAKZA,MALY;AAAA,UAMZC,iBANY,gBAMZA,iBANY;AASd,UAAMC,GAAG,GAAG;AACVC,QAAAA,oBAAoB,EAAE,KAAKhB,wBADjB;AAEVY,QAAAA,WAAW,EAAXA,WAFU;AAGVD,QAAAA,WAAW,EAAXA,WAHU;AAIVM,QAAAA,aAAa,EAAEH,iBAJL;AAKVD,QAAAA,MAAM,EAANA,MALU;AAMVK,QAAAA,WAAW,EAAE,KANH;AAOVb,QAAAA,IAAI,EAAE;AAPI,OAAZ;;AAUA,UAAIK,MAAJ,EAAY;AACV,eAAO,oBAAC,QAAD,oBAAcK,GAAd;AAAmB,UAAA,MAAM,EAAEL,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD;;AAED,aAAO,oBAAC,UAAD,oBAAgBK,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;6BAEQ;AACP,aAAO,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAW,KAAKI,aAAL,EAAX,CAAP;AACD;;;;EA/CoBvB,KAAK,CAACwB,S;;AAkD7B,eAAerB,QAAf","sourcesContent":["import { Preview } from 'modules/common/components/step/styles';\nimport CreateForm from 'modules/forms/containers/CreateForm';\nimport EditForm from 'modules/forms/containers/EditForm';\nimport { IFormData } from 'modules/forms/types';\nimport { IField } from 'modules/settings/properties/types';\nimport React from 'react';\nimport { FormPreview } from './preview';\nimport { FlexItem } from './style';\n\ntype Props = {\n  type: string;\n  color: string;\n  theme: string;\n  isReadyToSaveForm: boolean;\n  formData: IFormData;\n  formId?: string;\n  afterDbSave: (formId: string) => void;\n  onDocChange?: (doc: IFormData) => void;\n  onInit?: (fields: IField[]) => void;\n};\n\nclass FormStep extends React.Component<Props> {\n  renderFormPreviewWrapper = previewRenderer => {\n    const { color, theme, type, formData } = this.props;\n\n    return (\n      <Preview>\n        <FormPreview\n          type={type}\n          color={color}\n          theme={theme}\n          title={formData.title}\n          desc={formData.desc}\n          btnText={formData.btnText}\n          previewRenderer={previewRenderer}\n        />\n      </Preview>\n    );\n  };\n\n  renderContent() {\n    const {\n      formId,\n      onDocChange,\n      afterDbSave,\n      onInit,\n      isReadyToSaveForm\n    } = this.props;\n\n    const doc = {\n      renderPreviewWrapper: this.renderFormPreviewWrapper,\n      afterDbSave,\n      onDocChange,\n      isReadyToSave: isReadyToSaveForm,\n      onInit,\n      showMessage: false,\n      type: 'lead'\n    };\n\n    if (formId) {\n      return <EditForm {...doc} formId={formId} />;\n    }\n\n    return <CreateForm {...doc} />;\n  }\n\n  render() {\n    return <FlexItem>{this.renderContent()}</FlexItem>;\n  }\n}\n\nexport default FormStep;\n"]},"metadata":{},"sourceType":"module"}