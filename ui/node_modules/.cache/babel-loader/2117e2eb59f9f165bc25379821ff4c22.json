{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/importHistory/containers/HistoryDetail.tsx\";\nimport gql from 'graphql-tag';\nimport * as compose from 'lodash.flowright';\nimport { withProps } from 'modules/common/utils';\nimport React from 'react';\nimport { graphql } from 'react-apollo';\nimport HistoryDetail from '../components/HistoryDetail';\nimport { queries } from '../graphql';\n\nvar HistoryDetailContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HistoryDetailContainer, _React$Component);\n\n  function HistoryDetailContainer(props) {\n    var _this;\n\n    _classCallCheck(this, HistoryDetailContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HistoryDetailContainer).call(this, props));\n    _this.state = {\n      percentage: 0\n    };\n    return _this;\n  }\n\n  _createClass(HistoryDetailContainer, [{\n    key: \"render\",\n    value: function render() {\n      var importHistoryDetailQuery = this.props.importHistoryDetailQuery;\n      var importHistory = importHistoryDetailQuery.importHistoryDetail || {};\n      var percentage = Math.trunc(importHistory.percentage) || this.state.percentage;\n      return React.createElement(HistoryDetail, {\n        importHistory: importHistory,\n        loading: importHistoryDetailQuery.loading,\n        percentage: percentage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return HistoryDetailContainer;\n}(React.Component);\n\nexport default withProps(compose(graphql(gql(queries.historyDetail), {\n  name: 'importHistoryDetailQuery',\n  options: function options(_ref) {\n    var id = _ref.id;\n    return {\n      fetchPolicy: 'network-only',\n      variables: {\n        _id: id\n      },\n      pollInterval: 3000\n    };\n  }\n}))(HistoryDetailContainer));","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/importHistory/containers/HistoryDetail.tsx"],"names":["gql","compose","withProps","React","graphql","HistoryDetail","queries","HistoryDetailContainer","props","state","percentage","importHistoryDetailQuery","importHistory","importHistoryDetail","Math","trunc","loading","Component","historyDetail","name","options","id","fetchPolicy","variables","_id","pollInterval"],"mappings":";;;;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,OAAT,QAAwB,YAAxB;;IAGMC,sB;;;;;AAMJ,kCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gGAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAHiB;AAMlB;;;;6BAEQ;AAAA,UACCC,wBADD,GAC8B,KAAKH,KADnC,CACCG,wBADD;AAEP,UAAMC,aAAa,GAAGD,wBAAwB,CAACE,mBAAzB,IAAgD,EAAtE;AACA,UAAMH,UAAU,GACdI,IAAI,CAACC,KAAL,CAAWH,aAAa,CAACF,UAAzB,KAAwC,KAAKD,KAAL,CAAWC,UADrD;AAGA,aACE,oBAAC,aAAD;AACE,QAAA,aAAa,EAAEE,aADjB;AAEE,QAAA,OAAO,EAAED,wBAAwB,CAACK,OAFpC;AAGE,QAAA,UAAU,EAAEN,UAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD;;;;EA3BkCP,KAAK,CAACc,S;;AA8B3C,eAAef,SAAS,CACtBD,OAAO,CACLG,OAAO,CACLJ,GAAG,CAACM,OAAO,CAACY,aAAT,CADE,EAEL;AACEC,EAAAA,IAAI,EAAE,0BADR;AAEEC,EAAAA,OAAO,EAAE;AAAA,QAAGC,EAAH,QAAGA,EAAH;AAAA,WAAa;AACpBC,MAAAA,WAAW,EAAE,cADO;AAEpBC,MAAAA,SAAS,EAAE;AACTC,QAAAA,GAAG,EAAEH;AADI,OAFS;AAKpBI,MAAAA,YAAY,EAAE;AALM,KAAb;AAAA;AAFX,CAFK,CADF,CAAP,CAcElB,sBAdF,CADsB,CAAxB","sourcesContent":["import gql from 'graphql-tag';\nimport * as compose from 'lodash.flowright';\nimport { withProps } from 'modules/common/utils';\nimport React from 'react';\nimport { graphql } from 'react-apollo';\nimport HistoryDetail from '../components/HistoryDetail';\nimport { queries } from '../graphql';\nimport { ImportHistoryDetailQueryResponse } from '../types';\n\nclass HistoryDetailContainer extends React.Component<\n  { id: string } & {\n    importHistoryDetailQuery: ImportHistoryDetailQueryResponse;\n  },\n  { percentage: number }\n> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      percentage: 0\n    };\n  }\n\n  render() {\n    const { importHistoryDetailQuery } = this.props;\n    const importHistory = importHistoryDetailQuery.importHistoryDetail || {};\n    const percentage =\n      Math.trunc(importHistory.percentage) || this.state.percentage;\n\n    return (\n      <HistoryDetail\n        importHistory={importHistory}\n        loading={importHistoryDetailQuery.loading}\n        percentage={percentage}\n      />\n    );\n  }\n}\n\nexport default withProps<{ id: string }>(\n  compose(\n    graphql<{ id: string }, ImportHistoryDetailQueryResponse, { _id: string }>(\n      gql(queries.historyDetail),\n      {\n        name: 'importHistoryDetailQuery',\n        options: ({ id }) => ({\n          fetchPolicy: 'network-only',\n          variables: {\n            _id: id\n          },\n          pollInterval: 3000\n        })\n      }\n    )\n  )(HistoryDetailContainer)\n);\n"]},"metadata":{},"sourceType":"module"}