{"ast":null,"code":"import _objectSpread from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/integrations/components/messenger/steps/Greeting.tsx\";\nimport FormControl from 'modules/common/components/form/Control';\nimport FormGroup from 'modules/common/components/form/Group';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport { FlexItem, LeftItem } from 'modules/common/components/step/styles';\nimport { __ } from 'modules/common/utils';\nimport { SubHeading } from 'modules/settings/styles';\nimport SelectTeamMembers from 'modules/settings/team/containers/SelectTeamMembers';\nimport React from 'react';\n\nvar Greeting =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Greeting, _React$Component);\n\n  function Greeting(props) {\n    var _this;\n\n    _classCallCheck(this, Greeting);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Greeting).call(this, props));\n\n    _this.onInputChange = function (name, value) {\n      _this.setState(_defineProperty({}, name, value));\n\n      _this.props.onChange(name, value);\n    };\n\n    _this.onGreetingsChange = function (name, value) {\n      var messages = _objectSpread({}, _this.state.messages);\n\n      messages[_this.props.languageCode].greetings[name] = value;\n\n      _this.setState({\n        messages: messages\n      });\n\n      _this.props.onChange('messages', messages);\n    };\n\n    var _messages = props.messages;\n    _this.state = {\n      facebook: '',\n      twitter: '',\n      youtube: '',\n      messages: _messages\n    };\n    return _this;\n  }\n\n  _createClass(Greeting, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          facebook = _this$props.facebook,\n          twitter = _this$props.twitter,\n          youtube = _this$props.youtube,\n          languageCode = _this$props.languageCode,\n          supporterIds = _this$props.supporterIds;\n      var message = this.state.messages[languageCode] || {\n        greetings: {\n          title: '',\n          message: ''\n        }\n      };\n\n      var greetingTitle = function greetingTitle(e) {\n        return _this2.onGreetingsChange('title', e.target.value);\n      };\n\n      var greetingMessage = function greetingMessage(e) {\n        return _this2.onGreetingsChange('message', e.target.value);\n      };\n\n      var facebookChange = function facebookChange(e) {\n        return _this2.onInputChange('facebook', e.target.value);\n      };\n\n      var twitterChange = function twitterChange(e) {\n        return _this2.onInputChange('twitter', e.target.value);\n      };\n\n      var youtubeChange = function youtubeChange(e) {\n        return _this2.onInputChange('youtube', e.target.value);\n      };\n\n      var usersOnChange = function usersOnChange(users) {\n        return _this2.props.onChange('supporterIds', users);\n      };\n\n      return React.createElement(FlexItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(LeftItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Greeting title\"), React.createElement(FormControl, {\n        placeholder: __('Write here Greeting title') + '.',\n        rows: 3,\n        value: message.greetings.title,\n        onChange: greetingTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Greeting message\"), React.createElement(FormControl, {\n        componentClass: \"textarea\",\n        placeholder: __('Write here Greeting message') + '.',\n        rows: 3,\n        value: message.greetings.message,\n        onChange: greetingMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Supporters\"), React.createElement(SelectTeamMembers, {\n        label: \"Choose users\",\n        name: \"supporterIds\",\n        value: supporterIds,\n        onSelect: usersOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), React.createElement(SubHeading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, __('Links')), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Facebook\"), React.createElement(FormControl, {\n        rows: 3,\n        value: facebook || '',\n        onChange: facebookChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Twitter\"), React.createElement(FormControl, {\n        rows: 3,\n        value: twitter || '',\n        onChange: twitterChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Youtube\"), React.createElement(FormControl, {\n        rows: 3,\n        value: youtube || '',\n        onChange: youtubeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Greeting;\n}(React.Component);\n\nexport default Greeting;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/integrations/components/messenger/steps/Greeting.tsx"],"names":["FormControl","FormGroup","ControlLabel","FlexItem","LeftItem","__","SubHeading","SelectTeamMembers","React","Greeting","props","onInputChange","name","value","setState","onChange","onGreetingsChange","messages","state","languageCode","greetings","facebook","twitter","youtube","supporterIds","message","title","greetingTitle","e","target","greetingMessage","facebookChange","twitterChange","youtubeChange","usersOnChange","users","Component"],"mappings":"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","sourcesContent":["import { IUser } from 'modules/auth/types';\nimport FormControl from 'modules/common/components/form/Control';\nimport FormGroup from 'modules/common/components/form/Group';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport { FlexItem, LeftItem } from 'modules/common/components/step/styles';\nimport { __ } from 'modules/common/utils';\nimport { IMessages } from 'modules/settings/integrations/types';\nimport { SubHeading } from 'modules/settings/styles';\nimport SelectTeamMembers from 'modules/settings/team/containers/SelectTeamMembers';\nimport React from 'react';\n\ntype Props = {\n  onChange: (name: any, value: any) => void;\n  teamMembers: IUser[];\n  supporterIds: string[];\n  facebook?: string;\n  twitter?: string;\n  youtube?: string;\n  languageCode: string;\n  messages: IMessages;\n};\n\ntype State = {\n  facebook?: string;\n  twitter?: string;\n  youtube?: string;\n  languageCode?: string;\n  messages: IMessages;\n};\n\nclass Greeting extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    const { messages } = props;\n\n    this.state = {\n      facebook: '',\n      twitter: '',\n      youtube: '',\n      messages\n    };\n  }\n\n  onInputChange = <T extends keyof State>(name: any, value: State[T]) => {\n    this.setState({ [name]: value } as Pick<State, keyof State>);\n    this.props.onChange(name, value);\n  };\n\n  onGreetingsChange = (name, value) => {\n    const messages = { ...this.state.messages };\n\n    messages[this.props.languageCode].greetings[name] = value;\n\n    this.setState({ messages });\n\n    this.props.onChange('messages', messages);\n  };\n\n  render() {\n    const {\n      facebook,\n      twitter,\n      youtube,\n      languageCode,\n      supporterIds\n    } = this.props;\n    const message = this.state.messages[languageCode] || {\n      greetings: {\n        title: '',\n        message: ''\n      }\n    };\n\n    const greetingTitle = e =>\n      this.onGreetingsChange('title', (e.target as HTMLInputElement).value);\n\n    const greetingMessage = e =>\n      this.onGreetingsChange('message', (e.target as HTMLInputElement).value);\n\n    const facebookChange = e =>\n      this.onInputChange('facebook', (e.target as HTMLInputElement).value);\n\n    const twitterChange = e =>\n      this.onInputChange('twitter', (e.target as HTMLInputElement).value);\n\n    const youtubeChange = e =>\n      this.onInputChange('youtube', (e.target as HTMLInputElement).value);\n\n    const usersOnChange = users => this.props.onChange('supporterIds', users);\n\n    return (\n      <FlexItem>\n        <LeftItem>\n          <FormGroup>\n            <ControlLabel>Greeting title</ControlLabel>\n\n            <FormControl\n              placeholder={__('Write here Greeting title') + '.'}\n              rows={3}\n              value={message.greetings.title}\n              onChange={greetingTitle}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <ControlLabel>Greeting message</ControlLabel>\n\n            <FormControl\n              componentClass=\"textarea\"\n              placeholder={__('Write here Greeting message') + '.'}\n              rows={3}\n              value={message.greetings.message}\n              onChange={greetingMessage}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <ControlLabel>Supporters</ControlLabel>\n\n            <SelectTeamMembers\n              label=\"Choose users\"\n              name=\"supporterIds\"\n              value={supporterIds}\n              onSelect={usersOnChange}\n            />\n          </FormGroup>\n\n          <SubHeading>{__('Links')}</SubHeading>\n\n          <FormGroup>\n            <ControlLabel>Facebook</ControlLabel>\n\n            <FormControl\n              rows={3}\n              value={facebook || ''}\n              onChange={facebookChange}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <ControlLabel>Twitter</ControlLabel>\n\n            <FormControl\n              rows={3}\n              value={twitter || ''}\n              onChange={twitterChange}\n            />\n          </FormGroup>\n\n          <FormGroup>\n            <ControlLabel>Youtube</ControlLabel>\n\n            <FormControl\n              rows={3}\n              value={youtube || ''}\n              onChange={youtubeChange}\n            />\n          </FormGroup>\n        </LeftItem>\n      </FlexItem>\n    );\n  }\n}\n\nexport default Greeting;\n"]},"metadata":{},"sourceType":"module"}