{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/ActivityInputs.tsx\";\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { Tabs, TabTitle } from 'modules/common/components/tabs';\nimport { __ } from 'modules/common/utils';\nimport NoteForm from 'modules/internalNotes/containers/Form';\nimport { WhiteBoxRoot } from 'modules/layout/styles';\nimport React from 'react';\n\nvar ActivityInputs =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ActivityInputs, _React$PureComponent);\n\n  function ActivityInputs(props) {\n    var _this;\n\n    _classCallCheck(this, ActivityInputs);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ActivityInputs).call(this, props));\n\n    _this.onChangeTab = function (currentTab) {\n      _this.setState({\n        currentTab: currentTab\n      });\n    };\n\n    _this.state = {\n      currentTab: 'newNote'\n    };\n    return _this;\n  }\n\n  _createClass(ActivityInputs, [{\n    key: \"renderTabContent\",\n    value: function renderTabContent() {\n      var _this$props = this.props,\n          contentTypeId = _this$props.contentTypeId,\n          contentType = _this$props.contentType,\n          showEmail = _this$props.showEmail;\n      var currentTab = this.state.currentTab;\n\n      if (currentTab === 'newNote') {\n        return React.createElement(NoteForm, {\n          contentType: contentType,\n          contentTypeId: contentTypeId,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        });\n      }\n\n      if (!showEmail) {\n        return null;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderExtraTab\",\n    value: function renderExtraTab() {\n      var _this$props2 = this.props,\n          showEmail = _this$props2.showEmail,\n          extraTabs = _this$props2.extraTabs;\n      var tabEmail;\n\n      if (showEmail) {\n        tabEmail = React.createElement(TabTitle, {\n          className: this.state.currentTab === 'email' ? 'active' : '',\n          onClick: this.onChangeTab.bind(this, 'email'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: \"envelope-add\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }), \" \", __('Email'));\n      }\n\n      return React.createElement(React.Fragment, null, tabEmail, extraTabs);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var currentTab = this.state.currentTab;\n      return React.createElement(WhiteBoxRoot, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(TabTitle, {\n        className: currentTab === 'newNote' ? 'active' : '',\n        onClick: this.onChangeTab.bind(this, 'newNote'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"file-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), \" \", __('New note')), this.renderExtraTab()), this.renderTabContent());\n    }\n  }]);\n\n  return ActivityInputs;\n}(React.PureComponent);\n\nexport default ActivityInputs;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/ActivityInputs.tsx"],"names":["Icon","Tabs","TabTitle","__","NoteForm","WhiteBoxRoot","React","ActivityInputs","props","onChangeTab","currentTab","setState","state","contentTypeId","contentType","showEmail","extraTabs","tabEmail","bind","renderExtraTab","renderTabContent","PureComponent"],"mappings":";;;;;;AAAA,OAAOA,IAAP,MAAiB,qCAAjB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,gCAA/B;AACA,SAASC,EAAT,QAAmB,sBAAnB;AACA,OAAOC,QAAP,MAAqB,uCAArB;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAeMC,c;;;;;AACJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;;AADiB,UAQnBC,WARmB,GAQL,UAAAC,UAAU,EAAI;AAC1B,YAAKC,QAAL,CAAc;AAAED,QAAAA,UAAU,EAAVA;AAAF,OAAd;AACD,KAVkB;;AAGjB,UAAKE,KAAL,GAAa;AACXF,MAAAA,UAAU,EAAE;AADD,KAAb;AAHiB;AAMlB;;;;uCAMkB;AAAA,wBACiC,KAAKF,KADtC;AAAA,UACTK,aADS,eACTA,aADS;AAAA,UACMC,WADN,eACMA,WADN;AAAA,UACmBC,SADnB,eACmBA,SADnB;AAAA,UAETL,UAFS,GAEM,KAAKE,KAFX,CAETF,UAFS;;AAIjB,UAAIA,UAAU,KAAK,SAAnB,EAA8B;AAC5B,eACE,oBAAC,QAAD;AAAU,UAAA,WAAW,EAAEI,WAAvB;AAAoC,UAAA,aAAa,EAAED,aAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;;AAED,UAAI,CAACE,SAAL,EAAgB;AACd,eAAO,IAAP;AACD;;AAED,aAAO,IAAP;AACD;;;qCAEgB;AAAA,yBACkB,KAAKP,KADvB;AAAA,UACPO,SADO,gBACPA,SADO;AAAA,UACIC,SADJ,gBACIA,SADJ;AAEf,UAAIC,QAAJ;;AAEA,UAAIF,SAAJ,EAAe;AACbE,QAAAA,QAAQ,GACN,oBAAC,QAAD;AACE,UAAA,SAAS,EAAE,KAAKL,KAAL,CAAWF,UAAX,KAA0B,OAA1B,GAAoC,QAApC,GAA+C,EAD5D;AAEE,UAAA,OAAO,EAAE,KAAKD,WAAL,CAAiBS,IAAjB,CAAsB,IAAtB,EAA4B,OAA5B,CAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAIE,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,OAIgCf,EAAE,CAAC,OAAD,CAJlC,CADF;AAQD;;AAED,aACE,0CACGc,QADH,EAEGD,SAFH,CADF;AAMD;;;6BAEQ;AAAA,UACCN,UADD,GACgB,KAAKE,KADrB,CACCF,UADD;AAGP,aACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AACE,QAAA,SAAS,EAAEA,UAAU,KAAK,SAAf,GAA2B,QAA3B,GAAsC,EADnD;AAEE,QAAA,OAAO,EAAE,KAAKD,WAAL,CAAiBS,IAAjB,CAAsB,IAAtB,EAA4B,SAA5B,CAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,OAI6Bf,EAAE,CAAC,UAAD,CAJ/B,CADF,EAQG,KAAKgB,cAAL,EARH,CADF,EAYG,KAAKC,gBAAL,EAZH,CADF;AAgBD;;;;EAxE0Bd,KAAK,CAACe,a;;AA2EnC,eAAed,cAAf","sourcesContent":["import Icon from 'erxes-common-ui/lib/components/icon';\nimport { Tabs, TabTitle } from 'modules/common/components/tabs';\nimport { __ } from 'modules/common/utils';\nimport NoteForm from 'modules/internalNotes/containers/Form';\nimport { WhiteBoxRoot } from 'modules/layout/styles';\nimport React from 'react';\n\ntype Props = {\n  contentType: string;\n  contentTypeId: string;\n  showEmail: boolean;\n  toEmail?: string;\n  toEmails?: string[];\n  extraTabs?: React.ReactNode;\n};\n\ntype State = {\n  currentTab: string;\n};\n\nclass ActivityInputs extends React.PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTab: 'newNote'\n    };\n  }\n\n  onChangeTab = currentTab => {\n    this.setState({ currentTab });\n  };\n\n  renderTabContent() {\n    const { contentTypeId, contentType, showEmail } = this.props;\n    const { currentTab } = this.state;\n\n    if (currentTab === 'newNote') {\n      return (\n        <NoteForm contentType={contentType} contentTypeId={contentTypeId} />\n      );\n    }\n\n    if (!showEmail) {\n      return null;\n    }\n\n    return null;\n  }\n\n  renderExtraTab() {\n    const { showEmail, extraTabs } = this.props;\n    let tabEmail;\n\n    if (showEmail) {\n      tabEmail = (\n        <TabTitle\n          className={this.state.currentTab === 'email' ? 'active' : ''}\n          onClick={this.onChangeTab.bind(this, 'email')}\n        >\n          <Icon icon=\"envelope-add\" /> {__('Email')}\n        </TabTitle>\n      );\n    }\n\n    return (\n      <>\n        {tabEmail}\n        {extraTabs}\n      </>\n    );\n  }\n\n  render() {\n    const { currentTab } = this.state;\n\n    return (\n      <WhiteBoxRoot>\n        <Tabs>\n          <TabTitle\n            className={currentTab === 'newNote' ? 'active' : ''}\n            onClick={this.onChangeTab.bind(this, 'newNote')}\n          >\n            <Icon icon=\"file-plus\" /> {__('New note')}\n          </TabTitle>\n\n          {this.renderExtraTab()}\n        </Tabs>\n\n        {this.renderTabContent()}\n      </WhiteBoxRoot>\n    );\n  }\n}\n\nexport default ActivityInputs;\n"]},"metadata":{},"sourceType":"module"}