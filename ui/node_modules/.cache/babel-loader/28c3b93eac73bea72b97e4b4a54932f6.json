{"ast":null,"code":"import _objectSpread from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/containers/GrowthHackEditForm.tsx\";\nimport gql from 'graphql-tag';\nimport * as compose from 'lodash.flowright';\nimport { Alert, withProps } from 'modules/common/utils';\nimport { mutations } from 'modules/forms/graphql';\nimport React from 'react';\nimport { graphql } from 'react-apollo';\nimport GrowthHackEditForm from '../components/GrowthHackEditForm';\n\nvar GrowthHackEditFormContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GrowthHackEditFormContainer, _React$Component);\n\n  function GrowthHackEditFormContainer(props) {\n    var _this;\n\n    _classCallCheck(this, GrowthHackEditFormContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GrowthHackEditFormContainer).call(this, props));\n\n    _this.saveFormSubmission = function (_ref) {\n      var formId = _ref.formId,\n          formSubmissions = _ref.formSubmissions,\n          contentTypeId = _ref.contentTypeId;\n      var saveFormSubmissionMutation = _this.props.saveFormSubmissionMutation;\n      saveFormSubmissionMutation({\n        variables: {\n          formId: formId,\n          formSubmissions: formSubmissions,\n          contentTypeId: contentTypeId,\n          contentType: 'growthHack'\n        }\n      }).then(function () {\n        Alert.success('You successfully updated');\n      }).catch(function (error) {\n        Alert.error(error.message);\n      });\n    };\n\n    _this.saveFormSubmission = _this.saveFormSubmission.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(GrowthHackEditFormContainer, [{\n    key: \"render\",\n    value: function render() {\n      var extendedProps = _objectSpread({}, this.props, {\n        saveFormSubmission: this.saveFormSubmission\n      });\n\n      return React.createElement(GrowthHackEditForm, Object.assign({}, extendedProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return GrowthHackEditFormContainer;\n}(React.Component);\n\nexport default withProps(compose(graphql(gql(mutations.formSubmissionsSave), {\n  name: 'saveFormSubmissionMutation'\n}))(GrowthHackEditFormContainer));","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/containers/GrowthHackEditForm.tsx"],"names":["gql","compose","Alert","withProps","mutations","React","graphql","GrowthHackEditForm","GrowthHackEditFormContainer","props","saveFormSubmission","formId","formSubmissions","contentTypeId","saveFormSubmissionMutation","variables","contentType","then","success","catch","error","message","bind","extendedProps","Component","formSubmissionsSave","name"],"mappings":";;;;;;;;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AAGA,SAASC,KAAT,EAAgBC,SAAhB,QAAiC,sBAAjC;AACA,SAASC,SAAT,QAA0B,uBAA1B;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,OAAOC,kBAAP,MAA+B,kCAA/B;;IAmBMC,2B;;;;;AACJ,uCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qGAAMA,KAAN;;AADiB,UAMnBC,kBANmB,GAME,gBAIE;AAAA,UAHrBC,MAGqB,QAHrBA,MAGqB;AAAA,UAFrBC,eAEqB,QAFrBA,eAEqB;AAAA,UADrBC,aACqB,QADrBA,aACqB;AAAA,UACbC,0BADa,GACkB,MAAKL,KADvB,CACbK,0BADa;AAGrBA,MAAAA,0BAA0B,CAAC;AACzBC,QAAAA,SAAS,EAAE;AACTJ,UAAAA,MAAM,EAANA,MADS;AAETC,UAAAA,eAAe,EAAfA,eAFS;AAGTC,UAAAA,aAAa,EAAbA,aAHS;AAITG,UAAAA,WAAW,EAAE;AAJJ;AADc,OAAD,CAA1B,CAQGC,IARH,CAQQ,YAAM;AACVf,QAAAA,KAAK,CAACgB,OAAN,CAAc,0BAAd;AACD,OAVH,EAWGC,KAXH,CAWS,UAAAC,KAAK,EAAI;AACdlB,QAAAA,KAAK,CAACkB,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACD,OAbH;AAcD,KA3BkB;;AAGjB,UAAKX,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBY,IAAxB,+BAA1B;AAHiB;AAIlB;;;;6BAyBQ;AACP,UAAMC,aAAa,qBACd,KAAKd,KADS;AAEjBC,QAAAA,kBAAkB,EAAE,KAAKA;AAFR,QAAnB;;AAKA,aAAO,oBAAC,kBAAD,oBAAwBa,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;;EArCuClB,KAAK,CAACmB,S;;AAwChD,eAAerB,SAAS,CACtBF,OAAO,CACLK,OAAO,CACLN,GAAG,CAACI,SAAS,CAACqB,mBAAX,CADE,EAEL;AACEC,EAAAA,IAAI,EAAE;AADR,CAFK,CADF,CAAP,CAOElB,2BAPF,CADsB,CAAxB","sourcesContent":["import gql from 'graphql-tag';\nimport * as compose from 'lodash.flowright';\nimport { IUser } from 'modules/auth/types';\nimport { IOptions } from 'modules/boards/types';\nimport { Alert, withProps } from 'modules/common/utils';\nimport { mutations } from 'modules/forms/graphql';\nimport {\n  IFormSubmission,\n  IFormSubmissionParams,\n  SaveFormSubmissionMutation\n} from 'modules/forms/types';\nimport React from 'react';\nimport { graphql } from 'react-apollo';\nimport GrowthHackEditForm from '../components/GrowthHackEditForm';\nimport { IGrowthHack, IGrowthHackParams } from '../types';\n\ntype Props = {\n  options: IOptions;\n  item: IGrowthHack;\n  users: IUser[];\n  addItem: (doc: IGrowthHackParams, callback: () => void, msg?: string) => void;\n  saveItem: (doc: IGrowthHackParams, callback?: (item) => void) => void;\n  copyItem: (itemId: string, callback: () => void) => void;\n  onUpdate: (item, prevStageId?: string) => void;\n  removeItem: (itemId: string, callback: () => void) => void;\n  beforePopupClose: () => void;\n};\n\ntype FinalProps = {\n  saveFormSubmissionMutation: SaveFormSubmissionMutation;\n} & Props;\n\nclass GrowthHackEditFormContainer extends React.Component<FinalProps> {\n  constructor(props) {\n    super(props);\n\n    this.saveFormSubmission = this.saveFormSubmission.bind(this);\n  }\n\n  saveFormSubmission = ({\n    formId,\n    formSubmissions,\n    contentTypeId\n  }: IFormSubmission) => {\n    const { saveFormSubmissionMutation } = this.props;\n\n    saveFormSubmissionMutation({\n      variables: {\n        formId,\n        formSubmissions,\n        contentTypeId,\n        contentType: 'growthHack'\n      }\n    })\n      .then(() => {\n        Alert.success('You successfully updated');\n      })\n      .catch(error => {\n        Alert.error(error.message);\n      });\n  };\n\n  render() {\n    const extendedProps = {\n      ...this.props,\n      saveFormSubmission: this.saveFormSubmission\n    };\n\n    return <GrowthHackEditForm {...extendedProps} />;\n  }\n}\n\nexport default withProps<Props>(\n  compose(\n    graphql<Props, SaveFormSubmissionMutation, IFormSubmissionParams>(\n      gql(mutations.formSubmissionsSave),\n      {\n        name: 'saveFormSubmissionMutation'\n      }\n    )\n  )(GrowthHackEditFormContainer)\n);\n"]},"metadata":{},"sourceType":"module"}