{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/email/components/List.tsx\";\nimport ActionButtons from 'erxes-common-ui/lib/components/actionButtons';\nimport Button from 'erxes-common-ui/lib/components/button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport Label from 'modules/common/components/Label';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Table from 'modules/common/components/table';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport Wrapper from 'modules/layout/components/Wrapper';\nimport React from 'react';\nimport Config from '../containers/Config';\n\nvar List =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(List, _React$Component);\n\n  function List() {\n    _classCallCheck(this, List);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(List).apply(this, arguments));\n  }\n\n  _createClass(List, [{\n    key: \"renderRow\",\n    value: function renderRow(brand) {\n      var refetch = this.props.refetch;\n      var name = brand.name,\n          _id = brand._id;\n      var emailConfig = brand.emailConfig || {\n        type: 'simple'\n      };\n      var editTrigger = React.createElement(Button, {\n        btnStyle: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: \"Edit\",\n        placement: \"top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"edit-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      })));\n      var title = \"\".concat(name, \"'s email template\");\n\n      var content = function content(props) {\n        return React.createElement(Config, Object.assign({}, props, {\n          brandId: _id,\n          refetch: refetch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }));\n      };\n\n      return React.createElement(\"tr\", {\n        key: brand.code,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Label, {\n        lblStyle: emailConfig.type === 'simple' ? 'default' : 'primary',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, emailConfig.type)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(ActionButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(ModalTrigger, {\n        title: title,\n        trigger: editTrigger,\n        content: content,\n        ignoreTrans: true,\n        enforceFocus: false,\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var brands = this.props.brands;\n      var breadcrumb = [{\n        title: __('Settings'),\n        link: '/settings'\n      }, {\n        title: __('Email appearance')\n      }];\n      var content = React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, __('Brand Name')), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, __('Current template')), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, __('Actions')))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, brands.map(function (brand) {\n        return _this.renderRow(brand);\n      })));\n      return React.createElement(Wrapper, {\n        header: React.createElement(Wrapper.Header, {\n          title: __('Email appearance'),\n          breadcrumb: breadcrumb,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }),\n        actionBar: React.createElement(Wrapper.ActionBar, {\n          left: React.createElement(HeaderDescription, {\n            icon: \"/images/actions/29.svg\",\n            title: \"Email appearance\",\n            description: __('Appearances matter, especially for your business. Edit and manage your email appearance so that your business can operate in one voice'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }),\n        content: content,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return List;\n}(React.Component);\n\nexport default List;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/email/components/List.tsx"],"names":["ActionButtons","Button","Icon","HeaderDescription","Label","ModalTrigger","Table","Tip","__","Wrapper","React","Config","List","brand","refetch","props","name","_id","emailConfig","type","editTrigger","title","content","code","brands","breadcrumb","link","map","renderRow","Component"],"mappings":"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","sourcesContent":["import ActionButtons from 'erxes-common-ui/lib/components/actionButtons';\nimport Button from 'erxes-common-ui/lib/components/button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport Label from 'modules/common/components/Label';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Table from 'modules/common/components/table';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport Wrapper from 'modules/layout/components/Wrapper';\nimport React from 'react';\nimport { IBrand } from '../../brands/types';\nimport Config from '../containers/Config';\n\ntype Props = {\n  brands: IBrand[];\n  refetch: () => void;\n};\n\nclass List extends React.Component<Props, {}> {\n  renderRow(brand) {\n    const { refetch } = this.props;\n    const { name, _id } = brand;\n    const emailConfig = brand.emailConfig || { type: 'simple' };\n\n    const editTrigger = (\n      <Button btnStyle=\"link\">\n        <Tip text=\"Edit\" placement=\"top\">\n          <Icon icon=\"edit-3\" />\n        </Tip>\n      </Button>\n    );\n\n    const title = `${name}'s email template`;\n\n    const content = props => (\n      <Config {...props} brandId={_id} refetch={refetch} />\n    );\n\n    return (\n      <tr key={brand.code}>\n        <td>{name}</td>\n        <td>\n          <Label\n            lblStyle={emailConfig.type === 'simple' ? 'default' : 'primary'}\n          >\n            {emailConfig.type}\n          </Label>\n        </td>\n        <td>\n          <ActionButtons>\n            <ModalTrigger\n              title={title}\n              trigger={editTrigger}\n              content={content}\n              ignoreTrans={true}\n              enforceFocus={false}\n              size=\"lg\"\n            />\n          </ActionButtons>\n        </td>\n      </tr>\n    );\n  }\n\n  render() {\n    const { brands } = this.props;\n\n    const breadcrumb = [\n      { title: __('Settings'), link: '/settings' },\n      { title: __('Email appearance') }\n    ];\n\n    const content = (\n      <Table>\n        <thead>\n          <tr>\n            <th>{__('Brand Name')}</th>\n            <th>{__('Current template')}</th>\n            <th>{__('Actions')}</th>\n          </tr>\n        </thead>\n        <tbody>{brands.map(brand => this.renderRow(brand))}</tbody>\n      </Table>\n    );\n\n    return (\n      <Wrapper\n        header={\n          <Wrapper.Header\n            title={__('Email appearance')}\n            breadcrumb={breadcrumb}\n          />\n        }\n        actionBar={\n          <Wrapper.ActionBar\n            left={\n              <HeaderDescription\n                icon=\"/images/actions/29.svg\"\n                title=\"Email appearance\"\n                description={__(\n                  'Appearances matter, especially for your business. Edit and manage your email appearance so that your business can operate in one voice'\n                )}\n              />\n            }\n          />\n        }\n        content={content}\n        center={true}\n      />\n    );\n  }\n}\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}