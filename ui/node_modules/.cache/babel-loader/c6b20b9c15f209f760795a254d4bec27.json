{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/segments/components/common/PropertyCondition.tsx\";\nimport React from 'react';\nimport Filter from './Filter';\n\nvar Condition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Condition, _React$Component);\n\n  function Condition() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Condition);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Condition)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.removeCondition = function () {\n      _this.props.onRemove(_this.props.conditionKey);\n    };\n\n    _this.onChangeFilter = function (filter) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          conditionKey = _this$props.conditionKey;\n      return onChange({\n        key: conditionKey,\n        name: filter.name,\n        operator: filter.operator,\n        value: filter.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Condition, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          fields = _this$props2.fields,\n          conditionKey = _this$props2.conditionKey,\n          name = _this$props2.name,\n          operator = _this$props2.operator,\n          value = _this$props2.value;\n      var cleanFields = fields.map(function (item) {\n        return {\n          value: item.name || item._id,\n          label: item.label || item.title,\n          type: (item.type || '').toLowerCase(),\n          selectOptions: item.selectOptions || []\n        };\n      });\n      var filter = {\n        key: conditionKey,\n        name: name,\n        operator: operator,\n        value: value\n      };\n      return React.createElement(Filter, {\n        fields: cleanFields,\n        filter: filter,\n        groupData: true,\n        onChange: this.onChangeFilter,\n        onRemove: this.removeCondition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Condition;\n}(React.Component);\n\nexport default Condition;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/segments/components/common/PropertyCondition.tsx"],"names":["React","Filter","Condition","removeCondition","props","onRemove","conditionKey","onChangeFilter","filter","onChange","key","name","operator","value","fields","cleanFields","map","item","_id","label","title","type","toLowerCase","selectOptions","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;;IAiBMC,S;;;;;;;;;;;;;;;;;;UACJC,e,GAAkB,YAAM;AACtB,YAAKC,KAAL,CAAWC,QAAX,CAAoB,MAAKD,KAAL,CAAWE,YAA/B;AACD,K;;UAEDC,c,GAAiB,UAACC,MAAD,EAA8B;AAAA,wBACV,MAAKJ,KADK;AAAA,UACrCK,QADqC,eACrCA,QADqC;AAAA,UAC3BH,YAD2B,eAC3BA,YAD2B;AAG7C,aAAOG,QAAQ,CAAC;AACdC,QAAAA,GAAG,EAAEJ,YADS;AAEdK,QAAAA,IAAI,EAAEH,MAAM,CAACG,IAFC;AAGdC,QAAAA,QAAQ,EAAEJ,MAAM,CAACI,QAHH;AAIdC,QAAAA,KAAK,EAAEL,MAAM,CAACK;AAJA,OAAD,CAAf;AAMD,K;;;;;;;6BAEQ;AAAA,yBACiD,KAAKT,KADtD;AAAA,UACCU,MADD,gBACCA,MADD;AAAA,UACSR,YADT,gBACSA,YADT;AAAA,UACuBK,IADvB,gBACuBA,IADvB;AAAA,UAC6BC,QAD7B,gBAC6BA,QAD7B;AAAA,UACuCC,KADvC,gBACuCA,KADvC;AAGP,UAAME,WAAW,GAAGD,MAAM,CAACE,GAAP,CAAW,UAAAC,IAAI;AAAA,eAAK;AACtCJ,UAAAA,KAAK,EAAEI,IAAI,CAACN,IAAL,IAAaM,IAAI,CAACC,GADa;AAEtCC,UAAAA,KAAK,EAAEF,IAAI,CAACE,KAAL,IAAcF,IAAI,CAACG,KAFY;AAGtCC,UAAAA,IAAI,EAAE,CAACJ,IAAI,CAACI,IAAL,IAAa,EAAd,EAAkBC,WAAlB,EAHgC;AAItCC,UAAAA,aAAa,EAAEN,IAAI,CAACM,aAAL,IAAsB;AAJC,SAAL;AAAA,OAAf,CAApB;AAOA,UAAMf,MAAM,GAAG;AACbE,QAAAA,GAAG,EAAEJ,YADQ;AAEbK,QAAAA,IAAI,EAAJA,IAFa;AAGbC,QAAAA,QAAQ,EAARA,QAHa;AAIbC,QAAAA,KAAK,EAALA;AAJa,OAAf;AAOA,aACE,oBAAC,MAAD;AACE,QAAA,MAAM,EAAEE,WADV;AAEE,QAAA,MAAM,EAAEP,MAFV;AAGE,QAAA,SAAS,EAAE,IAHb;AAIE,QAAA,QAAQ,EAAE,KAAKD,cAJjB;AAKE,QAAA,QAAQ,EAAE,KAAKJ,eALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AASD;;;;EA1CqBH,KAAK,CAACwB,S;;AA6C9B,eAAetB,SAAf","sourcesContent":["import React from 'react';\nimport { IConditionFilter } from '../../types';\nimport Filter from './Filter';\n\ntype Props = {\n  fields: any[];\n  conditionKey: string;\n  name: string;\n  operator: string;\n  value: string;\n  onChange: (args: {\n    key: string;\n    name: string;\n    operator: string;\n    value: string;\n  }) => void;\n  onRemove: (id: string) => void;\n};\n\nclass Condition extends React.Component<Props, {}> {\n  removeCondition = () => {\n    this.props.onRemove(this.props.conditionKey);\n  };\n\n  onChangeFilter = (filter: IConditionFilter) => {\n    const { onChange, conditionKey } = this.props;\n\n    return onChange({\n      key: conditionKey,\n      name: filter.name,\n      operator: filter.operator,\n      value: filter.value\n    });\n  };\n\n  render() {\n    const { fields, conditionKey, name, operator, value } = this.props;\n\n    const cleanFields = fields.map(item => ({\n      value: item.name || item._id,\n      label: item.label || item.title,\n      type: (item.type || '').toLowerCase(),\n      selectOptions: item.selectOptions || []\n    }));\n\n    const filter = {\n      key: conditionKey,\n      name,\n      operator,\n      value\n    };\n\n    return (\n      <Filter\n        fields={cleanFields}\n        filter={filter}\n        groupData={true}\n        onChange={this.onChangeFilter}\n        onRemove={this.removeCondition}\n      />\n    );\n  }\n}\n\nexport default Condition;\n"]},"metadata":{},"sourceType":"module"}