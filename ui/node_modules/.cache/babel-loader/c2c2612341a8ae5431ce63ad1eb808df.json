{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/editForm/StageForm.tsx\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n  color: \", \";\\n  font-weight: 500;\\n  font-size: 12px;\\n\\n  h4 {\\n    color: \", \";\\n    margin: 2px 0 0;\\n    font-size: 16px;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  background: #fff;\\n  padding: 30px;\\n  box-shadow: 0 0 6px 1px rgba(221, 221, 221, 0.7);\\n  align-self: baseline;\\n  flex-basis: 450px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Button from \"erxes-common-ui/lib/components/button\";\nimport colors from \"modules/common/styles/colors\";\nimport GenerateField from \"modules/settings/properties/components/GenerateField\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nvar RightContainer = styled.div(_templateObject());\nvar CurrentStage = styled.div(_templateObject2(), colors.colorCoreGray, colors.colorCoreDarkGray);\n\nvar StageForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(StageForm, _React$Component);\n\n  function StageForm() {\n    _classCallCheck(this, StageForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(StageForm).apply(this, arguments));\n  }\n\n  _createClass(StageForm, [{\n    key: \"renderFormFields\",\n    value: function renderFormFields() {\n      var _this$props = this.props,\n          _this$props$item = _this$props.item,\n          _this$props$item$form = _this$props$item.formFields,\n          formFields = _this$props$item$form === void 0 ? [] : _this$props$item$form,\n          formSubmissions = _this$props$item.formSubmissions,\n          formId = _this$props$item.formId,\n          onChangeExtraField = _this$props.onChangeExtraField;\n\n      if (!formId) {\n        return null;\n      }\n\n      var onChangeFormField = function onChangeFormField(field) {\n        formSubmissions[field._id] = field.value;\n        onChangeExtraField(\"formSubmissions\", formSubmissions);\n      };\n\n      return formFields.map(function (field) {\n        return React.createElement(GenerateField, {\n          defaultValue: formSubmissions[field._id],\n          key: field._id,\n          field: field,\n          onValueChange: onChangeFormField,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var item = this.props.item;\n      var stageName = item.stage && item.stage.name;\n      var formSubmissions = item.formSubmissions || {};\n\n      var save = function save() {\n        _this.props.save({\n          contentTypeId: item._id,\n          formId: item.formId || \"\",\n          formSubmissions: formSubmissions\n        });\n      };\n\n      return React.createElement(RightContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(CurrentStage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Currently on \", React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, stageName)), this.renderFormFields(), React.createElement(Button, {\n        style: {\n          float: \"right\"\n        },\n        onClick: save,\n        type: \"submit\",\n        btnStyle: \"success\",\n        icon: \"checked-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Save\"));\n    }\n  }]);\n\n  return StageForm;\n}(React.Component);\n\nexport default StageForm;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/editForm/StageForm.tsx"],"names":["Button","colors","GenerateField","React","styled","RightContainer","div","CurrentStage","colorCoreGray","colorCoreDarkGray","StageForm","props","item","formFields","formSubmissions","formId","onChangeExtraField","onChangeFormField","field","_id","value","map","stageName","stage","name","save","contentTypeId","renderFormFields","float","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,uCAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AAGA,OAAOC,aAAP,MAA0B,sDAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,IAAMC,cAAc,GAAGD,MAAM,CAACE,GAAV,mBAApB;AAQA,IAAMC,YAAY,GAAGH,MAAM,CAACE,GAAV,qBAEPL,MAAM,CAACO,aAFA,EAOLP,MAAM,CAACQ,iBAPF,CAAlB;;IAmBMC,S;;;;;;;;;;;;;uCACe;AAAA,wBAIb,KAAKC,KAJQ;AAAA,yCAEfC,IAFe;AAAA,mDAEPC,UAFO;AAAA,UAEPA,UAFO,sCAEM,EAFN;AAAA,UAEUC,eAFV,oBAEUA,eAFV;AAAA,UAE2BC,MAF3B,oBAE2BA,MAF3B;AAAA,UAGfC,kBAHe,eAGfA,kBAHe;;AAMjB,UAAI,CAACD,MAAL,EAAa;AACX,eAAO,IAAP;AACD;;AAED,UAAME,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,KAAD,EAA2C;AACnEJ,QAAAA,eAAe,CAACI,KAAK,CAACC,GAAP,CAAf,GAA6BD,KAAK,CAACE,KAAnC;AACAJ,QAAAA,kBAAkB,CAAC,iBAAD,EAAoBF,eAApB,CAAlB;AACD,OAHD;;AAKA,aAAOD,UAAU,CAACQ,GAAX,CAAe,UAACH,KAAD;AAAA,eACpB,oBAAC,aAAD;AACE,UAAA,YAAY,EAAEJ,eAAe,CAACI,KAAK,CAACC,GAAP,CAD/B;AAEE,UAAA,GAAG,EAAED,KAAK,CAACC,GAFb;AAGE,UAAA,KAAK,EAAED,KAHT;AAIE,UAAA,aAAa,EAAED,iBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADoB;AAAA,OAAf,CAAP;AAQD;;;6BAEQ;AAAA;;AAAA,UACCL,IADD,GACU,KAAKD,KADf,CACCC,IADD;AAGP,UAAMU,SAAS,GAAGV,IAAI,CAACW,KAAL,IAAcX,IAAI,CAACW,KAAL,CAAWC,IAA3C;AACA,UAAMV,eAAe,GAAGF,IAAI,CAACE,eAAL,IAAwB,EAAhD;;AAEA,UAAMW,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB,QAAA,KAAI,CAACd,KAAL,CAAWc,IAAX,CAAgB;AACdC,UAAAA,aAAa,EAAEd,IAAI,CAACO,GADN;AAEdJ,UAAAA,MAAM,EAAEH,IAAI,CAACG,MAAL,IAAe,EAFT;AAGdD,UAAAA,eAAe,EAAfA;AAHc,SAAhB;AAKD,OAND;;AAQA,aACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKQ,SAAL,CADf,CADF,EAIG,KAAKK,gBAAL,EAJH,EAKE,oBAAC,MAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SADT;AAEE,QAAA,OAAO,EAAEH,IAFX;AAGE,QAAA,IAAI,EAAC,QAHP;AAIE,QAAA,QAAQ,EAAC,SAJX;AAKE,QAAA,IAAI,EAAC,WALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,CADF;AAiBD;;;;EAzDqBtB,KAAK,CAAC0B,S;;AA4D9B,eAAenB,SAAf","sourcesContent":["import Button from \"erxes-common-ui/lib/components/button\";\nimport colors from \"modules/common/styles/colors\";\nimport { IFormSubmission } from \"modules/forms/types\";\nimport { IGrowthHack } from \"modules/growthHacks/types\";\nimport GenerateField from \"modules/settings/properties/components/GenerateField\";\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst RightContainer = styled.div`\n  background: #fff;\n  padding: 30px;\n  box-shadow: 0 0 6px 1px rgba(221, 221, 221, 0.7);\n  align-self: baseline;\n  flex-basis: 450px;\n`;\n\nconst CurrentStage = styled.div`\n  margin-bottom: 20px;\n  color: ${colors.colorCoreGray};\n  font-weight: 500;\n  font-size: 12px;\n\n  h4 {\n    color: ${colors.colorCoreDarkGray};\n    margin: 2px 0 0;\n    font-size: 16px;\n  }\n`;\n\ntype Props = {\n  item: IGrowthHack;\n  onChangeExtraField: (name: \"formSubmissions\", value: any) => void;\n  save: (doc: IFormSubmission) => void;\n};\n\nclass StageForm extends React.Component<Props> {\n  renderFormFields() {\n    const {\n      item: { formFields = [], formSubmissions, formId },\n      onChangeExtraField,\n    } = this.props;\n\n    if (!formId) {\n      return null;\n    }\n\n    const onChangeFormField = (field: { _id: string; value: string }) => {\n      formSubmissions[field._id] = field.value;\n      onChangeExtraField(\"formSubmissions\", formSubmissions);\n    };\n\n    return formFields.map((field) => (\n      <GenerateField\n        defaultValue={formSubmissions[field._id]}\n        key={field._id}\n        field={field}\n        onValueChange={onChangeFormField}\n      />\n    ));\n  }\n\n  render() {\n    const { item } = this.props;\n\n    const stageName = item.stage && item.stage.name;\n    const formSubmissions = item.formSubmissions || {};\n\n    const save = () => {\n      this.props.save({\n        contentTypeId: item._id,\n        formId: item.formId || \"\",\n        formSubmissions,\n      });\n    };\n\n    return (\n      <RightContainer>\n        <CurrentStage>\n          Currently on <h4>{stageName}</h4>\n        </CurrentStage>\n        {this.renderFormFields()}\n        <Button\n          style={{ float: \"right\" }}\n          onClick={save}\n          type=\"submit\"\n          btnStyle=\"success\"\n          icon=\"checked-1\"\n        >\n          Save\n        </Button>\n      </RightContainer>\n    );\n  }\n}\n\nexport default StageForm;\n"]},"metadata":{},"sourceType":"module"}