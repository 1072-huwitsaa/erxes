{"ast":null,"code":"import _defineProperty from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/weightedScore/Content.tsx\";\nimport LoadMore from 'modules/common/components/LoadMore';\nimport Table from 'modules/common/components/table';\nimport { __ } from 'modules/common/utils';\nimport { FixedContainer, ScrollContent, TableHead } from 'modules/growthHacks/styles';\nimport React from 'react';\nimport GrowthHackAddTrigger from '../GrowthHackAddTrigger';\nimport Score from '../Score';\n\nvar Content =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Content, _React$Component);\n\n  function Content() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Content);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Content)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onSave = function (id, name, e) {\n      var value = e.target.value;\n\n      var doc = _defineProperty({}, name, value ? parseInt(value, 0) : 0);\n\n      _this.props.save(id, doc);\n    };\n\n    _this.renderHeader = function () {\n      var _ref = _this.props.pipeline || {},\n          _ref$hackScoringType = _ref.hackScoringType,\n          hackScoringType = _ref$hackScoringType === void 0 ? 'ice' : _ref$hackScoringType;\n\n      if (hackScoringType === 'rice') {\n        return React.createElement(React.Fragment, null, React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, __('Reach')), React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, __('Impact')), React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, __('Confidence')), React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, __('Effort')));\n      }\n\n      if (hackScoringType === 'ice') {\n        return React.createElement(React.Fragment, null, React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, __('Impact')), React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, __('Confidence')), React.createElement(TableHead, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, __('Ease')));\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, __('Potential')), React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, __('Importance')), React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, __('Ease')));\n    };\n\n    return _this;\n  }\n\n  _createClass(Content, [{\n    key: \"renderInput\",\n    value: function renderInput(growthHack, type) {\n      var _ref2 = this.props.pipeline || {},\n          _ref2$hackScoringType = _ref2.hackScoringType,\n          hackScoringType = _ref2$hackScoringType === void 0 ? 'ice' : _ref2$hackScoringType;\n\n      if (hackScoringType !== 'rice' && type === 'reach') {\n        return null;\n      }\n\n      return React.createElement(\"td\", {\n        className: \"with-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        min: 0,\n        max: 10,\n        value: growthHack[type],\n        onChange: this.onSave.bind(this, growthHack._id, type),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          totalCount = _this$props.totalCount,\n          loading = _this$props.loading,\n          pipeline = _this$props.pipeline,\n          growthHacks = _this$props.growthHacks,\n          refetch = _this$props.refetch;\n      return React.createElement(FixedContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(ScrollContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Table, {\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, __('Experiment name')), this.renderHeader(), React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, __('Score')))), React.createElement(\"tbody\", {\n        className: \"weighted-score-table-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, growthHacks.map(function (growthHack) {\n        return React.createElement(\"tr\", {\n          key: growthHack._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, growthHack.name), _this2.renderInput(growthHack, 'reach'), _this2.renderInput(growthHack, 'impact'), _this2.renderInput(growthHack, 'confidence'), _this2.renderInput(growthHack, 'ease'), React.createElement(\"td\", {\n          className: \"with-input\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(Score.Amount, {\n          type: pipeline ? pipeline.hackScoringType : 'ice',\n          r: growthHack.reach || 0,\n          i: growthHack.impact || 0,\n          c: growthHack.confidence || 0,\n          e: growthHack.ease || 0,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }))));\n      }))), React.createElement(LoadMore, {\n        perPage: 15,\n        all: totalCount,\n        loading: loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(GrowthHackAddTrigger, {\n        refetch: refetch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Content;\n}(React.Component);\n\nexport default Content;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/weightedScore/Content.tsx"],"names":["LoadMore","Table","__","FixedContainer","ScrollContent","TableHead","React","GrowthHackAddTrigger","Score","Content","onSave","id","name","e","value","target","doc","parseInt","props","save","renderHeader","pipeline","hackScoringType","growthHack","type","bind","_id","totalCount","loading","growthHacks","refetch","map","renderInput","reach","impact","confidence","ease","Component"],"mappings":"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","sourcesContent":["import { IPipeline } from 'modules/boards/types';\nimport LoadMore from 'modules/common/components/LoadMore';\nimport Table from 'modules/common/components/table';\nimport { __ } from 'modules/common/utils';\nimport {\n  FixedContainer,\n  ScrollContent,\n  TableHead\n} from 'modules/growthHacks/styles';\nimport { IGrowthHack, IGrowthHackParams } from 'modules/growthHacks/types';\nimport React from 'react';\nimport GrowthHackAddTrigger from '../GrowthHackAddTrigger';\nimport Score from '../Score';\n\ntype Props = {\n  growthHacks: IGrowthHack[];\n  totalCount: number;\n  loading: boolean;\n  pipeline?: IPipeline;\n  refetch?: () => void;\n  save(id: string, doc: IGrowthHackParams): void;\n};\n\nclass Content extends React.Component<Props> {\n  onSave = (id: string, name: string, e) => {\n    const { value } = e.target;\n    const doc = { [name]: value ? parseInt(value, 0) : 0 };\n\n    this.props.save(id, doc);\n  };\n\n  renderHeader = () => {\n    const { hackScoringType = 'ice' } = this.props.pipeline || {};\n\n    if (hackScoringType === 'rice') {\n      return (\n        <>\n          <TableHead>{__('Reach')}</TableHead>\n          <TableHead>{__('Impact')}</TableHead>\n          <TableHead>{__('Confidence')}</TableHead>\n          <TableHead>{__('Effort')}</TableHead>\n        </>\n      );\n    }\n\n    if (hackScoringType === 'ice') {\n      return (\n        <>\n          <TableHead>{__('Impact')}</TableHead>\n          <TableHead>{__('Confidence')}</TableHead>\n          <TableHead>{__('Ease')}</TableHead>\n        </>\n      );\n    }\n\n    return (\n      <>\n        <TableHead>{__('Potential')}</TableHead>\n        <TableHead>{__('Importance')}</TableHead>\n        <TableHead>{__('Ease')}</TableHead>\n      </>\n    );\n  };\n\n  renderInput(growthHack: IGrowthHack, type: string) {\n    const { hackScoringType = 'ice' } = this.props.pipeline || {};\n\n    if (hackScoringType !== 'rice' && type === 'reach') {\n      return null;\n    }\n\n    return (\n      <td className=\"with-input\">\n        <input\n          type=\"number\"\n          min={0}\n          max={10}\n          value={growthHack[type]}\n          onChange={this.onSave.bind(this, growthHack._id, type)}\n        />\n      </td>\n    );\n  }\n\n  render() {\n    const { totalCount, loading, pipeline, growthHacks, refetch } = this.props;\n\n    return (\n      <FixedContainer>\n        <ScrollContent>\n          <Table hover={true}>\n            <thead>\n              <tr>\n                <th>{__('Experiment name')}</th>\n                {this.renderHeader()}\n                <TableHead>{__('Score')}</TableHead>\n              </tr>\n            </thead>\n            <tbody className=\"weighted-score-table-body\">\n              {growthHacks.map(growthHack => {\n                return (\n                  <tr key={growthHack._id}>\n                    <td>{growthHack.name}</td>\n                    {this.renderInput(growthHack, 'reach')}\n                    {this.renderInput(growthHack, 'impact')}\n                    {this.renderInput(growthHack, 'confidence')}\n                    {this.renderInput(growthHack, 'ease')}\n                    <td className=\"with-input\">\n                      <strong>\n                        <Score.Amount\n                          type={pipeline ? pipeline.hackScoringType : 'ice'}\n                          r={growthHack.reach || 0}\n                          i={growthHack.impact || 0}\n                          c={growthHack.confidence || 0}\n                          e={growthHack.ease || 0}\n                        />\n                      </strong>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n          <LoadMore perPage={15} all={totalCount} loading={loading} />\n        </ScrollContent>\n        <GrowthHackAddTrigger refetch={refetch} />\n      </FixedContainer>\n    );\n  }\n}\n\nexport default Content;\n"]},"metadata":{},"sourceType":"module"}