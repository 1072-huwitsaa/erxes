{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/customers/components/common/InfoSection.tsx\";\nimport { AvatarWrapper } from 'modules/activityLogs/styles';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport NameCard from 'modules/common/components/nameCard/NameCard';\nimport { InfoWrapper, Links } from 'modules/common/styles/main';\nimport { renderFullName } from 'modules/common/utils';\nimport CustomerForm from 'modules/customers/containers/CustomerForm';\nimport React from 'react';\nimport { CustomerState, Name, NameContainer } from '../../styles';\n\nvar InfoSection =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(InfoSection, _React$Component);\n\n  function InfoSection() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, InfoSection);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(InfoSection)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderEditForm = function () {\n      if (_this.props.hideForm) {\n        return null;\n      }\n\n      var customerForm = function customerForm(props) {\n        return React.createElement(CustomerForm, Object.assign({}, props, {\n          size: \"lg\",\n          customer: _this.props.customer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }));\n      };\n\n      return React.createElement(ModalTrigger, {\n        title: \"Edit basic info\",\n        trigger: React.createElement(Icon, {\n          icon: \"pen-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }),\n        size: \"lg\",\n        content: customerForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(InfoSection, [{\n    key: \"renderLink\",\n    value: function renderLink(value, icon) {\n      var link = value;\n\n      if (!value) {\n        return null;\n      }\n\n      if (!value.includes('http')) {\n        link = 'https://'.concat(value);\n      }\n\n      return React.createElement(\"a\", {\n        target: \"_blank\",\n        href: link,\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: icon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"renderLinks\",\n    value: function renderLinks(links) {\n      if (!links) {\n        return null;\n      }\n\n      return React.createElement(Links, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.renderLink(links.facebook, 'facebook-official'), this.renderLink(links.linkedIn, 'linkedin'), this.renderLink(links.twitter, 'twitter'), this.renderLink(links.youtube, 'youtube-play'), this.renderLink(links.github, 'github-circled'), this.renderLink(links.website, 'external-link-alt'));\n    }\n  }, {\n    key: \"renderPosition\",\n    value: function renderPosition() {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.props.customer.position);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          customer = _this$props.customer,\n          _this$props$avatarSiz = _this$props.avatarSize,\n          avatarSize = _this$props$avatarSiz === void 0 ? 50 : _this$props$avatarSiz,\n          children = _this$props.children,\n          nameSize = _this$props.nameSize;\n      var _customer$links = customer.links,\n          links = _customer$links === void 0 ? {} : _customer$links,\n          isOnline = customer.isOnline,\n          state = customer.state;\n      return React.createElement(InfoWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(AvatarWrapper, {\n        isOnline: isOnline,\n        size: avatarSize,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(NameCard.Avatar, {\n        customer: customer,\n        size: avatarSize,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(CustomerState, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, state)), React.createElement(NameContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Name, {\n        fontSize: nameSize,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, renderFullName(customer), this.renderEditForm()), this.renderPosition(), this.renderLinks(links)), children);\n    }\n  }]);\n\n  return InfoSection;\n}(React.Component);\n\nexport default InfoSection;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/customers/components/common/InfoSection.tsx"],"names":["AvatarWrapper","Icon","ModalTrigger","NameCard","InfoWrapper","Links","renderFullName","CustomerForm","React","CustomerState","Name","NameContainer","InfoSection","renderEditForm","props","hideForm","customerForm","customer","value","icon","link","includes","concat","links","renderLink","facebook","linkedIn","twitter","youtube","github","website","position","avatarSize","children","nameSize","isOnline","state","renderPosition","renderLinks","Component"],"mappings":"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","sourcesContent":["import { AvatarWrapper } from 'modules/activityLogs/styles';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport NameCard from 'modules/common/components/nameCard/NameCard';\nimport { InfoWrapper, Links } from 'modules/common/styles/main';\nimport { renderFullName } from 'modules/common/utils';\nimport CustomerForm from 'modules/customers/containers/CustomerForm';\nimport { ICustomer } from 'modules/customers/types';\nimport React from 'react';\nimport { CustomerState, Name, NameContainer } from '../../styles';\n\ntype Props = {\n  customer: ICustomer;\n  hideForm?: boolean;\n  avatarSize?: number;\n  nameSize?: number;\n  children?: React.ReactNode;\n};\n\nclass InfoSection extends React.Component<Props> {\n  renderLink(value, icon) {\n    let link = value;\n\n    if (!value) {\n      return null;\n    }\n\n    if (!value.includes('http')) {\n      link = 'https://'.concat(value);\n    }\n\n    return (\n      <a target=\"_blank\" href={link} rel=\"noopener noreferrer\">\n        <Icon icon={icon} />\n      </a>\n    );\n  }\n\n  renderLinks(links) {\n    if (!links) {\n      return null;\n    }\n\n    return (\n      <Links>\n        {this.renderLink(links.facebook, 'facebook-official')}\n        {this.renderLink(links.linkedIn, 'linkedin')}\n        {this.renderLink(links.twitter, 'twitter')}\n        {this.renderLink(links.youtube, 'youtube-play')}\n        {this.renderLink(links.github, 'github-circled')}\n        {this.renderLink(links.website, 'external-link-alt')}\n      </Links>\n    );\n  }\n\n  renderPosition() {\n    return <p>{this.props.customer.position}</p>;\n  }\n\n  renderEditForm = () => {\n    if (this.props.hideForm) {\n      return null;\n    }\n\n    const customerForm = props => {\n      return (\n        <CustomerForm {...props} size=\"lg\" customer={this.props.customer} />\n      );\n    };\n\n    return (\n      <ModalTrigger\n        title=\"Edit basic info\"\n        trigger={<Icon icon=\"pen-1\" />}\n        size=\"lg\"\n        content={customerForm}\n      />\n    );\n  };\n\n  render() {\n    const { customer, avatarSize = 50, children, nameSize } = this.props;\n    const { links = {}, isOnline, state } = customer;\n\n    return (\n      <InfoWrapper>\n        <AvatarWrapper isOnline={isOnline} size={avatarSize}>\n          <NameCard.Avatar customer={customer} size={avatarSize} />\n          <CustomerState>{state}</CustomerState>\n        </AvatarWrapper>\n\n        <NameContainer>\n          <Name fontSize={nameSize}>\n            {renderFullName(customer)}\n            {this.renderEditForm()}\n          </Name>\n          {this.renderPosition()}\n          {this.renderLinks(links)}\n        </NameContainer>\n        {children}\n      </InfoWrapper>\n    );\n  }\n}\n\nexport default InfoSection;\n"]},"metadata":{},"sourceType":"module"}