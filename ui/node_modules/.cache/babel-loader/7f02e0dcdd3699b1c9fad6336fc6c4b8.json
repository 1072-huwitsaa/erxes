{"ast":null,"code":"import _objectSpread from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/knowledgeBase/components/category/CategoryRow.tsx\";\nimport Button from 'modules/common/components/Button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport CategoryForm from '../../containers/category/CategoryForm';\nimport { ActionButtons, CategoryItem } from './styles';\n\nvar CategoryRow =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CategoryRow, _React$Component);\n\n  function CategoryRow() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CategoryRow);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CategoryRow)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.size = void 0;\n\n    _this.remove = function () {\n      var _this$props = _this.props,\n          remove = _this$props.remove,\n          category = _this$props.category;\n      remove(category._id);\n    };\n\n    _this.renderEditAction = function () {\n      var _this$props2 = _this.props,\n          category = _this$props2.category,\n          topicIds = _this$props2.topicIds;\n      var editTrigger = React.createElement(Button, {\n        btnStyle: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: __('Edit'),\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      })));\n\n      var content = function content(props) {\n        return _this.renderEditForm(_objectSpread({}, props, {\n          category: category,\n          topicIds: topicIds\n        }));\n      };\n\n      return React.createElement(ModalTrigger, {\n        size: _this.size,\n        title: \"Edit\",\n        trigger: editTrigger,\n        content: content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CategoryRow, [{\n    key: \"renderEditForm\",\n    value: function renderEditForm(props) {\n      return React.createElement(CategoryForm, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          category = _this$props3.category,\n          isActive = _this$props3.isActive;\n      return React.createElement(CategoryItem, {\n        key: category._id,\n        isActive: isActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"?id=\".concat(category._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, category.title, \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"(\", category.articles.length, \")\")), React.createElement(ActionButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.renderEditAction(), React.createElement(Tip, {\n        text: __('Delete'),\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Button, {\n        btnStyle: \"link\",\n        onClick: this.remove,\n        icon: \"cancel-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CategoryRow;\n}(React.Component);\n\nexport default CategoryRow;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/knowledgeBase/components/category/CategoryRow.tsx"],"names":["Button","Icon","ModalTrigger","Tip","__","React","Link","CategoryForm","ActionButtons","CategoryItem","CategoryRow","size","remove","props","category","_id","renderEditAction","topicIds","editTrigger","content","renderEditForm","isActive","title","articles","length","Component"],"mappings":"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","sourcesContent":["import Button from 'modules/common/components/Button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport CategoryForm from '../../containers/category/CategoryForm';\nimport { ICategory } from '../../types';\nimport { ActionButtons, CategoryItem } from './styles';\n\ntype Props = {\n  topicIds: string;\n  category: ICategory;\n  articlesCount: number;\n  remove: (categoryId: string) => void;\n  isActive: boolean;\n};\n\nclass CategoryRow extends React.Component<Props> {\n  private size;\n\n  remove = () => {\n    const { remove, category } = this.props;\n    remove(category._id);\n  };\n\n  renderEditForm(props) {\n    return <CategoryForm {...props} />;\n  }\n\n  renderEditAction = () => {\n    const { category, topicIds } = this.props;\n\n    const editTrigger = (\n      <Button btnStyle=\"link\">\n        <Tip text={__('Edit')} placement=\"bottom\">\n          <Icon icon=\"edit\" />\n        </Tip>\n      </Button>\n    );\n\n    const content = props => {\n      return this.renderEditForm({ ...props, category, topicIds });\n    };\n\n    return (\n      <ModalTrigger\n        size={this.size}\n        title=\"Edit\"\n        trigger={editTrigger}\n        content={content}\n      />\n    );\n  };\n\n  render() {\n    const { category, isActive } = this.props;\n\n    return (\n      <CategoryItem key={category._id} isActive={isActive}>\n        <Link to={`?id=${category._id}`}>\n          {category.title} <span>({category.articles.length})</span>\n        </Link>\n        <ActionButtons>\n          {this.renderEditAction()}\n          <Tip text={__('Delete')} placement=\"bottom\">\n            <Button btnStyle=\"link\" onClick={this.remove} icon=\"cancel-1\" />\n          </Tip>\n        </ActionButtons>\n      </CategoryItem>\n    );\n  }\n}\n\nexport default CategoryRow;\n"]},"metadata":{},"sourceType":"module"}