{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/customers/components/common/WebsiteActivity.tsx\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  color: #444;\\n  margin-right: 7px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  font-weight: 500;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  color: #666 !important;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Box from 'modules/common/components/Box';\nimport EmptyState from 'modules/common/components/EmptyState';\nimport { __ } from 'modules/common/utils';\nimport { FieldStyle, SidebarCounter, SidebarList } from 'modules/layout/styles';\nimport { calculatePercentage } from 'modules/robot/utils';\nimport React from 'react';\nimport styled from 'styled-components';\nvar Description = styled.li(_templateObject());\nvar Bolder = styled.span(_templateObject2());\nvar Count = styled.label(_templateObject3());\n\nvar WebsiteActivity =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(WebsiteActivity, _React$Component);\n\n  function WebsiteActivity(props, context) {\n    var _this;\n\n    _classCallCheck(this, WebsiteActivity);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WebsiteActivity).call(this, props, context));\n    _this.totalVisits = 0;\n    props.urlVisits.map(function (visitPage) {\n      return _this.totalVisits = _this.totalVisits + visitPage.count;\n    });\n    return _this;\n  }\n\n  _createClass(WebsiteActivity, [{\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this2 = this;\n\n      var urlVisits = this.props.urlVisits;\n\n      if (urlVisits.length === 0) {\n        return React.createElement(EmptyState, {\n          icon: \"chart-line\",\n          text: \"No activity\",\n          size: \"small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(SidebarList, {\n        className: \"no-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Description, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __('Most visited pages on your website')), this.props.urlVisits.map(function (data, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(FieldStyle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(Bolder, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, data.url)), React.createElement(SidebarCounter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(Count, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, data.count), \"(\", calculatePercentage(_this2.totalVisits, data.count), \"%)\"));\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Box, {\n        title: __('Website Activity'),\n        name: \"webActivity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.renderContent());\n    }\n  }]);\n\n  return WebsiteActivity;\n}(React.Component);\n\nexport default WebsiteActivity;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/customers/components/common/WebsiteActivity.tsx"],"names":["Box","EmptyState","__","FieldStyle","SidebarCounter","SidebarList","calculatePercentage","React","styled","Description","li","Bolder","span","Count","label","WebsiteActivity","props","context","totalVisits","urlVisits","map","visitPage","count","length","data","index","url","renderContent","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,+BAAhB;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,SAASC,EAAT,QAAmB,sBAAnB;AACA,SAASC,UAAT,EAAqBC,cAArB,EAAqCC,WAArC,QAAwD,uBAAxD;AACA,SAASC,mBAAT,QAAoC,qBAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAOA,IAAMC,WAAW,GAAGD,MAAM,CAACE,EAAV,mBAAjB;AAIA,IAAMC,MAAM,GAAGH,MAAM,CAACI,IAAV,oBAAZ;AAIA,IAAMC,KAAK,GAAGL,MAAM,CAACM,KAAV,oBAAX;;IAKMC,e;;;;;AAGJ,2BAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,yFAAMD,KAAN,EAAaC,OAAb;AAD0B,UAFpBC,WAEoB,GAFN,CAEM;AAG1BF,IAAAA,KAAK,CAACG,SAAN,CAAgBC,GAAhB,CAAoB,UAAAC,SAAS,EAAI;AAC/B,aAAQ,MAAKH,WAAL,GAAmB,MAAKA,WAAL,GAAmBG,SAAS,CAACC,KAAxD;AACD,KAFD;AAH0B;AAM3B;;;;oCAEe;AAAA;;AAAA,UACNH,SADM,GACQ,KAAKH,KADb,CACNG,SADM;;AAGd,UAAIA,SAAS,CAACI,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,eAAO,oBAAC,UAAD;AAAY,UAAA,IAAI,EAAC,YAAjB;AAA8B,UAAA,IAAI,EAAC,aAAnC;AAAiD,UAAA,IAAI,EAAC,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,aACE,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAC,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAcrB,EAAE,CAAC,oCAAD,CAAhB,CADF,EAEG,KAAKc,KAAL,CAAWG,SAAX,CAAqBC,GAArB,CAAyB,UAACI,IAAD,EAAOC,KAAP;AAAA,eACxB;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAASD,IAAI,CAACE,GAAd,CADF,CADF,EAIE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAQF,IAAI,CAACF,KAAb,CADF,OAEGhB,mBAAmB,CAAC,MAAI,CAACY,WAAN,EAAmBM,IAAI,CAACF,KAAxB,CAFtB,OAJF,CADwB;AAAA,OAAzB,CAFH,CADF;AAgBD;;;6BAEQ;AACP,aACE,oBAAC,GAAD;AAAK,QAAA,KAAK,EAAEpB,EAAE,CAAC,kBAAD,CAAd;AAAoC,QAAA,IAAI,EAAC,aAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKyB,aAAL,EADH,CADF;AAKD;;;;EA1C2BpB,KAAK,CAACqB,S;;AA6CpC,eAAeb,eAAf","sourcesContent":["import Box from 'modules/common/components/Box';\nimport EmptyState from 'modules/common/components/EmptyState';\nimport { __ } from 'modules/common/utils';\nimport { FieldStyle, SidebarCounter, SidebarList } from 'modules/layout/styles';\nimport { calculatePercentage } from 'modules/robot/utils';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { IUrlVisits } from '../../types';\n\ntype Props = {\n  urlVisits: IUrlVisits[];\n};\n\nconst Description = styled.li`\n  color: #666 !important;\n`;\n\nconst Bolder = styled.span`\n  font-weight: 500;\n`;\n\nconst Count = styled.label`\n  color: #444;\n  margin-right: 7px;\n`;\n\nclass WebsiteActivity extends React.Component<Props> {\n  private totalVisits = 0;\n\n  constructor(props, context) {\n    super(props, context);\n\n    props.urlVisits.map(visitPage => {\n      return (this.totalVisits = this.totalVisits + visitPage.count);\n    });\n  }\n\n  renderContent() {\n    const { urlVisits } = this.props;\n\n    if (urlVisits.length === 0) {\n      return <EmptyState icon=\"chart-line\" text=\"No activity\" size=\"small\" />;\n    }\n\n    return (\n      <SidebarList className=\"no-link\">\n        <Description>{__('Most visited pages on your website')}</Description>\n        {this.props.urlVisits.map((data, index) => (\n          <li key={index}>\n            <FieldStyle>\n              <Bolder>{data.url}</Bolder>\n            </FieldStyle>\n            <SidebarCounter>\n              <Count>{data.count}</Count>(\n              {calculatePercentage(this.totalVisits, data.count)}%)\n            </SidebarCounter>\n          </li>\n        ))}\n      </SidebarList>\n    );\n  }\n\n  render() {\n    return (\n      <Box title={__('Website Activity')} name=\"webActivity\">\n        {this.renderContent()}\n      </Box>\n    );\n  }\n}\n\nexport default WebsiteActivity;\n"]},"metadata":{},"sourceType":"module"}