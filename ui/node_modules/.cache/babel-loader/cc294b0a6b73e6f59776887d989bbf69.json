{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/emailTemplates/components/Form.tsx\";\nimport FormControl from 'modules/common/components/form/Control';\nimport FormGroup from 'modules/common/components/form/Group';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport EditorCK from 'modules/common/containers/EditorCK';\nimport React from 'react';\nimport CommonForm from '../../common/components/Form';\n\nvar Form =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Form, _React$Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _this.onEditorChange = function (e) {\n      _this.setState({\n        content: e.editor.getData()\n      });\n    };\n\n    _this.generateDoc = function (values) {\n      var object = _this.props.object;\n      var finalValues = values;\n\n      if (object) {\n        finalValues._id = object._id;\n      }\n\n      return {\n        _id: finalValues._id,\n        name: finalValues.name,\n        content: _this.state.content\n      };\n    };\n\n    _this.renderContent = function (formProps) {\n      var object = _this.props.object || {};\n      return React.createElement(React.Fragment, null, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Name\"), React.createElement(FormControl, Object.assign({}, formProps, {\n        name: \"name\",\n        defaultValue: object.name,\n        type: \"text\",\n        required: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Content\"), React.createElement(EditorCK, {\n        content: _this.state.content,\n        onChange: _this.onEditorChange,\n        autoGrow: true,\n        name: \"emailTemplates_\".concat(object._id || 'create'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })));\n    };\n\n    _this.state = {\n      content: props.object && props.object.content || ''\n    };\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(CommonForm, Object.assign({}, this.props, {\n        name: \"email template\",\n        renderContent: this.renderContent,\n        generateDoc: this.generateDoc,\n        object: this.props.object,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nexport default Form;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/emailTemplates/components/Form.tsx"],"names":["FormControl","FormGroup","ControlLabel","EditorCK","React","CommonForm","Form","props","onEditorChange","e","setState","content","editor","getData","generateDoc","values","object","finalValues","_id","name","state","renderContent","formProps","Component"],"mappings":";;;;;;AAAA,OAAOA,WAAP,MAAwB,wCAAxB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,YAAP,MAAyB,sCAAzB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;;IAYMC,I;;;;;AACJ,gBAAYC,KAAZ,EAA0B;AAAA;;AAAA;;AACxB,8EAAMA,KAAN;;AADwB,UAQ1BC,cAR0B,GAQT,UAAAC,CAAC,EAAI;AACpB,YAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAEF,CAAC,CAACG,MAAF,CAASC,OAAT;AAAX,OAAd;AACD,KAVyB;;AAAA,UAY1BC,WAZ0B,GAYZ,UAACC,MAAD,EAA6D;AAAA,UACjEC,MADiE,GACtD,MAAKT,KADiD,CACjES,MADiE;AAEzE,UAAMC,WAAW,GAAGF,MAApB;;AAEA,UAAIC,MAAJ,EAAY;AACVC,QAAAA,WAAW,CAACC,GAAZ,GAAkBF,MAAM,CAACE,GAAzB;AACD;;AAED,aAAO;AACLA,QAAAA,GAAG,EAAED,WAAW,CAACC,GADZ;AAELC,QAAAA,IAAI,EAAEF,WAAW,CAACE,IAFb;AAGLR,QAAAA,OAAO,EAAE,MAAKS,KAAL,CAAWT;AAHf,OAAP;AAKD,KAzByB;;AAAA,UA2B1BU,aA3B0B,GA2BV,UAACC,SAAD,EAA2B;AACzC,UAAMN,MAAM,GAAG,MAAKT,KAAL,CAAWS,MAAX,IAAsB,EAArC;AAEA,aACE,0CACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAc,QAAA,QAAQ,EAAE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,WAAD,oBACMM,SADN;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,YAAY,EAAEN,MAAM,CAACG,IAHvB;AAIE,QAAA,IAAI,EAAC,MAJP;AAKE,QAAA,QAAQ,EAAE,IALZ;AAME,QAAA,SAAS,EAAE,IANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,CADF,EAaE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE,oBAAC,QAAD;AACE,QAAA,OAAO,EAAE,MAAKC,KAAL,CAAWT,OADtB;AAEE,QAAA,QAAQ,EAAE,MAAKH,cAFjB;AAGE,QAAA,QAAQ,EAAE,IAHZ;AAIE,QAAA,IAAI,2BAAoBQ,MAAM,CAACE,GAAP,IAAc,QAAlC,CAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAbF,CADF;AAyBD,KAvDyB;;AAGxB,UAAKE,KAAL,GAAa;AACXT,MAAAA,OAAO,EAAGJ,KAAK,CAACS,MAAN,IAAgBT,KAAK,CAACS,MAAN,CAAaL,OAA9B,IAA0C;AADxC,KAAb;AAHwB;AAMzB;;;;6BAmDQ;AACP,aACE,oBAAC,UAAD,oBACM,KAAKJ,KADX;AAEE,QAAA,IAAI,EAAC,gBAFP;AAGE,QAAA,aAAa,EAAE,KAAKc,aAHtB;AAIE,QAAA,WAAW,EAAE,KAAKP,WAJpB;AAKE,QAAA,MAAM,EAAE,KAAKP,KAAL,CAAWS,MALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AASD;;;;EApEgBZ,KAAK,CAACmB,S;;AAuEzB,eAAejB,IAAf","sourcesContent":["import FormControl from 'modules/common/components/form/Control';\nimport FormGroup from 'modules/common/components/form/Group';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport EditorCK from 'modules/common/containers/EditorCK';\nimport { IFormProps } from 'modules/common/types';\nimport React from 'react';\nimport CommonForm from '../../common/components/Form';\nimport { ICommonFormProps } from '../../common/types';\nimport { IEmailTemplate } from '../types';\n\ntype Props = {\n  object?: IEmailTemplate;\n} & ICommonFormProps;\n\ntype State = {\n  content: string;\n};\n\nclass Form extends React.Component<Props & ICommonFormProps, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: (props.object && props.object.content) || ''\n    };\n  }\n\n  onEditorChange = e => {\n    this.setState({ content: e.editor.getData() });\n  };\n\n  generateDoc = (values: { _id?: string; name: string; content: string }) => {\n    const { object } = this.props;\n    const finalValues = values;\n\n    if (object) {\n      finalValues._id = object._id;\n    }\n\n    return {\n      _id: finalValues._id,\n      name: finalValues.name,\n      content: this.state.content\n    };\n  };\n\n  renderContent = (formProps: IFormProps) => {\n    const object = this.props.object || ({} as IEmailTemplate);\n\n    return (\n      <>\n        <FormGroup>\n          <ControlLabel required={true}>Name</ControlLabel>\n          <FormControl\n            {...formProps}\n            name=\"name\"\n            defaultValue={object.name}\n            type=\"text\"\n            required={true}\n            autoFocus={true}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <ControlLabel>Content</ControlLabel>\n          <EditorCK\n            content={this.state.content}\n            onChange={this.onEditorChange}\n            autoGrow={true}\n            name={`emailTemplates_${object._id || 'create'}`}\n          />\n        </FormGroup>\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <CommonForm\n        {...this.props}\n        name=\"email template\"\n        renderContent={this.renderContent}\n        generateDoc={this.generateDoc}\n        object={this.props.object}\n      />\n    );\n  }\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}