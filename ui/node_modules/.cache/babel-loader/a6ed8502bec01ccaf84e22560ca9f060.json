{"ast":null,"code":"import _taggedTemplateLiteral from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/FilePreview.tsx\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 40px;\\n  width: 50px;\\n  background: \", \";\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 4px;\\n  overflow: hidden;\\n\\n  i {\\n    font-size: 26px;\\n    color: \", \";\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 10px 15px;\\n  display: flex;\\n  align-items: center;\\n  font-weight: 500;\\n  max-width: 320px;\\n  justify-content: space-between;\\n\\n  i {\\n    color: \", \";\\n    margin-left: 10px;\\n    font-size: 14px;\\n\\n    &:hover {\\n      color: \", \";\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  border-radius: 4px;\\n  transition: all 0.3s ease;\\n  display: flex;\\n  color: \", \";\\n  position: relative;\\n  background: \", \";\\n\\n  &:hover {\\n    background: \", \";\\n  }\\n\\n  img,\\n  video {\\n    max-width: 100%;\\n    max-height: 320px;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport ImageWithPreview from \"modules/common/components/ImageWithPreview\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { rgba } from \"../styles/color\";\nimport colors from \"../styles/colors\";\nvar Wrapper = styled.a(_templateObject(), colors.textPrimary, rgba(colors.colorCoreDarkBlue, 0.04), rgba(colors.colorCoreDarkBlue, 0.08));\nvar Content = styled.div(_templateObject2(), colors.colorCoreGray, colors.colorCoreBlack);\nvar IconWrapper = styled.div(_templateObject3(), rgba(colors.colorCoreDarkBlue, 0.08), colors.colorSecondary);\nvar Name = styled.span(_templateObject4());\nexport default function FilePreview(_ref) {\n  var fileUrl = _ref.fileUrl,\n      fileName = _ref.fileName;\n\n  if (!fileUrl) {\n    return null;\n  }\n\n  var renderFile = function renderFile(icon) {\n    var attr = {\n      rel: \"noopener noreferrer\",\n      href: fileUrl,\n      target: \"_blank\"\n    };\n    return React.createElement(Wrapper, Object.assign({}, attr, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(IconWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      icon: icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Name, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, fileName || fileUrl), React.createElement(Icon, {\n      icon: \"down-arrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })));\n  };\n\n  var renderVideo = function renderVideo() {\n    return React.createElement(Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"video\", {\n      controls: true,\n      loop: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: fileUrl,\n      type: \"video/mp4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), \"Your browser does not support the video tag.\")));\n  };\n\n  var renderImagePreview = function renderImagePreview() {\n    return React.createElement(Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(ImageWithPreview, {\n      alt: fileName || fileUrl,\n      src: fileUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }));\n  };\n\n  var fileExtension = fileUrl.split(\".\").pop();\n  var filePreview;\n\n  switch (fileExtension) {\n    case \"docx\":\n      filePreview = renderFile(\"doc\");\n      break;\n\n    case \"pptx\":\n      filePreview = renderFile(\"ppt\");\n      break;\n\n    case \"xlsx\":\n      filePreview = renderFile(\"xls\");\n      break;\n\n    case \"mp4\":\n      filePreview = renderVideo();\n      break;\n\n    case \"jpeg\":\n    case \"jpg\":\n    case \"gif\":\n    case \"png\":\n      filePreview = renderImagePreview();\n      break;\n\n    case \"zip\":\n    case \"csv\":\n    case \"doc\":\n    case \"ppt\":\n    case \"psd\":\n    case \"avi\":\n    case \"txt\":\n    case \"rar\":\n    case \"mp3\":\n    case \"pdf\":\n    case \"xls\":\n      filePreview = renderFile(fileExtension);\n      break;\n\n    default:\n      filePreview = renderFile(\"file-2\");\n  }\n\n  return filePreview;\n}","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/FilePreview.tsx"],"names":["ImageWithPreview","Icon","React","styled","rgba","colors","Wrapper","a","textPrimary","colorCoreDarkBlue","Content","div","colorCoreGray","colorCoreBlack","IconWrapper","colorSecondary","Name","span","FilePreview","fileUrl","fileName","renderFile","icon","attr","rel","href","target","renderVideo","renderImagePreview","fileExtension","split","pop","filePreview"],"mappings":"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","sourcesContent":["import ImageWithPreview from \"modules/common/components/ImageWithPreview\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { rgba } from \"../styles/color\";\nimport colors from \"../styles/colors\";\n\nconst Wrapper = styled.a`\n  border-radius: 4px;\n  transition: all 0.3s ease;\n  display: flex;\n  color: ${colors.textPrimary};\n  position: relative;\n  background: ${rgba(colors.colorCoreDarkBlue, 0.04)};\n\n  &:hover {\n    background: ${rgba(colors.colorCoreDarkBlue, 0.08)};\n  }\n\n  img,\n  video {\n    max-width: 100%;\n    max-height: 320px;\n  }\n`;\n\nconst Content = styled.div`\n  flex: 1;\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  max-width: 320px;\n  justify-content: space-between;\n\n  i {\n    color: ${colors.colorCoreGray};\n    margin-left: 10px;\n    font-size: 14px;\n\n    &:hover {\n      color: ${colors.colorCoreBlack};\n    }\n  }\n`;\n\nconst IconWrapper = styled.div`\n  height: 40px;\n  width: 50px;\n  background: ${rgba(colors.colorCoreDarkBlue, 0.08)};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  overflow: hidden;\n\n  i {\n    font-size: 26px;\n    color: ${colors.colorSecondary};\n  }\n`;\n\nconst Name = styled.span`\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\ntype Props = {\n  fileUrl: string;\n  fileName?: string;\n};\n\nexport default function FilePreview({ fileUrl, fileName }: Props) {\n  if (!fileUrl) {\n    return null;\n  }\n\n  const renderFile = (icon: string) => {\n    const attr = {\n      rel: \"noopener noreferrer\",\n      href: fileUrl,\n      target: \"_blank\",\n    };\n\n    return (\n      <Wrapper {...attr}>\n        <IconWrapper>\n          <Icon icon={icon} />\n        </IconWrapper>\n        <Content>\n          <Name>{fileName || fileUrl}</Name>\n          <Icon icon=\"down-arrow\" />\n        </Content>\n      </Wrapper>\n    );\n  };\n\n  const renderVideo = () => {\n    return (\n      <Wrapper>\n        <Content>\n          <video controls={true} loop={true}>\n            <source src={fileUrl} type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n        </Content>\n      </Wrapper>\n    );\n  };\n\n  const renderImagePreview = () => {\n    return (\n      <Wrapper>\n        <ImageWithPreview alt={fileName || fileUrl} src={fileUrl} />\n      </Wrapper>\n    );\n  };\n\n  const fileExtension = fileUrl.split(\".\").pop();\n\n  let filePreview;\n\n  switch (fileExtension) {\n    case \"docx\":\n      filePreview = renderFile(\"doc\");\n      break;\n    case \"pptx\":\n      filePreview = renderFile(\"ppt\");\n      break;\n    case \"xlsx\":\n      filePreview = renderFile(\"xls\");\n      break;\n    case \"mp4\":\n      filePreview = renderVideo();\n      break;\n    case \"jpeg\":\n    case \"jpg\":\n    case \"gif\":\n    case \"png\":\n      filePreview = renderImagePreview();\n      break;\n    case \"zip\":\n    case \"csv\":\n    case \"doc\":\n    case \"ppt\":\n    case \"psd\":\n    case \"avi\":\n    case \"txt\":\n    case \"rar\":\n    case \"mp3\":\n    case \"pdf\":\n    case \"xls\":\n      filePreview = renderFile(fileExtension);\n      break;\n    default:\n      filePreview = renderFile(\"file-2\");\n  }\n\n  return filePreview;\n}\n"]},"metadata":{},"sourceType":"module"}