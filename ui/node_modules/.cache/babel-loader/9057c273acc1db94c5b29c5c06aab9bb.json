{"ast":null,"code":"import _objectSpread from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/permissions/components/PermissionRow.tsx\";\nimport ActionButtons from 'erxes-common-ui/lib/components/actionButtons';\nimport Button from 'erxes-common-ui/lib/components/button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport TextInfo from 'modules/common/components/TextInfo';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport React from 'react';\nimport { Capitalize } from '../styles';\nimport PermissionForm from './PermissionForm';\nimport { filterActions } from './utils';\n\nvar PermissionRow =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PermissionRow, _React$Component);\n\n  function PermissionRow() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PermissionRow);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PermissionRow)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderForm = function (props) {\n      var _this$props = _this.props,\n          modules = _this$props.modules,\n          actions = _this$props.actions,\n          groups = _this$props.groups,\n          permission = _this$props.permission,\n          refetchQueries = _this$props.refetchQueries;\n\n      var extendedProps = _objectSpread({}, props, {\n        modules: modules,\n        actions: actions,\n        groups: groups,\n        refetchQueries: refetchQueries,\n        permission: permission\n      });\n\n      return React.createElement(PermissionForm, Object.assign({}, extendedProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(PermissionRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          permission = _this$props2.permission,\n          actions = _this$props2.actions,\n          removeItem = _this$props2.removeItem;\n      var permissionAction = filterActions(actions, permission.module).filter(function (action) {\n        return action.value === permission.action;\n      });\n      return React.createElement(\"tr\", {\n        key: permission._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Capitalize, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, permission.module)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, permissionAction.map(function (action) {\n        return action.label;\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, permission.user ? permission.user.email : ''), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, permission.group ? permission.group.name : ''), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, permission.allowed ? React.createElement(TextInfo, {\n        textStyle: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, __('Allowed')) : React.createElement(TextInfo, {\n        textStyle: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, __('Not Allowed'))), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(ActionButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: \"Delete\",\n        placement: \"top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Button, {\n        btnStyle: \"link\",\n        onClick: removeItem.bind(null, permission._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"times-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return PermissionRow;\n}(React.Component);\n\nexport default PermissionRow;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/permissions/components/PermissionRow.tsx"],"names":["ActionButtons","Button","Icon","TextInfo","Tip","__","React","Capitalize","PermissionForm","filterActions","PermissionRow","renderForm","props","modules","actions","groups","permission","refetchQueries","extendedProps","removeItem","permissionAction","module","filter","action","value","_id","map","label","user","email","group","name","allowed","bind","Component"],"mappings":"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","sourcesContent":["import ActionButtons from 'erxes-common-ui/lib/components/actionButtons';\nimport Button from 'erxes-common-ui/lib/components/button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport TextInfo from 'modules/common/components/TextInfo';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport React from 'react';\nimport { Capitalize } from '../styles';\nimport { IActions, IModule, IPermissionDocument, IUserGroup } from '../types';\nimport PermissionForm from './PermissionForm';\nimport { filterActions } from './utils';\n\ntype Props = {\n  actions: IActions[];\n  permission: IPermissionDocument;\n  removeItem: (id: string) => void;\n  modules: IModule[];\n  groups: IUserGroup[];\n  refetchQueries: any;\n};\n\nclass PermissionRow extends React.Component<Props> {\n  renderForm = props => {\n    const { modules, actions, groups, permission, refetchQueries } = this.props;\n\n    const extendedProps = {\n      ...props,\n      modules,\n      actions,\n      groups,\n      refetchQueries,\n      permission\n    };\n\n    return <PermissionForm {...extendedProps} />;\n  };\n\n  render() {\n    const { permission, actions, removeItem } = this.props;\n\n    const permissionAction = filterActions(actions, permission.module).filter(\n      action => action.value === permission.action\n    );\n\n    return (\n      <tr key={permission._id}>\n        <td>\n          <Capitalize>{permission.module}</Capitalize>\n        </td>\n        <td>{permissionAction.map(action => action.label)}</td>\n        <td>{permission.user ? permission.user.email : ''}</td>\n        <td>{permission.group ? permission.group.name : ''}</td>\n        <td>\n          {permission.allowed ? (\n            <TextInfo textStyle=\"success\">{__('Allowed')}</TextInfo>\n          ) : (\n            <TextInfo textStyle=\"danger\">{__('Not Allowed')}</TextInfo>\n          )}\n        </td>\n        <td>\n          <ActionButtons>\n            <Tip text=\"Delete\" placement=\"top\">\n              <Button\n                btnStyle=\"link\"\n                onClick={removeItem.bind(null, permission._id)}\n              >\n                <Icon icon=\"times-circle\" />\n              </Button>\n            </Tip>\n          </ActionButtons>\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport default PermissionRow;\n"]},"metadata":{},"sourceType":"module"}