{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/productService/components/productCategory/CategoryList.tsx\";\nimport Button from \"erxes-common-ui/lib/components/button\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport DataWithLoader from \"modules/common/components/DataWithLoader\";\nimport ModalTrigger from \"modules/common/components/ModalTrigger\";\nimport Tip from \"modules/common/components/Tip\";\nimport { TopHeader } from \"modules/common/styles/main\";\nimport { __, router } from \"modules/common/utils\";\nimport Sidebar from \"modules/layout/components/Sidebar\";\nimport Wrapper from \"modules/layout/components/Wrapper\";\nimport { SidebarList } from \"modules/layout/styles\";\nimport { ActionButtons, SidebarListItem } from \"modules/settings/styles\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CategoryForm from \"../../containers/productCategory/CategoryForm\";\nimport TagFilter from \"../../containers/TagFilter\";\nimport ProductTypeFilter from \"../product/filters/ProdcutTypeFilter\";\nvar Section = Wrapper.Sidebar.Section;\n\nvar List =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(List, _React$Component);\n\n  function List() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, List);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(List)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.clearCategoryFilter = function () {\n      router.setParams(_this.props.history, {\n        categoryId: null\n      });\n    };\n\n    _this.isActive = function (id) {\n      var queryParams = _this.props.queryParams;\n      var currentGroup = queryParams.categoryId || \"\";\n      return currentGroup === id;\n    };\n\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"renderFormTrigger\",\n    value: function renderFormTrigger(trigger, category) {\n      var _this2 = this;\n\n      var content = function content(props) {\n        return React.createElement(CategoryForm, Object.assign({}, props, {\n          category: category,\n          categories: _this2.props.productCategories,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }));\n      };\n\n      return React.createElement(ModalTrigger, {\n        title: \"Add category\",\n        trigger: trigger,\n        content: content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"renderEditAction\",\n    value: function renderEditAction(category) {\n      var trigger = React.createElement(Button, {\n        btnStyle: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: __(\"Edit\"),\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })));\n      return this.renderFormTrigger(trigger, category);\n    }\n  }, {\n    key: \"renderRemoveAction\",\n    value: function renderRemoveAction(category) {\n      var remove = this.props.remove;\n      return React.createElement(Button, {\n        btnStyle: \"link\",\n        onClick: remove.bind(null, category._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: __(\"Remove\"),\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"cancel-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var productCategories = this.props.productCategories;\n      var result = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = productCategories[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var category = _step.value;\n          var order = category.order;\n          var m = order.match(/[/]/gi);\n          var space = \"\";\n\n          if (m) {\n            space = \"\\xA0\\xA0\".repeat(m.length);\n          }\n\n          var name = category.isRoot ? \"\".concat(category.name, \" (\").concat(category.productCount, \")\") : React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, category.name, \" (\", category.productCount, \")\");\n          result.push(React.createElement(SidebarListItem, {\n            key: category._id,\n            isActive: this.isActive(category._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"?categoryId=\".concat(category._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, space, name), React.createElement(ActionButtons, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, this.renderEditAction(category), this.renderRemoveAction(category))));\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderCategoryHeader\",\n    value: function renderCategoryHeader() {\n      var trigger = React.createElement(Button, {\n        btnStyle: \"success\",\n        uppercase: false,\n        icon: \"plus-circle\",\n        block: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Add category\");\n      return React.createElement(React.Fragment, null, React.createElement(TopHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, this.renderFormTrigger(trigger)), React.createElement(Section.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, __(\"Categories\"), React.createElement(Section.QuickButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, router.getParam(this.props.history, \"categoryId\") && React.createElement(\"a\", {\n        href: \"#cancel\",\n        tabIndex: 0,\n        onClick: this.clearCategoryFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: __(\"Clear filter\"),\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"cancel-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }))))));\n    }\n  }, {\n    key: \"renderCategoryList\",\n    value: function renderCategoryList() {\n      var _this$props = this.props,\n          productCategoriesCount = _this$props.productCategoriesCount,\n          loading = _this$props.loading;\n      return React.createElement(SidebarList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(DataWithLoader, {\n        data: this.renderContent(),\n        loading: loading,\n        count: productCategoriesCount,\n        emptyText: \"There is no product & service category\",\n        emptyIcon: \"folder-2\",\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Sidebar, {\n        wide: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Section, {\n        maxHeight: 488,\n        collapsible: this.props.productCategoriesCount > 9,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.renderCategoryHeader(), this.renderCategoryList()), React.createElement(ProductTypeFilter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), React.createElement(TagFilter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return List;\n}(React.Component);\n\nexport default List;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/productService/components/productCategory/CategoryList.tsx"],"names":["Button","Icon","DataWithLoader","ModalTrigger","Tip","TopHeader","__","router","Sidebar","Wrapper","SidebarList","ActionButtons","SidebarListItem","React","Link","CategoryForm","TagFilter","ProductTypeFilter","Section","List","clearCategoryFilter","setParams","props","history","categoryId","isActive","id","queryParams","currentGroup","trigger","category","content","productCategories","renderFormTrigger","remove","bind","_id","result","order","m","match","space","repeat","length","name","isRoot","productCount","push","renderEditAction","renderRemoveAction","getParam","productCategoriesCount","loading","renderContent","renderCategoryHeader","renderCategoryList","Component"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,uCAAnB;AACA,OAAOC,IAAP,MAAiB,qCAAjB;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,OAAOC,GAAP,MAAgB,+BAAhB;AACA,SAASC,SAAT,QAA0B,4BAA1B;AACA,SAASC,EAAT,EAAaC,MAAb,QAA2B,sBAA3B;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,aAAT,EAAwBC,eAAxB,QAA+C,yBAA/C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,YAAP,MAAyB,+CAAzB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AAEA,OAAOC,iBAAP,MAA8B,sCAA9B;IAEQC,O,GAAYT,OAAO,CAACD,O,CAApBU,O;;IAYFC,I;;;;;;;;;;;;;;;;;;UAeJC,mB,GAAsB,YAAM;AAC1Bb,MAAAA,MAAM,CAACc,SAAP,CAAiB,MAAKC,KAAL,CAAWC,OAA5B,EAAqC;AAAEC,QAAAA,UAAU,EAAE;AAAd,OAArC;AACD,K;;UAEDC,Q,GAAW,UAACC,EAAD,EAAgB;AAAA,UACjBC,WADiB,GACD,MAAKL,KADJ,CACjBK,WADiB;AAEzB,UAAMC,YAAY,GAAGD,WAAW,CAACH,UAAZ,IAA0B,EAA/C;AAEA,aAAOI,YAAY,KAAKF,EAAxB;AACD,K;;;;;;;sCAvBiBG,O,EAA0BC,Q,EAA6B;AAAA;;AACvE,UAAMC,OAAO,GAAG,SAAVA,OAAU,CAACT,KAAD;AAAA,eACd,oBAAC,YAAD,oBACMA,KADN;AAEE,UAAA,QAAQ,EAAEQ,QAFZ;AAGE,UAAA,UAAU,EAAE,MAAI,CAACR,KAAL,CAAWU,iBAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADc;AAAA,OAAhB;;AAQA,aACE,oBAAC,YAAD;AAAc,QAAA,KAAK,EAAC,cAApB;AAAmC,QAAA,OAAO,EAAEH,OAA5C;AAAqD,QAAA,OAAO,EAAEE,OAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;;;qCAagBD,Q,EAA4B;AAC3C,UAAMD,OAAO,GACX,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAEvB,EAAE,CAAC,MAAD,CAAb;AAAuB,QAAA,SAAS,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF;AAQA,aAAO,KAAK2B,iBAAL,CAAuBJ,OAAvB,EAAgCC,QAAhC,CAAP;AACD;;;uCAEkBA,Q,EAA4B;AAAA,UACrCI,MADqC,GAC1B,KAAKZ,KADqB,CACrCY,MADqC;AAG7C,aACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,MAAjB;AAAwB,QAAA,OAAO,EAAEA,MAAM,CAACC,IAAP,CAAY,IAAZ,EAAkBL,QAAQ,CAACM,GAA3B,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAE9B,EAAE,CAAC,QAAD,CAAb;AAAyB,QAAA,SAAS,EAAC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF;AAOD;;;oCAEe;AAAA,UACN0B,iBADM,GACgB,KAAKV,KADrB,CACNU,iBADM;AAGd,UAAMK,MAAyB,GAAG,EAAlC;AAHc;AAAA;AAAA;;AAAA;AAKd,6BAAuBL,iBAAvB,8HAA0C;AAAA,cAA/BF,QAA+B;AACxC,cAAMQ,KAAK,GAAGR,QAAQ,CAACQ,KAAvB;AAEA,cAAMC,CAAC,GAAGD,KAAK,CAACE,KAAN,CAAY,OAAZ,CAAV;AAEA,cAAIC,KAAK,GAAG,EAAZ;;AAEA,cAAIF,CAAJ,EAAO;AACLE,YAAAA,KAAK,GAAG,WAAeC,MAAf,CAAsBH,CAAC,CAACI,MAAxB,CAAR;AACD;;AAED,cAAMC,IAAI,GAAGd,QAAQ,CAACe,MAAT,aACRf,QAAQ,CAACc,IADD,eACUd,QAAQ,CAACgB,YADnB,SAGX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACGhB,QAAQ,CAACc,IADZ,QACoBd,QAAQ,CAACgB,YAD7B,MAHF;AAQAT,UAAAA,MAAM,CAACU,IAAP,CACE,oBAAC,eAAD;AACE,YAAA,GAAG,EAAEjB,QAAQ,CAACM,GADhB;AAEE,YAAA,QAAQ,EAAE,KAAKX,QAAL,CAAcK,QAAQ,CAACM,GAAvB,CAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAIE,oBAAC,IAAD;AAAM,YAAA,EAAE,wBAAiBN,QAAQ,CAACM,GAA1B,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACGK,KADH,EAEGG,IAFH,CAJF,EAQE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACG,KAAKI,gBAAL,CAAsBlB,QAAtB,CADH,EAEG,KAAKmB,kBAAL,CAAwBnB,QAAxB,CAFH,CARF,CADF;AAeD;AAvCa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAyCd,aAAOO,MAAP;AACD;;;2CAEsB;AACrB,UAAMR,OAAO,GACX,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAC,SADX;AAEE,QAAA,SAAS,EAAE,KAFb;AAGE,QAAA,IAAI,EAAC,aAHP;AAIE,QAAA,KAAK,EAAE,IAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF;AAWA,aACE,0CACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY,KAAKI,iBAAL,CAAuBJ,OAAvB,CAAZ,CADF,EAEE,oBAAC,OAAD,CAAS,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGvB,EAAE,CAAC,YAAD,CADL,EAEE,oBAAC,OAAD,CAAS,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,MAAM,CAAC2C,QAAP,CAAgB,KAAK5B,KAAL,CAAWC,OAA3B,EAAoC,YAApC,KACC;AAAG,QAAA,IAAI,EAAC,SAAR;AAAkB,QAAA,QAAQ,EAAE,CAA5B;AAA+B,QAAA,OAAO,EAAE,KAAKH,mBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAEd,EAAE,CAAC,cAAD,CAAb;AAA+B,QAAA,SAAS,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAFJ,CAFF,CAFF,CADF;AAiBD;;;yCAEoB;AAAA,wBACyB,KAAKgB,KAD9B;AAAA,UACX6B,sBADW,eACXA,sBADW;AAAA,UACaC,OADb,eACaA,OADb;AAGnB,aACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AACE,QAAA,IAAI,EAAE,KAAKC,aAAL,EADR;AAEE,QAAA,OAAO,EAAED,OAFX;AAGE,QAAA,KAAK,EAAED,sBAHT;AAIE,QAAA,SAAS,EAAC,wCAJZ;AAKE,QAAA,SAAS,EAAC,UALZ;AAME,QAAA,IAAI,EAAC,OANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAYD;;;6BAEQ;AACP,aACE,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAE,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AACE,QAAA,SAAS,EAAE,GADb;AAEE,QAAA,WAAW,EAAE,KAAK7B,KAAL,CAAW6B,sBAAX,GAAoC,CAFnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG,KAAKG,oBAAL,EAJH,EAKG,KAAKC,kBAAL,EALH,CADF,EAQE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,EASE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADF;AAaD;;;;EA5JgB1C,KAAK,CAAC2C,S;;AA+JzB,eAAerC,IAAf","sourcesContent":["import Button from \"erxes-common-ui/lib/components/button\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport DataWithLoader from \"modules/common/components/DataWithLoader\";\nimport ModalTrigger from \"modules/common/components/ModalTrigger\";\nimport Tip from \"modules/common/components/Tip\";\nimport { TopHeader } from \"modules/common/styles/main\";\nimport { __, router } from \"modules/common/utils\";\nimport Sidebar from \"modules/layout/components/Sidebar\";\nimport Wrapper from \"modules/layout/components/Wrapper\";\nimport { SidebarList } from \"modules/layout/styles\";\nimport { ActionButtons, SidebarListItem } from \"modules/settings/styles\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CategoryForm from \"../../containers/productCategory/CategoryForm\";\nimport TagFilter from \"../../containers/TagFilter\";\nimport { IProductCategory } from \"../../types\";\nimport ProductTypeFilter from \"../product/filters/ProdcutTypeFilter\";\n\nconst { Section } = Wrapper.Sidebar;\n\ninterface IProps {\n  history: any;\n  queryParams: any;\n  refetch: any;\n  remove: (productCategoryId: string) => void;\n  productCategories: IProductCategory[];\n  productCategoriesCount: number;\n  loading: boolean;\n}\n\nclass List extends React.Component<IProps> {\n  renderFormTrigger(trigger: React.ReactNode, category?: IProductCategory) {\n    const content = (props) => (\n      <CategoryForm\n        {...props}\n        category={category}\n        categories={this.props.productCategories}\n      />\n    );\n\n    return (\n      <ModalTrigger title=\"Add category\" trigger={trigger} content={content} />\n    );\n  }\n\n  clearCategoryFilter = () => {\n    router.setParams(this.props.history, { categoryId: null });\n  };\n\n  isActive = (id: string) => {\n    const { queryParams } = this.props;\n    const currentGroup = queryParams.categoryId || \"\";\n\n    return currentGroup === id;\n  };\n\n  renderEditAction(category: IProductCategory) {\n    const trigger = (\n      <Button btnStyle=\"link\">\n        <Tip text={__(\"Edit\")} placement=\"bottom\">\n          <Icon icon=\"edit\" />\n        </Tip>\n      </Button>\n    );\n\n    return this.renderFormTrigger(trigger, category);\n  }\n\n  renderRemoveAction(category: IProductCategory) {\n    const { remove } = this.props;\n\n    return (\n      <Button btnStyle=\"link\" onClick={remove.bind(null, category._id)}>\n        <Tip text={__(\"Remove\")} placement=\"bottom\">\n          <Icon icon=\"cancel-1\" />\n        </Tip>\n      </Button>\n    );\n  }\n\n  renderContent() {\n    const { productCategories } = this.props;\n\n    const result: React.ReactNode[] = [];\n\n    for (const category of productCategories) {\n      const order = category.order;\n\n      const m = order.match(/[/]/gi);\n\n      let space = \"\";\n\n      if (m) {\n        space = \"\\u00a0\\u00a0\".repeat(m.length);\n      }\n\n      const name = category.isRoot ? (\n        `${category.name} (${category.productCount})`\n      ) : (\n        <span>\n          {category.name} ({category.productCount})\n        </span>\n      );\n\n      result.push(\n        <SidebarListItem\n          key={category._id}\n          isActive={this.isActive(category._id)}\n        >\n          <Link to={`?categoryId=${category._id}`}>\n            {space}\n            {name}\n          </Link>\n          <ActionButtons>\n            {this.renderEditAction(category)}\n            {this.renderRemoveAction(category)}\n          </ActionButtons>\n        </SidebarListItem>\n      );\n    }\n\n    return result;\n  }\n\n  renderCategoryHeader() {\n    const trigger = (\n      <Button\n        btnStyle=\"success\"\n        uppercase={false}\n        icon=\"plus-circle\"\n        block={true}\n      >\n        Add category\n      </Button>\n    );\n\n    return (\n      <>\n        <TopHeader>{this.renderFormTrigger(trigger)}</TopHeader>\n        <Section.Title>\n          {__(\"Categories\")}\n          <Section.QuickButtons>\n            {router.getParam(this.props.history, \"categoryId\") && (\n              <a href=\"#cancel\" tabIndex={0} onClick={this.clearCategoryFilter}>\n                <Tip text={__(\"Clear filter\")} placement=\"bottom\">\n                  <Icon icon=\"cancel-1\" />\n                </Tip>\n              </a>\n            )}\n          </Section.QuickButtons>\n        </Section.Title>\n      </>\n    );\n  }\n\n  renderCategoryList() {\n    const { productCategoriesCount, loading } = this.props;\n\n    return (\n      <SidebarList>\n        <DataWithLoader\n          data={this.renderContent()}\n          loading={loading}\n          count={productCategoriesCount}\n          emptyText=\"There is no product & service category\"\n          emptyIcon=\"folder-2\"\n          size=\"small\"\n        />\n      </SidebarList>\n    );\n  }\n\n  render() {\n    return (\n      <Sidebar wide={true}>\n        <Section\n          maxHeight={488}\n          collapsible={this.props.productCategoriesCount > 9}\n        >\n          {this.renderCategoryHeader()}\n          {this.renderCategoryList()}\n        </Section>\n        <ProductTypeFilter />\n        <TagFilter />\n      </Sidebar>\n    );\n  }\n}\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}