{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/items/checklist/ChecklistLog.tsx\";\nimport dayjs from 'dayjs';\nimport { ActivityDate, FlexBody, FlexCenterContent, Header, ShowMore } from 'modules/activityLogs/styles';\nimport Tip from 'modules/common/components/Tip';\nimport { renderUserFullName } from 'modules/common/utils';\nimport React from 'react';\nimport CheckListItem from './ChecklistItem';\n\nvar ChecklistLog =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ChecklistLog, _React$Component);\n\n  function ChecklistLog(props) {\n    var _this;\n\n    _classCallCheck(this, ChecklistLog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChecklistLog).call(this, props));\n\n    _this.onCollapse = function () {\n      _this.setState({\n        toggleItems: !_this.state.toggleItems\n      });\n    };\n\n    _this.renderItem = function () {\n      var checklistItemActivity = _this.props.checklistItemActivity;\n      var rows = [];\n      checklistItemActivity.forEach(function (acitivity) {\n        rows.push(React.createElement(CheckListItem, {\n          key: Math.random(),\n          activity: acitivity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }));\n      });\n      return rows;\n    };\n\n    _this.state = {\n      toggleItems: false\n    };\n    return _this;\n  }\n\n  _createClass(ChecklistLog, [{\n    key: \"render\",\n    value: function render() {\n      var activity = this.props.activity;\n      var contentTypeDetail = activity.contentTypeDetail,\n          content = activity.content,\n          action = activity.action,\n          contentType = activity.contentType,\n          createdByDetail = activity.createdByDetail,\n          createdAt = activity.createdAt;\n      var userName = 'Unknown';\n\n      if (createdByDetail && createdByDetail.type === 'user') {\n        userName = renderUserFullName(createdByDetail.content);\n      }\n\n      var checklistName = contentTypeDetail.title || content.name;\n\n      if (this.state.toggleItems) {\n        return React.createElement(React.Fragment, null, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, checklistName), \"`s details\", ' ', React.createElement(ShowMore, {\n          onClick: this.onCollapse,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, \"hide\")), this.renderItem());\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(FlexCenterContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(FlexBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, ' ', React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, userName), \" \", action, \"d\\xA0\", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, checklistName), \" \", contentType, \"\\xA0\", React.createElement(ShowMore, {\n        onClick: this.onCollapse,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"show details\"))), React.createElement(Tip, {\n        text: dayjs(createdAt).format('llll'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(ActivityDate, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, dayjs(createdAt).format('MMM D, h:mm A')))));\n    }\n  }]);\n\n  return ChecklistLog;\n}(React.Component);\n\nexport default ChecklistLog;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/items/checklist/ChecklistLog.tsx"],"names":["dayjs","ActivityDate","FlexBody","FlexCenterContent","Header","ShowMore","Tip","renderUserFullName","React","CheckListItem","ChecklistLog","props","onCollapse","setState","toggleItems","state","renderItem","checklistItemActivity","rows","forEach","acitivity","push","Math","random","activity","contentTypeDetail","content","action","contentType","createdByDetail","createdAt","userName","type","checklistName","title","name","format","Component"],"mappings":"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","sourcesContent":["import dayjs from 'dayjs';\nimport {\n  ActivityDate,\n  FlexBody,\n  FlexCenterContent,\n  Header,\n  ShowMore\n} from 'modules/activityLogs/styles';\nimport { IActivityLog } from 'modules/activityLogs/types';\nimport Tip from 'modules/common/components/Tip';\nimport { renderUserFullName } from 'modules/common/utils';\nimport React from 'react';\nimport CheckListItem from './ChecklistItem';\n\ntype Props = {\n  activity: IActivityLog;\n  checklistItemActivity: IActivityLog[];\n};\n\nclass ChecklistLog extends React.Component<Props, { toggleItems: boolean }> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      toggleItems: false\n    };\n  }\n\n  onCollapse = () => {\n    this.setState({ toggleItems: !this.state.toggleItems });\n  };\n\n  renderItem = () => {\n    const { checklistItemActivity } = this.props;\n\n    const rows: React.ReactNode[] = [];\n\n    checklistItemActivity.forEach(acitivity => {\n      rows.push(<CheckListItem key={Math.random()} activity={acitivity} />);\n    });\n\n    return rows;\n  };\n\n  render() {\n    const { activity } = this.props;\n    const {\n      contentTypeDetail,\n      content,\n      action,\n      contentType,\n      createdByDetail,\n      createdAt\n    } = activity;\n\n    let userName = 'Unknown';\n\n    if (createdByDetail && createdByDetail.type === 'user') {\n      userName = renderUserFullName(createdByDetail.content);\n    }\n\n    const checklistName = contentTypeDetail.title || content.name;\n\n    if (this.state.toggleItems) {\n      return (\n        <>\n          <Header>\n            <strong>{checklistName}</strong>`s details{' '}\n            <ShowMore onClick={this.onCollapse}>hide</ShowMore>\n          </Header>\n\n          {this.renderItem()}\n        </>\n      );\n    }\n\n    return (\n      <>\n        <FlexCenterContent>\n          <FlexBody>\n            {' '}\n            <span>\n              <strong>{userName}</strong> {action}d&nbsp;\n              <strong>{checklistName}</strong> {contentType}&nbsp;\n              <ShowMore onClick={this.onCollapse}>show details</ShowMore>\n            </span>\n          </FlexBody>\n          <Tip text={dayjs(createdAt).format('llll')}>\n            <ActivityDate>\n              {dayjs(createdAt).format('MMM D, h:mm A')}\n            </ActivityDate>\n          </Tip>\n        </FlexCenterContent>\n      </>\n    );\n  }\n}\n\nexport default ChecklistLog;\n"]},"metadata":{},"sourceType":"module"}