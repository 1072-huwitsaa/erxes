{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/channels/components/ChannelRow.tsx\";\nimport Button from 'modules/common/components/Button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport { FieldStyle } from 'modules/layout/styles';\nimport { ActionButtons, SidebarListItem } from 'modules/settings/styles';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport ChannelForm from '../containers/ChannelForm';\nimport MemberAvatars from './MemberAvatars';\n\nvar ChannelRow =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ChannelRow, _React$Component);\n\n  function ChannelRow() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ChannelRow);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ChannelRow)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.remove = function () {\n      var _this$props = _this.props,\n          remove = _this$props.remove,\n          channel = _this$props.channel;\n      remove(channel._id);\n    };\n\n    _this.renderEditAction = function () {\n      var _this$props2 = _this.props,\n          channel = _this$props2.channel,\n          renderButton = _this$props2.renderButton;\n      var editTrigger = React.createElement(Button, {\n        btnStyle: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        text: __('Edit'),\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      })));\n\n      var content = function content(props) {\n        return React.createElement(ChannelForm, Object.assign({}, props, {\n          channel: channel,\n          renderButton: renderButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }));\n      };\n\n      return React.createElement(ModalTrigger, {\n        title: \"Edit\",\n        trigger: editTrigger,\n        content: content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ChannelRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          channel = _this$props3.channel,\n          isActive = _this$props3.isActive,\n          members = _this$props3.members;\n      var selectedMemberIds = channel.memberIds || [];\n      return React.createElement(SidebarListItem, {\n        key: channel._id,\n        isActive: isActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"?_id=\".concat(channel._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(FieldStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, channel.name, React.createElement(MemberAvatars, {\n        allMembers: members,\n        selectedMemberIds: selectedMemberIds,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }))), React.createElement(ActionButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.renderEditAction(), React.createElement(Tip, {\n        text: \"Delete\",\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Button, {\n        btnStyle: \"link\",\n        onClick: this.remove,\n        icon: \"cancel-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ChannelRow;\n}(React.Component);\n\nexport default ChannelRow;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/channels/components/ChannelRow.tsx"],"names":["Button","Icon","ModalTrigger","Tip","__","FieldStyle","ActionButtons","SidebarListItem","React","Link","ChannelForm","MemberAvatars","ChannelRow","remove","props","channel","_id","renderEditAction","renderButton","editTrigger","content","isActive","members","selectedMemberIds","memberIds","name","Component"],"mappings":"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","sourcesContent":["import { IUser } from 'modules/auth/types';\nimport Button from 'modules/common/components/Button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Tip from 'modules/common/components/Tip';\nimport { IButtonMutateProps } from 'modules/common/types';\nimport { __ } from 'modules/common/utils';\nimport { FieldStyle } from 'modules/layout/styles';\nimport { ActionButtons, SidebarListItem } from 'modules/settings/styles';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport ChannelForm from '../containers/ChannelForm';\nimport { IChannel } from '../types';\nimport MemberAvatars from './MemberAvatars';\n\ntype Props = {\n  channel: IChannel;\n  members: IUser[];\n  remove: (id: string) => void;\n  isActive: boolean;\n  renderButton: (props: IButtonMutateProps) => JSX.Element;\n};\n\nclass ChannelRow extends React.Component<Props, {}> {\n  remove = () => {\n    const { remove, channel } = this.props;\n    remove(channel._id);\n  };\n\n  renderEditAction = () => {\n    const { channel, renderButton } = this.props;\n\n    const editTrigger = (\n      <Button btnStyle=\"link\">\n        <Tip text={__('Edit')} placement=\"bottom\">\n          <Icon icon=\"edit\" />\n        </Tip>\n      </Button>\n    );\n\n    const content = props => (\n      <ChannelForm {...props} channel={channel} renderButton={renderButton} />\n    );\n\n    return (\n      <ModalTrigger title=\"Edit\" trigger={editTrigger} content={content} />\n    );\n  };\n\n  render() {\n    const { channel, isActive, members } = this.props;\n    const selectedMemberIds = channel.memberIds || [];\n\n    return (\n      <SidebarListItem key={channel._id} isActive={isActive}>\n        <Link to={`?_id=${channel._id}`}>\n          <FieldStyle>\n            {channel.name}\n            <MemberAvatars\n              allMembers={members}\n              selectedMemberIds={selectedMemberIds}\n            />\n          </FieldStyle>\n        </Link>\n        <ActionButtons>\n          {this.renderEditAction()}\n          <Tip text=\"Delete\" placement=\"bottom\">\n            <Button btnStyle=\"link\" onClick={this.remove} icon=\"cancel-1\" />\n          </Tip>\n        </ActionButtons>\n      </SidebarListItem>\n    );\n  }\n}\n\nexport default ChannelRow;\n"]},"metadata":{},"sourceType":"module"}