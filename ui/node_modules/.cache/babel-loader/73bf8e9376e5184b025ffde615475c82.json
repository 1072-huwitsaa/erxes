{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/responseTemplates/components/Form.tsx\";\nimport EditorCK from 'modules/common/components/EditorCK';\nimport FormControl from 'modules/common/components/form/Control';\nimport FormGroup from 'modules/common/components/form/Group';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport SelectBrand from 'modules/settings/integrations/containers/SelectBrand';\nimport React from 'react';\nimport CommonForm from '../../common/components/Form';\n\nvar Form =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Form, _React$Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _this.onChange = function (e) {\n      _this.setState({\n        content: e.editor.getData()\n      });\n    };\n\n    _this.generateDoc = function (values) {\n      var object = _this.props.object;\n      var finalValues = values;\n\n      if (object) {\n        finalValues._id = object._id;\n      }\n\n      return {\n        _id: finalValues._id,\n        brandId: finalValues.brandId,\n        name: finalValues.name,\n        content: _this.state.content\n      };\n    };\n\n    _this.renderContent = function (formProps) {\n      var object = _this.props.object || {};\n      return React.createElement(React.Fragment, null, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(SelectBrand, {\n        formProps: formProps,\n        isRequired: true,\n        defaultValue: object.brandId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Name\"), React.createElement(FormControl, Object.assign({}, formProps, {\n        name: \"name\",\n        defaultValue: object.name,\n        required: true,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Content\"), React.createElement(EditorCK, {\n        content: object.content,\n        onChange: _this.onChange,\n        height: 300,\n        name: \"responseTemplates_\".concat(object._id || 'create'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })));\n    };\n\n    var _object = props.object || {};\n\n    _this.state = {\n      content: _object.content || ''\n    };\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(CommonForm, Object.assign({}, this.props, {\n        name: \"response template\",\n        renderContent: this.renderContent,\n        generateDoc: this.generateDoc,\n        object: this.props.object,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nexport default Form;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/responseTemplates/components/Form.tsx"],"names":["EditorCK","FormControl","FormGroup","ControlLabel","SelectBrand","React","CommonForm","Form","props","onChange","e","setState","content","editor","getData","generateDoc","values","object","finalValues","_id","brandId","name","state","renderContent","formProps","Component"],"mappings":"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","sourcesContent":["import EditorCK from 'modules/common/components/EditorCK';\nimport FormControl from 'modules/common/components/form/Control';\nimport FormGroup from 'modules/common/components/form/Group';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport { IFormProps } from 'modules/common/types';\nimport SelectBrand from 'modules/settings/integrations/containers/SelectBrand';\nimport React from 'react';\nimport CommonForm from '../../common/components/Form';\nimport { ICommonFormProps } from '../../common/types';\nimport { IResponseTemplate } from '../types';\n\ntype Props = {\n  object?: IResponseTemplate;\n};\n\ntype State = {\n  content: string;\n};\n\nclass Form extends React.Component<Props & ICommonFormProps, State> {\n  constructor(props) {\n    super(props);\n\n    const object = props.object || {};\n\n    this.state = {\n      content: object.content || ''\n    };\n  }\n\n  onChange = e => {\n    this.setState({ content: e.editor.getData() });\n  };\n\n  generateDoc = (values: { _id?: string; name: string; brandId: string }) => {\n    const { object } = this.props;\n    const finalValues = values;\n\n    if (object) {\n      finalValues._id = object._id;\n    }\n\n    return {\n      _id: finalValues._id,\n      brandId: finalValues.brandId,\n      name: finalValues.name,\n      content: this.state.content\n    };\n  };\n\n  renderContent = (formProps: IFormProps) => {\n    const object = this.props.object || ({} as IResponseTemplate);\n\n    return (\n      <>\n        <FormGroup>\n          <SelectBrand\n            formProps={formProps}\n            isRequired={true}\n            defaultValue={object.brandId}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <ControlLabel required={true}>Name</ControlLabel>\n          <FormControl\n            {...formProps}\n            name=\"name\"\n            defaultValue={object.name}\n            required={true}\n            autoFocus={true}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <ControlLabel>Content</ControlLabel>\n\n          <EditorCK\n            content={object.content}\n            onChange={this.onChange}\n            height={300}\n            name={`responseTemplates_${object._id || 'create'}`}\n          />\n        </FormGroup>\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <CommonForm\n        {...this.props}\n        name=\"response template\"\n        renderContent={this.renderContent}\n        generateDoc={this.generateDoc}\n        object={this.props.object}\n      />\n    );\n  }\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}