{"ast":null,"code":"import _regeneratorRuntime from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/AsyncComponent.tsx\";\nimport AnimatedLoader from 'modules/common/components/AnimatedLoader';\nimport Spinner from 'modules/common/components/Spinner';\nimport React from 'react';\nexport default function asyncComponent(importComponent, loaderStyle) {\n  var AsyncComponent =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(AsyncComponent, _React$Component);\n\n    function AsyncComponent(props) {\n      var _this;\n\n      _classCallCheck(this, AsyncComponent);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AsyncComponent).call(this, props));\n      _this.state = {\n        component: null\n      };\n      return _this;\n    }\n\n    _createClass(AsyncComponent, [{\n      key: \"componentDidMount\",\n      value: function () {\n        var _componentDidMount = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var _ref, component;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return importComponent();\n\n                case 2:\n                  _ref = _context.sent;\n                  component = _ref.default;\n                  this.setState({\n                    component: component\n                  });\n\n                case 5:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function componentDidMount() {\n          return _componentDidMount.apply(this, arguments);\n        }\n\n        return componentDidMount;\n      }()\n    }, {\n      key: \"render\",\n      value: function render() {\n        var Comp = this.state.component;\n\n        if (Comp) {\n          return React.createElement(Comp, Object.assign({}, this.props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 29\n            },\n            __self: this\n          }));\n        }\n\n        if (loaderStyle) {\n          return React.createElement(AnimatedLoader, {\n            loaderStyle: loaderStyle,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          });\n        }\n\n        return React.createElement(Spinner, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        });\n      }\n    }]);\n\n    return AsyncComponent;\n  }(React.Component);\n\n  return AsyncComponent;\n}","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/AsyncComponent.tsx"],"names":["AnimatedLoader","Spinner","React","asyncComponent","importComponent","loaderStyle","AsyncComponent","props","state","component","default","setState","Comp","Component"],"mappings":";;;;;;;;AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,cAAT,CACbC,eADa,EAEbC,WAFa,EAGb;AAAA,MACMC,cADN;AAAA;AAAA;AAAA;;AAEE,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,0FAAMA,KAAN;AAEA,YAAKC,KAAL,GAAa;AACXC,QAAAA,SAAS,EAAE;AADA,OAAb;AAHiB;AAMlB;;AARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAWyCL,eAAe,EAXxD;;AAAA;AAAA;AAWqBK,kBAAAA,SAXrB,QAWYC,OAXZ;AAaI,uBAAKC,QAAL,CAAc;AAAEF,oBAAAA,SAAS,EAATA;AAAF,mBAAd;;AAbJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+BAgBW;AACP,YAAMG,IAAI,GAAG,KAAKJ,KAAL,CAAWC,SAAxB;;AAEA,YAAIG,IAAJ,EAAU;AACR,iBAAO,oBAAC,IAAD,oBAAU,KAAKL,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AACD;;AAED,YAAIF,WAAJ,EAAiB;AACf,iBAAO,oBAAC,cAAD;AAAgB,YAAA,WAAW,EAAEA,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,eAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AA5BH;;AAAA;AAAA,IAC6BH,KAAK,CAACW,SADnC;;AA+BA,SAAOP,cAAP;AACD","sourcesContent":["import AnimatedLoader from 'modules/common/components/AnimatedLoader';\nimport Spinner from 'modules/common/components/Spinner';\nimport React from 'react';\nimport { IAnimatedLoader } from '../types';\n\nexport default function asyncComponent(\n  importComponent: any,\n  loaderStyle?: IAnimatedLoader\n) {\n  class AsyncComponent extends React.Component<any, { component: any }> {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        component: null\n      };\n    }\n\n    async componentDidMount() {\n      const { default: component } = await importComponent();\n\n      this.setState({ component });\n    }\n\n    render() {\n      const Comp = this.state.component;\n\n      if (Comp) {\n        return <Comp {...this.props} />;\n      }\n\n      if (loaderStyle) {\n        return <AnimatedLoader loaderStyle={loaderStyle} />;\n      }\n\n      return <Spinner />;\n    }\n  }\n\n  return AsyncComponent;\n}\n"]},"metadata":{},"sourceType":"module"}