{"ast":null,"code":"import _slicedToArray from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/editForm/Top.tsx\";\nimport { PriorityIndicator } from 'modules/boards/components/editForm';\nimport Move from 'modules/boards/containers/editForm/Move';\nimport { ColorButton } from 'modules/boards/styles/common';\nimport { HeaderContent, HeaderRow, MetaInfo, TitleRow } from 'modules/boards/styles/item';\nimport FormControl from 'modules/common/components/form/Control';\nimport Participators from 'modules/inbox/components/conversationDetail/workarea/Participators';\nimport React, { useEffect, useState } from 'react';\n\nfunction Top(props) {\n  var item = props.item;\n\n  var _useState = useState(item.name),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  useEffect(function () {\n    setName(item.name);\n  }, [item.name]);\n\n  function renderMove() {\n    var options = props.options,\n        onChangeStage = props.onChangeStage;\n    return React.createElement(Move, {\n      options: options,\n      item: item,\n      stageId: item.stageId,\n      onChangeStage: onChangeStage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    });\n  }\n\n  function renderHackStage() {\n    var hackStages = props.item.hackStages || [];\n\n    if (hackStages.length === 0) {\n      return null;\n    }\n\n    return React.createElement(ColorButton, {\n      color: \"#666\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, hackStages.map(function (i) {\n      return React.createElement(\"span\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(PriorityIndicator, {\n        value: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), i);\n    }));\n  }\n\n  var saveItem = props.saveItem,\n      score = props.score,\n      dueDate = props.dueDate;\n  var _item$assignedUsers = item.assignedUsers,\n      assignedUsers = _item$assignedUsers === void 0 ? [] : _item$assignedUsers,\n      priority = item.priority;\n\n  var onNameBlur = function onNameBlur(e) {\n    if (item.name !== name) {\n      saveItem({\n        name: name\n      });\n    }\n  };\n\n  var onChangeName = function onChangeName(e) {\n    setName(e.target.value);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(HeaderRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(HeaderContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(TitleRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, priority && React.createElement(PriorityIndicator, {\n    value: priority,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    componentClass: \"textarea\",\n    value: name,\n    required: true,\n    onBlur: onNameBlur,\n    onChange: onChangeName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(MetaInfo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, assignedUsers.length > 0 && React.createElement(Participators, {\n    participatedUsers: assignedUsers,\n    limit: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), dueDate, renderHackStage())), score && score()), React.createElement(HeaderRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(HeaderContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, renderMove())));\n}\n\nexport default Top;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/editForm/Top.tsx"],"names":["PriorityIndicator","Move","ColorButton","HeaderContent","HeaderRow","MetaInfo","TitleRow","FormControl","Participators","React","useEffect","useState","Top","props","item","name","setName","renderMove","options","onChangeStage","stageId","renderHackStage","hackStages","length","map","i","saveItem","score","dueDate","assignedUsers","priority","onNameBlur","e","onChangeName","target","value"],"mappings":"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","sourcesContent":["import { PriorityIndicator } from 'modules/boards/components/editForm';\nimport Move from 'modules/boards/containers/editForm/Move';\nimport { ColorButton } from 'modules/boards/styles/common';\nimport {\n  HeaderContent,\n  HeaderRow,\n  MetaInfo,\n  TitleRow\n} from 'modules/boards/styles/item';\nimport { IOptions } from 'modules/boards/types';\nimport FormControl from 'modules/common/components/form/Control';\nimport Participators from 'modules/inbox/components/conversationDetail/workarea/Participators';\nimport React, { useEffect, useState } from 'react';\nimport { IGrowthHack } from '../../types';\n\ntype Props = {\n  item: IGrowthHack;\n  options: IOptions;\n  saveItem: (doc: { [key: string]: any }) => void;\n  onChangeStage: (stageId: string) => void;\n  score?: () => React.ReactNode;\n  dueDate?: React.ReactNode;\n};\n\nfunction Top(props: Props) {\n  const { item } = props;\n\n  const [name, setName] = useState(item.name);\n\n  useEffect(() => {\n    setName(item.name);\n  }, [item.name]);\n\n  function renderMove() {\n    const { options, onChangeStage } = props;\n\n    return (\n      <Move\n        options={options}\n        item={item}\n        stageId={item.stageId}\n        onChangeStage={onChangeStage}\n      />\n    );\n  }\n\n  function renderHackStage() {\n    const hackStages = props.item.hackStages || [];\n\n    if (hackStages.length === 0) {\n      return null;\n    }\n\n    return (\n      <ColorButton color=\"#666\">\n        {hackStages.map(i => (\n          <span key={i}>\n            <PriorityIndicator value={i} />\n            {i}\n          </span>\n        ))}\n      </ColorButton>\n    );\n  }\n\n  const { saveItem, score, dueDate } = props;\n  const { assignedUsers = [], priority } = item;\n\n  const onNameBlur = e => {\n    if (item.name !== name) {\n      saveItem({ name });\n    }\n  };\n\n  const onChangeName = e => {\n    setName(e.target.value);\n  };\n\n  return (\n    <>\n      <HeaderRow>\n        <HeaderContent>\n          <TitleRow>\n            {priority && <PriorityIndicator value={priority} />}\n            <FormControl\n              componentClass=\"textarea\"\n              value={name}\n              required={true}\n              onBlur={onNameBlur}\n              onChange={onChangeName}\n            />\n          </TitleRow>\n          <MetaInfo>\n            {assignedUsers.length > 0 && (\n              <Participators participatedUsers={assignedUsers} limit={3} />\n            )}\n            {dueDate}\n            {renderHackStage()}\n          </MetaInfo>\n        </HeaderContent>\n\n        {score && score()}\n      </HeaderRow>\n\n      <HeaderRow>\n        <HeaderContent>{renderMove()}</HeaderContent>\n      </HeaderRow>\n    </>\n  );\n}\n\nexport default Top;\n"]},"metadata":{},"sourceType":"module"}