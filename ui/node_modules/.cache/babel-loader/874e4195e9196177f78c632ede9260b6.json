{"ast":null,"code":"import _defineProperty from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/responseTemplates/components/List.tsx\";\nimport { FormControl } from 'modules/common/components/form';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport Table from 'modules/common/components/table';\nimport { __, router } from 'modules/common/utils';\nimport { FlexItem, FlexRow } from 'modules/insights/styles';\nimport SelectBrands from 'modules/settings/brands/containers/SelectBrands';\nimport { FilterContainer } from 'modules/settings/team/styles';\nimport * as React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport List from '../../common/components/List';\nimport RowActions from '../../common/components/RowActions';\nimport Form from '../components/Form';\n\nvar ResponseTemplateList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ResponseTemplateList, _React$Component);\n\n  function ResponseTemplateList(_props) {\n    var _this;\n\n    _classCallCheck(this, ResponseTemplateList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResponseTemplateList).call(this, _props));\n\n    _this.onChange = function (e) {\n      var _ref = e.currentTarget,\n          value = _ref.value;\n\n      _this.setState({\n        searchValue: value\n      });\n    };\n\n    _this.renderForm = function (props) {\n      return React.createElement(Form, Object.assign({}, props, {\n        renderButton: _this.props.renderButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }));\n    };\n\n    _this.renderRows = function (_ref2) {\n      var objects = _ref2.objects;\n      return objects.map(function (object, index) {\n        var brand = object.brand || {};\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, brand.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, object.name), React.createElement(RowActions, Object.assign({}, _this.props, {\n          object: object,\n          size: \"lg\",\n          renderForm: _this.renderForm,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        })));\n      });\n    };\n\n    _this.handleKeyDown = function (e) {\n      if (e.key === 'Enter') {\n        var _ref3 = e.currentTarget,\n            value = _ref3.value,\n            name = _ref3.name;\n        router.setParams(_this.props.history, _defineProperty({}, name, value));\n      }\n    };\n\n    _this.onSelect = function (values, name) {\n      router.setParams(_this.props.history, _defineProperty({}, name, values));\n    };\n\n    _this.renderFilter = function () {\n      var brandId = _this.props.queryParams.brandId;\n      return React.createElement(FilterContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(FlexRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(FlexItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Search\"), React.createElement(FormControl, {\n        placeholder: __('Search'),\n        name: \"searchValue\",\n        onChange: _this.onChange,\n        value: _this.state.searchValue,\n        onKeyPress: _this.handleKeyDown,\n        autoFocus: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })), React.createElement(FlexItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Brand\"), React.createElement(SelectBrands, {\n        label: \"Brand\",\n        value: brandId,\n        onSelect: _this.onSelect,\n        name: \"brandId\",\n        multi: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }))));\n    };\n\n    _this.renderContent = function (props) {\n      return React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, __('Brand')), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, __('Name')), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, __('Actions')))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, _this.renderRows(props)));\n    };\n\n    var searchValue = _props.queryParams.searchValue;\n    _this.state = {\n      searchValue: searchValue || ''\n    };\n    return _this;\n  }\n\n  _createClass(ResponseTemplateList, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(List, Object.assign({\n        formTitle: \"New response template\",\n        breadcrumb: [{\n          title: __('Settings'),\n          link: '/settings'\n        }, {\n          title: __('Response templates')\n        }],\n        title: __('Response templates'),\n        leftActionBar: React.createElement(HeaderDescription, {\n          icon: \"/images/actions/24.svg\",\n          title: \"Response templates\",\n          description: \"Make things easy for your team members and add in ready made response templates. Manage and edit your response templates according to each situation and respond in a timely manner and without the hassle.\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }),\n        renderFilter: this.renderFilter,\n        renderForm: this.renderForm,\n        renderContent: this.renderContent,\n        center: true,\n        size: \"lg\"\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ResponseTemplateList;\n}(React.Component);\n\nexport default withRouter(ResponseTemplateList);","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/responseTemplates/components/List.tsx"],"names":["FormControl","ControlLabel","HeaderDescription","Table","__","router","FlexItem","FlexRow","SelectBrands","FilterContainer","React","withRouter","List","RowActions","Form","ResponseTemplateList","props","onChange","e","currentTarget","value","setState","searchValue","renderForm","renderButton","renderRows","objects","map","object","index","brand","name","handleKeyDown","key","setParams","history","onSelect","values","renderFilter","brandId","queryParams","state","renderContent","title","link","Component"],"mappings":";;;;;;;AAAA,SAASA,WAAT,QAA4B,gCAA5B;AACA,OAAOC,YAAP,MAAyB,sCAAzB;AACA,OAAOC,iBAAP,MAA8B,6CAA9B;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AAEA,SAASC,EAAT,EAAaC,MAAb,QAA2B,sBAA3B;AACA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,yBAAlC;AACA,OAAOC,YAAP,MAAyB,iDAAzB;AACA,SAASC,eAAT,QAAgC,8BAAhC;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;;IAcMC,oB;;;;;AACJ,gCAAYC,MAAZ,EAAmB;AAAA;;AAAA;;AACjB,8FAAMA,MAAN;;AADiB,UAYnBC,QAZmB,GAYR,UAACC,CAAD,EAAwB;AAAA,iBACfA,CAAC,CAACC,aADa;AAAA,UACzBC,KADyB,QACzBA,KADyB;;AAGjC,YAAKC,QAAL,CAAc;AAAEC,QAAAA,WAAW,EAAEF;AAAf,OAAd;AACD,KAhBkB;;AAAA,UAkBnBG,UAlBmB,GAkBN,UAAAP,KAAK,EAAI;AACpB,aAAO,oBAAC,IAAD,oBAAUA,KAAV;AAAiB,QAAA,YAAY,EAAE,MAAKA,KAAL,CAAWQ,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD,KApBkB;;AAAA,UAsBnBC,UAtBmB,GAsBN,iBAAiB;AAAA,UAAdC,OAAc,SAAdA,OAAc;AAC5B,aAAOA,OAAO,CAACC,GAAR,CAAY,UAACC,MAAD,EAASC,KAAT,EAAmB;AACpC,YAAMC,KAAK,GAAGF,MAAM,CAACE,KAAP,IAAgB,EAA9B;AAEA,eACE;AAAI,UAAA,GAAG,EAAED,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKC,KAAK,CAACC,IAAX,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKH,MAAM,CAACG,IAAZ,CAFF,EAGE,oBAAC,UAAD,oBACM,MAAKf,KADX;AAEE,UAAA,MAAM,EAAEY,MAFV;AAGE,UAAA,IAAI,EAAC,IAHP;AAIE,UAAA,UAAU,EAAE,MAAKL,UAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHF,CADF;AAYD,OAfM,CAAP;AAgBD,KAvCkB;;AAAA,UAyCnBS,aAzCmB,GAyCH,UAACd,CAAD,EAAqC;AACnD,UAAIA,CAAC,CAACe,GAAF,KAAU,OAAd,EAAuB;AAAA,oBACGf,CAAC,CAACC,aADL;AAAA,YACbC,KADa,SACbA,KADa;AAAA,YACNW,IADM,SACNA,IADM;AAGrB1B,QAAAA,MAAM,CAAC6B,SAAP,CAAiB,MAAKlB,KAAL,CAAWmB,OAA5B,sBAAwCJ,IAAxC,EAA+CX,KAA/C;AACD;AACF,KA/CkB;;AAAA,UAiDnBgB,QAjDmB,GAiDR,UAACC,MAAD,EAA4BN,IAA5B,EAA6C;AACtD1B,MAAAA,MAAM,CAAC6B,SAAP,CAAiB,MAAKlB,KAAL,CAAWmB,OAA5B,sBAAwCJ,IAAxC,EAA+CM,MAA/C;AACD,KAnDkB;;AAAA,UAqDnBC,YArDmB,GAqDJ,YAAM;AAAA,UACXC,OADW,GACC,MAAKvB,KAAL,CAAWwB,WADZ,CACXD,OADW;AAGnB,aACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,WAAD;AACE,QAAA,WAAW,EAAEnC,EAAE,CAAC,QAAD,CADjB;AAEE,QAAA,IAAI,EAAC,aAFP;AAGE,QAAA,QAAQ,EAAE,MAAKa,QAHjB;AAIE,QAAA,KAAK,EAAE,MAAKwB,KAAL,CAAWnB,WAJpB;AAKE,QAAA,UAAU,EAAE,MAAKU,aALnB;AAME,QAAA,SAAS,EAAE,IANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAaE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,YAAD;AACE,QAAA,KAAK,EAAC,OADR;AAEE,QAAA,KAAK,EAAEO,OAFT;AAGE,QAAA,QAAQ,EAAE,MAAKH,QAHjB;AAIE,QAAA,IAAI,EAAC,SAJP;AAKE,QAAA,KAAK,EAAE,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAbF,CADF,CADF;AA4BD,KApFkB;;AAAA,UAsFnBM,aAtFmB,GAsFH,UAAA1B,KAAK,EAAI;AACvB,aACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKZ,EAAE,CAAC,OAAD,CAAP,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,EAAE,CAAC,MAAD,CAAP,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,EAAE,CAAC,SAAD,CAAP,CAHF,CADF,CADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,MAAKqB,UAAL,CAAgBT,KAAhB,CAAR,CARF,CADF;AAYD,KAnGkB;;AAAA,QAIAM,WAJA,GAKbN,MALa,CAIfwB,WAJe,CAIAlB,WAJA;AAOjB,UAAKmB,KAAL,GAAa;AACXnB,MAAAA,WAAW,EAAEA,WAAW,IAAI;AADjB,KAAb;AAPiB;AAUlB;;;;6BA2FQ;AACP,aACE,oBAAC,IAAD;AACE,QAAA,SAAS,EAAC,uBADZ;AAEE,QAAA,UAAU,EAAE,CACV;AAAEqB,UAAAA,KAAK,EAAEvC,EAAE,CAAC,UAAD,CAAX;AAAyBwC,UAAAA,IAAI,EAAE;AAA/B,SADU,EAEV;AAAED,UAAAA,KAAK,EAAEvC,EAAE,CAAC,oBAAD;AAAX,SAFU,CAFd;AAME,QAAA,KAAK,EAAEA,EAAE,CAAC,oBAAD,CANX;AAOE,QAAA,aAAa,EACX,oBAAC,iBAAD;AACE,UAAA,IAAI,EAAC,wBADP;AAEE,UAAA,KAAK,EAAC,oBAFR;AAGE,UAAA,WAAW,+MAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARJ;AAcE,QAAA,YAAY,EAAE,KAAKkC,YAdrB;AAeE,QAAA,UAAU,EAAE,KAAKf,UAfnB;AAgBE,QAAA,aAAa,EAAE,KAAKmB,aAhBtB;AAiBE,QAAA,MAAM,EAAE,IAjBV;AAkBE,QAAA,IAAI,EAAC;AAlBP,SAmBM,KAAK1B,KAnBX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAuBD;;;;EA9HgCN,KAAK,CAACmC,S;;AAiIzC,eAAelC,UAAU,CAAaI,oBAAb,CAAzB","sourcesContent":["import { FormControl } from 'modules/common/components/form';\nimport ControlLabel from 'modules/common/components/form/Label';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport Table from 'modules/common/components/table';\nimport { IButtonMutateProps, IRouterProps } from 'modules/common/types';\nimport { __, router } from 'modules/common/utils';\nimport { FlexItem, FlexRow } from 'modules/insights/styles';\nimport SelectBrands from 'modules/settings/brands/containers/SelectBrands';\nimport { FilterContainer } from 'modules/settings/team/styles';\nimport * as React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport List from '../../common/components/List';\nimport RowActions from '../../common/components/RowActions';\nimport { ICommonListProps } from '../../common/types';\nimport Form from '../components/Form';\n\ntype Props = {\n  renderButton: (props: IButtonMutateProps) => JSX.Element;\n  queryParams: any;\n  history: any;\n} & ICommonListProps;\n\ntype States = {\n  searchValue: string;\n};\n\ntype FinalProps = Props & IRouterProps;\n\nclass ResponseTemplateList extends React.Component<FinalProps, States> {\n  constructor(props) {\n    super(props);\n\n    const {\n      queryParams: { searchValue }\n    } = props;\n\n    this.state = {\n      searchValue: searchValue || ''\n    };\n  }\n\n  onChange = (e: React.FormEvent) => {\n    const { value } = e.currentTarget as HTMLInputElement;\n\n    this.setState({ searchValue: value });\n  };\n\n  renderForm = props => {\n    return <Form {...props} renderButton={this.props.renderButton} />;\n  };\n\n  renderRows = ({ objects }) => {\n    return objects.map((object, index) => {\n      const brand = object.brand || {};\n\n      return (\n        <tr key={index}>\n          <td>{brand.name}</td>\n          <td>{object.name}</td>\n          <RowActions\n            {...this.props}\n            object={object}\n            size=\"lg\"\n            renderForm={this.renderForm}\n          />\n        </tr>\n      );\n    });\n  };\n\n  handleKeyDown = (e: React.KeyboardEvent<Element>) => {\n    if (e.key === 'Enter') {\n      const { value, name } = e.currentTarget as HTMLInputElement;\n\n      router.setParams(this.props.history, { [name]: value });\n    }\n  };\n\n  onSelect = (values: string[] | string, name: string) => {\n    router.setParams(this.props.history, { [name]: values });\n  };\n\n  renderFilter = () => {\n    const { brandId } = this.props.queryParams;\n\n    return (\n      <FilterContainer>\n        <FlexRow>\n          <FlexItem>\n            <ControlLabel>Search</ControlLabel>\n            <FormControl\n              placeholder={__('Search')}\n              name=\"searchValue\"\n              onChange={this.onChange}\n              value={this.state.searchValue}\n              onKeyPress={this.handleKeyDown}\n              autoFocus={true}\n            />\n          </FlexItem>\n\n          <FlexItem>\n            <ControlLabel>Brand</ControlLabel>\n            <SelectBrands\n              label=\"Brand\"\n              value={brandId}\n              onSelect={this.onSelect}\n              name=\"brandId\"\n              multi={false}\n            />\n          </FlexItem>\n        </FlexRow>\n      </FilterContainer>\n    );\n  };\n\n  renderContent = props => {\n    return (\n      <Table>\n        <thead>\n          <tr>\n            <th>{__('Brand')}</th>\n            <th>{__('Name')}</th>\n            <th>{__('Actions')}</th>\n          </tr>\n        </thead>\n        <tbody>{this.renderRows(props)}</tbody>\n      </Table>\n    );\n  };\n\n  render() {\n    return (\n      <List\n        formTitle=\"New response template\"\n        breadcrumb={[\n          { title: __('Settings'), link: '/settings' },\n          { title: __('Response templates') }\n        ]}\n        title={__('Response templates')}\n        leftActionBar={\n          <HeaderDescription\n            icon=\"/images/actions/24.svg\"\n            title=\"Response templates\"\n            description={`Make things easy for your team members and add in ready made response templates. Manage and edit your response templates according to each situation and respond in a timely manner and without the hassle.`}\n          />\n        }\n        renderFilter={this.renderFilter}\n        renderForm={this.renderForm}\n        renderContent={this.renderContent}\n        center={true}\n        size=\"lg\"\n        {...this.props}\n      />\n    );\n  }\n}\n\nexport default withRouter<FinalProps>(ResponseTemplateList);\n"]},"metadata":{},"sourceType":"module"}