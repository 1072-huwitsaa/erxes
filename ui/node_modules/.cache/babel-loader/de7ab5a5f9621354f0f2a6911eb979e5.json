{"ast":null,"code":"import _slicedToArray from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/boards/components/editForm/Left.tsx\";\nimport Button from \"erxes-common-ui/lib/components/button\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport ActivityInputs from \"modules/activityLogs/components/ActivityInputs\";\nimport ActivityLogs from \"modules/activityLogs/containers/ActivityLogs\";\nimport Checklists from \"modules/checklists/containers/Checklists\";\nimport EditorCK from \"modules/common/components/EditorCK\";\nimport FormGroup from \"modules/common/components/form/Group\";\nimport ControlLabel from \"modules/common/components/form/Label\";\nimport Uploader from \"modules/common/components/Uploader\";\nimport { __, extractAttachment } from \"modules/common/utils\";\nimport { EditorActions, EditorWrapper } from \"modules/internalNotes/components/Form\";\nimport React, { useEffect, useState } from \"react\";\nimport xss from \"xss\";\nimport { Content, ContentWrapper, LeftContainer, TitleRow } from \"../../styles/item\";\nimport Labels from \"../label/Labels\";\nimport Actions from \"./Actions\";\n\nvar Description = function Description(props) {\n  var item = props.item,\n      saveItem = props.saveItem,\n      contentType = props.contentType;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      edit = _useState2[0],\n      setEdit = _useState2[1];\n\n  var _useState3 = useState(item.description),\n      _useState4 = _slicedToArray(_useState3, 2),\n      description = _useState4[0],\n      setDescription = _useState4[1];\n\n  useEffect(function () {\n    setDescription(item.description);\n  }, [item.description]);\n\n  var onSend = function onSend() {\n    saveItem({\n      description: description\n    });\n    setEdit(false);\n  };\n\n  var toggleEdit = function toggleEdit() {\n    return setEdit(function (currentValue) {\n      return !currentValue;\n    });\n  };\n\n  var onChangeDescription = function onChangeDescription(e) {\n    setDescription(e.editor.getData());\n  };\n\n  var renderFooter = function renderFooter() {\n    return React.createElement(EditorActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Button, {\n      icon: \"times-circle\",\n      btnStyle: \"simple\",\n      size: \"small\",\n      uppercase: false,\n      onClick: toggleEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Cancel\"), item.description !== description && React.createElement(Button, {\n      onClick: onSend,\n      btnStyle: \"success\",\n      size: \"small\",\n      uppercase: false,\n      icon: \"check-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Save\"));\n  };\n\n  return React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(ContentWrapper, {\n    isEditing: edit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(TitleRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(ControlLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    icon: \"align-left-justify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), __(\"Description\"))), !edit ? React.createElement(Content, {\n    onClick: toggleEdit,\n    dangerouslySetInnerHTML: {\n      __html: description ? xss(description) : \"\".concat(__(\"Add a more detailed description\"), \"...\")\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }) : React.createElement(EditorWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(EditorCK, {\n    onCtrlEnter: onSend,\n    content: description,\n    onChange: onChangeDescription,\n    height: 120,\n    autoFocus: true,\n    name: \"\".concat(contentType, \"_description_\").concat(item._id),\n    toolbar: [{\n      name: \"basicstyles\",\n      items: [\"Bold\", \"Italic\", \"NumberedList\", \"BulletedList\", \"Link\", \"Unlink\", \"-\", \"Image\", \"EmojiPanel\"]\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), renderFooter())));\n};\n\nvar Left = function Left(props) {\n  var item = props.item,\n      saveItem = props.saveItem,\n      options = props.options,\n      copyItem = props.copyItem,\n      removeItem = props.removeItem,\n      onUpdate = props.onUpdate,\n      addItem = props.addItem,\n      sendToBoard = props.sendToBoard,\n      onChangeStage = props.onChangeStage;\n\n  var onChangeAttachment = function onChangeAttachment(files) {\n    return saveItem({\n      attachments: files\n    });\n  };\n\n  var attachments = item.attachments && extractAttachment(item.attachments) || [];\n  return React.createElement(LeftContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(Actions, {\n    item: item,\n    options: options,\n    copyItem: copyItem,\n    removeItem: removeItem,\n    saveItem: saveItem,\n    onUpdate: onUpdate,\n    sendToBoard: sendToBoard,\n    onChangeStage: onChangeStage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), item.labels.length > 0 && React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(TitleRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(ControlLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    icon: \"label-alt\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }), __(\"Labels\"))), React.createElement(Labels, {\n    labels: item.labels,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(TitleRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(ControlLabel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    icon: \"paperclip\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }), __(\"Attachments\"))), React.createElement(Uploader, {\n    defaultFileList: attachments,\n    onChange: onChangeAttachment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  })), React.createElement(Description, {\n    item: item,\n    saveItem: saveItem,\n    contentType: options.type,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }), React.createElement(Checklists, {\n    contentType: options.type,\n    contentTypeId: item._id,\n    stageId: item.stageId,\n    addItem: addItem,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }), React.createElement(ActivityInputs, {\n    contentTypeId: item._id,\n    contentType: options.type,\n    showEmail: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }), React.createElement(ActivityLogs, {\n    target: item.name,\n    contentId: item._id,\n    contentType: options.type,\n    extraTabs: options.type === \"task\" ? [] : [{\n      name: \"task\",\n      label: \"Task\"\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }));\n};\n\nexport default Left;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/boards/components/editForm/Left.tsx"],"names":["Button","Icon","ActivityInputs","ActivityLogs","Checklists","EditorCK","FormGroup","ControlLabel","Uploader","__","extractAttachment","EditorActions","EditorWrapper","React","useEffect","useState","xss","Content","ContentWrapper","LeftContainer","TitleRow","Labels","Actions","Description","props","item","saveItem","contentType","edit","setEdit","description","setDescription","onSend","toggleEdit","currentValue","onChangeDescription","e","editor","getData","renderFooter","__html","_id","name","items","Left","options","copyItem","removeItem","onUpdate","addItem","sendToBoard","onChangeStage","onChangeAttachment","files","attachments","labels","length","type","stageId","label"],"mappings":"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","sourcesContent":["import Button from \"erxes-common-ui/lib/components/button\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport ActivityInputs from \"modules/activityLogs/components/ActivityInputs\";\nimport ActivityLogs from \"modules/activityLogs/containers/ActivityLogs\";\nimport { IItem, IItemParams, IOptions } from \"modules/boards/types\";\nimport Checklists from \"modules/checklists/containers/Checklists\";\nimport EditorCK from \"modules/common/components/EditorCK\";\nimport FormGroup from \"modules/common/components/form/Group\";\nimport ControlLabel from \"modules/common/components/form/Label\";\nimport Uploader from \"modules/common/components/Uploader\";\nimport { IAttachment } from \"modules/common/types\";\nimport { __, extractAttachment } from \"modules/common/utils\";\nimport {\n  EditorActions,\n  EditorWrapper,\n} from \"modules/internalNotes/components/Form\";\nimport React, { useEffect, useState } from \"react\";\nimport xss from \"xss\";\nimport {\n  Content,\n  ContentWrapper,\n  LeftContainer,\n  TitleRow,\n} from \"../../styles/item\";\nimport Labels from \"../label/Labels\";\nimport Actions from \"./Actions\";\n\ntype DescProps = {\n  item: IItem;\n  saveItem: (doc: { [key: string]: any }, callback?: (item) => void) => void;\n  contentType: string;\n};\n\nconst Description = (props: DescProps) => {\n  const { item, saveItem, contentType } = props;\n  const [edit, setEdit] = useState(false);\n  const [description, setDescription] = useState(item.description);\n\n  useEffect(() => {\n    setDescription(item.description);\n  }, [item.description]);\n\n  const onSend = () => {\n    saveItem({ description });\n    setEdit(false);\n  };\n\n  const toggleEdit = () => setEdit((currentValue) => !currentValue);\n\n  const onChangeDescription = (e) => {\n    setDescription(e.editor.getData());\n  };\n\n  const renderFooter = () => {\n    return (\n      <EditorActions>\n        <Button\n          icon=\"times-circle\"\n          btnStyle=\"simple\"\n          size=\"small\"\n          uppercase={false}\n          onClick={toggleEdit}\n        >\n          Cancel\n        </Button>\n        {item.description !== description && (\n          <Button\n            onClick={onSend}\n            btnStyle=\"success\"\n            size=\"small\"\n            uppercase={false}\n            icon=\"check-circle\"\n          >\n            Save\n          </Button>\n        )}\n      </EditorActions>\n    );\n  };\n\n  return (\n    <FormGroup>\n      <ContentWrapper isEditing={edit}>\n        <TitleRow>\n          <ControlLabel>\n            <Icon icon=\"align-left-justify\" />\n            {__(\"Description\")}\n          </ControlLabel>\n        </TitleRow>\n\n        {!edit ? (\n          <Content\n            onClick={toggleEdit}\n            dangerouslySetInnerHTML={{\n              __html: description\n                ? xss(description)\n                : `${__(\"Add a more detailed description\")}...`,\n            }}\n          />\n        ) : (\n          <EditorWrapper>\n            <EditorCK\n              onCtrlEnter={onSend}\n              content={description}\n              onChange={onChangeDescription}\n              height={120}\n              autoFocus={true}\n              name={`${contentType}_description_${item._id}`}\n              toolbar={[\n                {\n                  name: \"basicstyles\",\n                  items: [\n                    \"Bold\",\n                    \"Italic\",\n                    \"NumberedList\",\n                    \"BulletedList\",\n                    \"Link\",\n                    \"Unlink\",\n                    \"-\",\n                    \"Image\",\n                    \"EmojiPanel\",\n                  ],\n                },\n              ]}\n            />\n\n            {renderFooter()}\n          </EditorWrapper>\n        )}\n      </ContentWrapper>\n    </FormGroup>\n  );\n};\n\ntype Props = {\n  item: IItem;\n  options: IOptions;\n  copyItem: () => void;\n  removeItem: (itemId: string) => void;\n  saveItem: (doc: { [key: string]: any }, callback?: (item) => void) => void;\n  onUpdate: (item: IItem, prevStageId?: string) => void;\n  addItem: (doc: IItemParams, callback: () => void) => void;\n  sendToBoard?: (item: any) => void;\n  onChangeStage?: (stageId: string) => void;\n};\n\nconst Left = (props: Props) => {\n  const {\n    item,\n    saveItem,\n    options,\n    copyItem,\n    removeItem,\n    onUpdate,\n    addItem,\n    sendToBoard,\n    onChangeStage,\n  } = props;\n\n  const onChangeAttachment = (files: IAttachment[]) =>\n    saveItem({ attachments: files });\n\n  const attachments =\n    (item.attachments && extractAttachment(item.attachments)) || [];\n\n  return (\n    <LeftContainer>\n      <Actions\n        item={item}\n        options={options}\n        copyItem={copyItem}\n        removeItem={removeItem}\n        saveItem={saveItem}\n        onUpdate={onUpdate}\n        sendToBoard={sendToBoard}\n        onChangeStage={onChangeStage}\n      />\n\n      {item.labels.length > 0 && (\n        <FormGroup>\n          <TitleRow>\n            <ControlLabel>\n              <Icon icon=\"label-alt\" />\n              {__(\"Labels\")}\n            </ControlLabel>\n          </TitleRow>\n\n          <Labels labels={item.labels} />\n        </FormGroup>\n      )}\n\n      <FormGroup>\n        <TitleRow>\n          <ControlLabel>\n            <Icon icon=\"paperclip\" />\n            {__(\"Attachments\")}\n          </ControlLabel>\n        </TitleRow>\n\n        <Uploader defaultFileList={attachments} onChange={onChangeAttachment} />\n      </FormGroup>\n\n      <Description item={item} saveItem={saveItem} contentType={options.type} />\n\n      <Checklists\n        contentType={options.type}\n        contentTypeId={item._id}\n        stageId={item.stageId}\n        addItem={addItem}\n      />\n\n      <ActivityInputs\n        contentTypeId={item._id}\n        contentType={options.type}\n        showEmail={false}\n      />\n\n      <ActivityLogs\n        target={item.name}\n        contentId={item._id}\n        contentType={options.type}\n        extraTabs={\n          options.type === \"task\" ? [] : [{ name: \"task\", label: \"Task\" }]\n        }\n      />\n    </LeftContainer>\n  );\n};\n\nexport default Left;\n"]},"metadata":{},"sourceType":"module"}