{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/workarea/facebook/FacebookContent.tsx\";\nimport ImageWithPreview from 'modules/common/components/ImageWithPreview';\nimport * as React from 'react';\nimport xss from 'xss';\nimport { ContentContainer } from './styles';\n\nvar FacebookContent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FacebookContent, _React$Component);\n\n  function FacebookContent() {\n    _classCallCheck(this, FacebookContent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FacebookContent).apply(this, arguments));\n  }\n\n  _createClass(FacebookContent, [{\n    key: \"renderFiles\",\n    value: function renderFiles(attachments) {\n      if (!attachments) {\n        return null;\n      }\n\n      var scrollBottom = this.props.scrollBottom;\n      return attachments.map(function (link, index) {\n        if (link.includes('youtube.com')) {\n          var iframeSrc = link.split('v=')[1].substring(0, 11);\n          return React.createElement(\"iframe\", {\n            key: index,\n            title: \"erxesIframe\",\n            src: \"https://www.youtube.com/embed/\".concat(iframeSrc),\n            width: \"100%\",\n            height: \"280\",\n            scrolling: \"no\",\n            frameBorder: \"0\",\n            allowFullScreen: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 26\n            },\n            __self: this\n          });\n        }\n\n        if (link.includes('xx.fbcdn.net')) {\n          return React.createElement(\"iframe\", {\n            key: index,\n            title: \"erxesIframeVideo\",\n            src: link,\n            width: \"100%\",\n            height: \"280\",\n            scrolling: \"no\",\n            frameBorder: \"0\",\n            allowFullScreen: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          });\n        }\n\n        if (link.includes('fna.fbcdn.net')) {\n          return React.createElement(ImageWithPreview, {\n            alt: link,\n            src: link,\n            key: index,\n            onLoad: scrollBottom,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(\"a\", {\n            key: index,\n            href: \"https://www.facebook.com/\".concat(link),\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, link);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          content = _this$props.content,\n          attachments = _this$props.attachments;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(ContentContainer, {\n        isComment: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.renderFiles(attachments)), React.createElement(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: xss(content)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return FacebookContent;\n}(React.Component);\n\nexport { FacebookContent as default };","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/workarea/facebook/FacebookContent.tsx"],"names":["ImageWithPreview","React","xss","ContentContainer","FacebookContent","attachments","scrollBottom","props","map","link","index","includes","iframeSrc","split","substring","content","renderFiles","__html","Component"],"mappings":";;;;;;AAAA,OAAOA,gBAAP,MAA6B,4CAA7B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAASC,gBAAT,QAAiC,UAAjC;;IASqBC,e;;;;;;;;;;;;;gCACPC,W,EAAwB;AAClC,UAAI,CAACA,WAAL,EAAkB;AAChB,eAAO,IAAP;AACD;;AAHiC,UAK1BC,YAL0B,GAKT,KAAKC,KALI,CAK1BD,YAL0B;AAOlC,aAAOD,WAAW,CAACG,GAAZ,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACtC,YAAID,IAAI,CAACE,QAAL,CAAc,aAAd,CAAJ,EAAkC;AAChC,cAAMC,SAAS,GAAGH,IAAI,CAACI,KAAL,CAAW,IAAX,EAAiB,CAAjB,EAAoBC,SAApB,CAA8B,CAA9B,EAAiC,EAAjC,CAAlB;AAEA,iBACE;AACE,YAAA,GAAG,EAAEJ,KADP;AAEE,YAAA,KAAK,EAAC,aAFR;AAGE,YAAA,GAAG,0CAAmCE,SAAnC,CAHL;AAIE,YAAA,KAAK,EAAC,MAJR;AAKE,YAAA,MAAM,EAAC,KALT;AAME,YAAA,SAAS,EAAC,IANZ;AAOE,YAAA,WAAW,EAAC,GAPd;AAQE,YAAA,eAAe,EAAE,IARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAYD;;AACD,YAAIH,IAAI,CAACE,QAAL,CAAc,cAAd,CAAJ,EAAmC;AACjC,iBACE;AACE,YAAA,GAAG,EAAED,KADP;AAEE,YAAA,KAAK,EAAC,kBAFR;AAGE,YAAA,GAAG,EAAED,IAHP;AAIE,YAAA,KAAK,EAAC,MAJR;AAKE,YAAA,MAAM,EAAC,KALT;AAME,YAAA,SAAS,EAAC,IANZ;AAOE,YAAA,WAAW,EAAC,GAPd;AAQE,YAAA,eAAe,EAAE,IARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAYD;;AACD,YAAIA,IAAI,CAACE,QAAL,CAAc,eAAd,CAAJ,EAAoC;AAClC,iBACE,oBAAC,gBAAD;AACE,YAAA,GAAG,EAAEF,IADP;AAEE,YAAA,GAAG,EAAEA,IAFP;AAGE,YAAA,GAAG,EAAEC,KAHP;AAIE,YAAA,MAAM,EAAEJ,YAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAQD,SATD,MASO;AACL,iBACE;AACE,YAAA,GAAG,EAAEI,KADP;AAEE,YAAA,IAAI,qCAA8BD,IAA9B,CAFN;AAGE,YAAA,MAAM,EAAC,QAHT;AAIE,YAAA,GAAG,EAAC,qBAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAMGA,IANH,CADF;AAUD;AACF,OApDM,CAAP;AAqDD;;;6BAEQ;AAAA,wBAC0B,KAAKF,KAD/B;AAAA,UACCQ,OADD,eACCA,OADD;AAAA,UACUV,WADV,eACUA,WADV;AAGP,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AAAkB,QAAA,SAAS,EAAE,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKW,WAAL,CAAiBX,WAAjB,CADH,CADF,EAIE;AACE,QAAA,uBAAuB,EAAE;AACvBY,UAAAA,MAAM,EAAEf,GAAG,CAACa,OAAD;AADY,SAD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF;AAYD;;;;EA9E0Cd,KAAK,CAACiB,S;;SAA9Bd,e","sourcesContent":["import ImageWithPreview from 'modules/common/components/ImageWithPreview';\nimport * as React from 'react';\nimport xss from 'xss';\nimport { ContentContainer } from './styles';\n\ntype Props = {\n  content: string;\n  attachments: string[];\n  commentVideo?: string;\n  scrollBottom?: () => void;\n};\n\nexport default class FacebookContent extends React.Component<Props, {}> {\n  renderFiles(attachments?: string[]) {\n    if (!attachments) {\n      return null;\n    }\n\n    const { scrollBottom } = this.props;\n\n    return attachments.map((link, index) => {\n      if (link.includes('youtube.com')) {\n        const iframeSrc = link.split('v=')[1].substring(0, 11);\n\n        return (\n          <iframe\n            key={index}\n            title=\"erxesIframe\"\n            src={`https://www.youtube.com/embed/${iframeSrc}`}\n            width=\"100%\"\n            height=\"280\"\n            scrolling=\"no\"\n            frameBorder=\"0\"\n            allowFullScreen={true}\n          />\n        );\n      }\n      if (link.includes('xx.fbcdn.net')) {\n        return (\n          <iframe\n            key={index}\n            title=\"erxesIframeVideo\"\n            src={link}\n            width=\"100%\"\n            height=\"280\"\n            scrolling=\"no\"\n            frameBorder=\"0\"\n            allowFullScreen={true}\n          />\n        );\n      }\n      if (link.includes('fna.fbcdn.net')) {\n        return (\n          <ImageWithPreview\n            alt={link}\n            src={link}\n            key={index}\n            onLoad={scrollBottom}\n          />\n        );\n      } else {\n        return (\n          <a\n            key={index}\n            href={`https://www.facebook.com/${link}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {link}\n          </a>\n        );\n      }\n    });\n  }\n\n  render() {\n    const { content, attachments } = this.props;\n\n    return (\n      <React.Fragment>\n        <ContentContainer isComment={true}>\n          {this.renderFiles(attachments)}\n        </ContentContainer>\n        <p\n          dangerouslySetInnerHTML={{\n            __html: xss(content)\n          }}\n        />\n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}