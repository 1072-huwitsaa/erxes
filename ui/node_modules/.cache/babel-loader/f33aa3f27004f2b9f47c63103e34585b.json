{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/workarea/facebook/ReplyingMessage.tsx\";\nimport Button from \"erxes-common-ui/lib/components/button\";\nimport { FormControl, FormGroup } from \"modules/common/components/form\";\nimport * as React from \"react\";\nimport { Footer } from \"./styles\";\n\nvar ReplyingMessage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReplyingMessage, _React$Component);\n\n  function ReplyingMessage(props) {\n    var _this;\n\n    _classCallCheck(this, ReplyingMessage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReplyingMessage).call(this, props));\n\n    _this.onContentChange = function (e) {\n      var postContent = e.target.value;\n\n      _this.setState({\n        post: postContent\n      });\n    };\n\n    _this.doAction = function (e) {\n      e.preventDefault();\n      var _this$props = _this.props,\n          replyComment = _this$props.replyComment,\n          conversationId = _this$props.conversationId,\n          commentId = _this$props.commentId;\n      var replyData = {\n        conversationId: conversationId,\n        commentId: commentId,\n        content: _this.state.post\n      };\n      return replyComment(replyData, function () {\n        _this.props.changeHasReply();\n\n        _this.props.closeModal();\n      });\n    };\n\n    _this.state = {\n      post: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ReplyingMessage, [{\n    key: \"moveCursorAtTheEnd\",\n    value: function moveCursorAtTheEnd(e) {\n      var tmpValue = e.target.value;\n      e.target.value = \"\";\n      e.target.value = tmpValue;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        onSubmit: this.doAction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        autoFocus: true,\n        componentClass: \"textarea\",\n        onChange: this.onContentChange,\n        required: true,\n        onFocus: this.moveCursorAtTheEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Button, {\n        btnStyle: \"simple\",\n        onClick: this.props.closeModal,\n        icon: \"times-circle\",\n        uppercase: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        btnStyle: \"success\",\n        type: \"submit\",\n        icon: \"check-circle\",\n        uppercase: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Post\")));\n    }\n  }]);\n\n  return ReplyingMessage;\n}(React.Component);\n\nexport default ReplyingMessage;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/workarea/facebook/ReplyingMessage.tsx"],"names":["Button","FormControl","FormGroup","React","Footer","ReplyingMessage","props","onContentChange","e","postContent","target","value","setState","post","doAction","preventDefault","replyComment","conversationId","commentId","replyData","content","state","changeHasReply","closeModal","tmpValue","moveCursorAtTheEnd","Component"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,uCAAnB;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,gCAAvC;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,QAAuB,UAAvB;;IAsBMC,e;;;;;AACJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,yFAAMA,KAAN;;AADiB,UAQnBC,eARmB,GAQD,UAACC,CAAD,EAAqC;AACrD,UAAMC,WAAW,GAAID,CAAC,CAACE,MAAH,CAA+BC,KAAnD;;AAEA,YAAKC,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAEJ;AADM,OAAd;AAGD,KAdkB;;AAAA,UAgBnBK,QAhBmB,GAgBR,UAACN,CAAD,EAAwB;AACjCA,MAAAA,CAAC,CAACO,cAAF;AADiC,wBAGmB,MAAKT,KAHxB;AAAA,UAGzBU,YAHyB,eAGzBA,YAHyB;AAAA,UAGXC,cAHW,eAGXA,cAHW;AAAA,UAGKC,SAHL,eAGKA,SAHL;AAKjC,UAAMC,SAAS,GAAG;AAChBF,QAAAA,cAAc,EAAdA,cADgB;AAEhBC,QAAAA,SAAS,EAATA,SAFgB;AAGhBE,QAAAA,OAAO,EAAE,MAAKC,KAAL,CAAWR;AAHJ,OAAlB;AAMA,aAAOG,YAAY,CAACG,SAAD,EAAY,YAAM;AACnC,cAAKb,KAAL,CAAWgB,cAAX;;AACA,cAAKhB,KAAL,CAAWiB,UAAX;AACD,OAHkB,CAAnB;AAID,KA/BkB;;AAGjB,UAAKF,KAAL,GAAa;AACXR,MAAAA,IAAI,EAAE;AADK,KAAb;AAHiB;AAMlB;;;;uCA2BkBL,C,EAAG;AACpB,UAAMgB,QAAQ,GAAGhB,CAAC,CAACE,MAAF,CAASC,KAA1B;AAEAH,MAAAA,CAAC,CAACE,MAAF,CAASC,KAAT,GAAiB,EAAjB;AACAH,MAAAA,CAAC,CAACE,MAAF,CAASC,KAAT,GAAiBa,QAAjB;AACD;;;6BAEQ;AACP,aACE;AAAM,QAAA,QAAQ,EAAE,KAAKV,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,SAAS,EAAE,IADb;AAEE,QAAA,cAAc,EAAC,UAFjB;AAGE,QAAA,QAAQ,EAAE,KAAKP,eAHjB;AAIE,QAAA,QAAQ,EAAE,IAJZ;AAKE,QAAA,OAAO,EAAE,KAAKkB,kBALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAWE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAC,QADX;AAEE,QAAA,OAAO,EAAE,KAAKnB,KAAL,CAAWiB,UAFtB;AAGE,QAAA,IAAI,EAAC,cAHP;AAIE,QAAA,SAAS,EAAE,KAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAUE,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAC,SADX;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,IAAI,EAAC,cAHP;AAIE,QAAA,SAAS,EAAE,KAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF,CAXF,CADF;AAiCD;;;;EA3E2BpB,KAAK,CAACuB,S;;AA8EpC,eAAerB,eAAf","sourcesContent":["import Button from \"erxes-common-ui/lib/components/button\";\nimport { FormControl, FormGroup } from \"modules/common/components/form\";\nimport * as React from \"react\";\nimport { Footer } from \"./styles\";\n\ntype Props = {\n  replyComment: (\n    data: {\n      conversationId: string;\n      commentId: string;\n      content: string;\n    },\n    callback: () => void\n  ) => void;\n  changeHasReply: () => void;\n  conversationId: string;\n  commentId: string;\n  currentUserName: string;\n  closeModal: () => void;\n};\n\ntype State = {\n  post: string;\n};\n\nclass ReplyingMessage extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      post: \"\",\n    };\n  }\n\n  onContentChange = (e: React.FormEvent<HTMLElement>) => {\n    const postContent = (e.target as HTMLInputElement).value;\n\n    this.setState({\n      post: postContent,\n    });\n  };\n\n  doAction = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const { replyComment, conversationId, commentId } = this.props;\n\n    const replyData = {\n      conversationId,\n      commentId,\n      content: this.state.post,\n    };\n\n    return replyComment(replyData, () => {\n      this.props.changeHasReply();\n      this.props.closeModal();\n    });\n  };\n\n  moveCursorAtTheEnd(e) {\n    const tmpValue = e.target.value;\n\n    e.target.value = \"\";\n    e.target.value = tmpValue;\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.doAction}>\n        <FormGroup>\n          <FormControl\n            autoFocus={true}\n            componentClass=\"textarea\"\n            onChange={this.onContentChange}\n            required={true}\n            onFocus={this.moveCursorAtTheEnd}\n          />\n        </FormGroup>\n\n        <Footer>\n          <Button\n            btnStyle=\"simple\"\n            onClick={this.props.closeModal}\n            icon=\"times-circle\"\n            uppercase={false}\n          >\n            Close\n          </Button>\n\n          <Button\n            btnStyle=\"success\"\n            type=\"submit\"\n            icon=\"check-circle\"\n            uppercase={false}\n          >\n            Post\n          </Button>\n        </Footer>\n      </form>\n    );\n  }\n}\n\nexport default ReplyingMessage;\n"]},"metadata":{},"sourceType":"module"}