{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/insights/components/SummaryReport.tsx\";\nimport { __ } from 'modules/common/utils';\nimport { menuInbox } from 'modules/common/utils/menus';\nimport Wrapper from 'modules/layout/components/Wrapper';\nimport React from 'react';\nimport { InsightContent, InsightRow, InsightTitle, InsightWrapper } from '../styles';\nimport Chart from './Chart';\nimport InboxFilter from './filter/InboxFilter';\nimport Sidebar from './Sidebar';\nimport Summary from './Summary';\n\nvar SummaryReport =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SummaryReport, _React$Component);\n\n  function SummaryReport(props) {\n    var _this;\n\n    _classCallCheck(this, SummaryReport);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SummaryReport).call(this, props));\n    _this.wrapper = void 0;\n    _this.state = {\n      width: 600\n    };\n    return _this;\n  }\n\n  _createClass(SummaryReport, [{\n    key: \"calculateWidth\",\n    value: function calculateWidth() {\n      var width = this.wrapper.clientWidth;\n      this.setState({\n        width: width\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.calculateWidth();\n    }\n  }, {\n    key: \"renderTitle\",\n    value: function renderTitle(title, time) {\n      return React.createElement(InsightTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, __(title), time ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"(\", time, \")\") : null);\n    }\n  }, {\n    key: \"renderTrend\",\n    value: function renderTrend(name, loading, trend) {\n      var _this2 = this;\n\n      var innerRef = function innerRef(node) {\n        _this2.wrapper = node;\n      };\n\n      return React.createElement(InsightRow, {\n        innerRef: innerRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.renderTitle(name), React.createElement(Chart, {\n        loading: loading.main,\n        height: 360,\n        data: trend,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"renderCharts\",\n    value: function renderCharts() {\n      var _this$props = this.props,\n          trend = _this$props.trend,\n          summary = _this$props.summary,\n          loading = _this$props.loading;\n      return React.createElement(InsightContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(InsightRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.renderTitle('Response Times summary'), React.createElement(Summary, {\n        loading: loading,\n        data: summary,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), this.renderTrend('Response Trend', loading, trend));\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this$props2 = this.props,\n          brands = _this$props2.brands,\n          history = _this$props2.history,\n          queryParams = _this$props2.queryParams;\n      return React.createElement(InsightWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(InboxFilter, {\n        history: history,\n        brands: brands,\n        queryParams: queryParams,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), this.renderCharts());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Wrapper, {\n        header: React.createElement(Wrapper.Header, {\n          title: __('Response Report'),\n          submenu: menuInbox,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }),\n        leftSidebar: React.createElement(Sidebar, {\n          queryParams: this.props.queryParams,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }),\n        content: this.renderContent(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return SummaryReport;\n}(React.Component);\n\nexport default SummaryReport;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/insights/components/SummaryReport.tsx"],"names":["__","menuInbox","Wrapper","React","InsightContent","InsightRow","InsightTitle","InsightWrapper","Chart","InboxFilter","Sidebar","Summary","SummaryReport","props","wrapper","state","width","clientWidth","setState","calculateWidth","title","time","name","loading","trend","innerRef","node","renderTitle","main","summary","renderTrend","brands","history","queryParams","renderCharts","renderContent","Component"],"mappings":";;;;;;AAAA,SAASA,EAAT,QAAmB,sBAAnB;AACA,SAASC,SAAT,QAA0B,4BAA1B;AACA,OAAOC,OAAP,MAAoB,mCAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SACEC,cADF,EAEEC,UAFF,EAGEC,YAHF,EAIEC,cAJF,QAKO,WALP;AAOA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,MAAoB,WAApB;;IAWMC,a;;;;;AAGJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,uFAAMA,KAAN;AADiB,UAFXC,OAEW;AAGjB,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE;AADI,KAAb;AAHiB;AAMlB;;;;qCAEgB;AACf,UAAMA,KAAK,GAAG,KAAKF,OAAL,CAAaG,WAA3B;AACA,WAAKC,QAAL,CAAc;AAAEF,QAAAA,KAAK,EAALA;AAAF,OAAd;AACD;;;wCAEmB;AAClB,WAAKG,cAAL;AACD;;;gCAEWC,K,EAAeC,I,EAAe;AACxC,aACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGrB,EAAE,CAACoB,KAAD,CADL,EAEGC,IAAI,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAQA,IAAR,MAAH,GAA2B,IAFlC,CADF;AAMD;;;gCAEWC,I,EAAMC,O,EAASC,K,EAAO;AAAA;;AAChC,UAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,IAAI,EAAI;AACvB,QAAA,MAAI,CAACZ,OAAL,GAAeY,IAAf;AACD,OAFD;;AAIA,aACE,oBAAC,UAAD;AAAY,QAAA,QAAQ,EAAED,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKE,WAAL,CAAiBL,IAAjB,CADH,EAEE,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAEC,OAAO,CAACK,IAAxB;AAA8B,QAAA,MAAM,EAAE,GAAtC;AAA2C,QAAA,IAAI,EAAEJ,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAMD;;;mCAEc;AAAA,wBACuB,KAAKX,KAD5B;AAAA,UACLW,KADK,eACLA,KADK;AAAA,UACEK,OADF,eACEA,OADF;AAAA,UACWN,OADX,eACWA,OADX;AAGb,aACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKI,WAAL,CAAiB,wBAAjB,CADH,EAEE,oBAAC,OAAD;AAAS,QAAA,OAAO,EAAEJ,OAAlB;AAA2B,QAAA,IAAI,EAAEM,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAMG,KAAKC,WAAL,CAAiB,gBAAjB,EAAmCP,OAAnC,EAA4CC,KAA5C,CANH,CADF;AAUD;;;oCAEe;AAAA,yBAC2B,KAAKX,KADhC;AAAA,UACNkB,MADM,gBACNA,MADM;AAAA,UACEC,OADF,gBACEA,OADF;AAAA,UACWC,WADX,gBACWA,WADX;AAGd,aACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AACE,QAAA,OAAO,EAAED,OADX;AAEE,QAAA,MAAM,EAAED,MAFV;AAGE,QAAA,WAAW,EAAEE,WAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAMG,KAAKC,YAAL,EANH,CADF;AAUD;;;6BAEQ;AACP,aACE,oBAAC,OAAD;AACE,QAAA,MAAM,EACJ,oBAAC,OAAD,CAAS,MAAT;AAAgB,UAAA,KAAK,EAAElC,EAAE,CAAC,iBAAD,CAAzB;AAA8C,UAAA,OAAO,EAAEC,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAIE,QAAA,WAAW,EAAE,oBAAC,OAAD;AAAS,UAAA,WAAW,EAAE,KAAKY,KAAL,CAAWoB,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJf;AAKE,QAAA,OAAO,EAAE,KAAKE,aAAL,EALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AASD;;;;EAlFyBhC,KAAK,CAACiC,S;;AAqFlC,eAAexB,aAAf","sourcesContent":["import { __ } from 'modules/common/utils';\nimport { menuInbox } from 'modules/common/utils/menus';\nimport Wrapper from 'modules/layout/components/Wrapper';\nimport React from 'react';\nimport { IBrand } from '../../settings/brands/types';\nimport {\n  InsightContent,\n  InsightRow,\n  InsightTitle,\n  InsightWrapper\n} from '../styles';\nimport { IChartParams, IQueryParams, SummaryData } from '../types';\nimport Chart from './Chart';\nimport InboxFilter from './filter/InboxFilter';\nimport Sidebar from './Sidebar';\nimport Summary from './Summary';\n\ntype Props = {\n  brands: IBrand[];\n  trend: IChartParams[];\n  queryParams: IQueryParams;\n  history: any;\n  summary: SummaryData[];\n  loading: boolean;\n};\n\nclass SummaryReport extends React.Component<Props, { width: number }> {\n  private wrapper;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      width: 600\n    };\n  }\n\n  calculateWidth() {\n    const width = this.wrapper.clientWidth;\n    this.setState({ width });\n  }\n\n  componentDidMount() {\n    this.calculateWidth();\n  }\n\n  renderTitle(title: string, time?: string) {\n    return (\n      <InsightTitle>\n        {__(title)}\n        {time ? <span>({time})</span> : null}\n      </InsightTitle>\n    );\n  }\n\n  renderTrend(name, loading, trend) {\n    const innerRef = node => {\n      this.wrapper = node;\n    };\n\n    return (\n      <InsightRow innerRef={innerRef}>\n        {this.renderTitle(name)}\n        <Chart loading={loading.main} height={360} data={trend} />\n      </InsightRow>\n    );\n  }\n\n  renderCharts() {\n    const { trend, summary, loading } = this.props;\n\n    return (\n      <InsightContent>\n        <InsightRow>\n          {this.renderTitle('Response Times summary')}\n          <Summary loading={loading} data={summary} />\n        </InsightRow>\n\n        {this.renderTrend('Response Trend', loading, trend)}\n      </InsightContent>\n    );\n  }\n\n  renderContent() {\n    const { brands, history, queryParams } = this.props;\n\n    return (\n      <InsightWrapper>\n        <InboxFilter\n          history={history}\n          brands={brands}\n          queryParams={queryParams}\n        />\n        {this.renderCharts()}\n      </InsightWrapper>\n    );\n  }\n\n  render() {\n    return (\n      <Wrapper\n        header={\n          <Wrapper.Header title={__('Response Report')} submenu={menuInbox} />\n        }\n        leftSidebar={<Sidebar queryParams={this.props.queryParams} />}\n        content={this.renderContent()}\n      />\n    );\n  }\n}\n\nexport default SummaryReport;\n"]},"metadata":{},"sourceType":"module"}