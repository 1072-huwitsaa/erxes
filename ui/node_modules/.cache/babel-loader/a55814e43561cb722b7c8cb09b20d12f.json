{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/robot/components/Robot.tsx\";\nimport debounce from 'lodash/debounce';\nimport * as React from 'react';\nimport RTG from 'react-transition-group';\nimport AssistantContent from '../containers/AssistantContent';\nimport { Bot } from './styles';\n\nvar Robot =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Robot, _React$Component);\n\n  function Robot(props) {\n    var _this;\n\n    _classCallCheck(this, Robot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Robot).call(this, props));\n\n    _this.changeRoute = function (currentRoute) {\n      _this.setState({\n        currentRoute: currentRoute\n      });\n    };\n\n    _this.renderContent = function () {\n      var currentUser = _this.props.currentUser;\n      return React.createElement(AssistantContent, {\n        changeRoute: _this.changeRoute,\n        currentUser: currentUser,\n        currentRoute: _this.state.currentRoute,\n        showContent: _this.state.showContent,\n        toggleContent: _this.toggleContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      });\n    };\n\n    _this.toggleContent = function (isShow) {\n      _this.setState({\n        showContent: isShow\n      }, function () {\n        if (!isShow) {\n          debounce(function () {\n            return _this.changeRoute('todoList');\n          }, 500)();\n        }\n      });\n    };\n\n    _this.changeContent = function () {\n      var currentRoute = _this.state.currentRoute;\n\n      if (currentRoute && !currentRoute.includes('todo')) {\n        return;\n      }\n\n      return _this.toggleContent(!_this.state.showContent);\n    };\n\n    _this.state = {\n      currentRoute: 'todoList',\n      showContent: false\n    };\n    return _this;\n  }\n\n  _createClass(Robot, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, this.renderContent(), React.createElement(RTG.CSSTransition, {\n        in: true,\n        appear: true,\n        timeout: 2600,\n        classNames: \"robot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Bot, {\n        onClick: this.changeContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/erxes-bot.svg\",\n        alt: \"assistant robot\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Robot;\n}(React.Component);\n\nexport default Robot;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/robot/components/Robot.tsx"],"names":["debounce","React","RTG","AssistantContent","Bot","Robot","props","changeRoute","currentRoute","setState","renderContent","currentUser","state","showContent","toggleContent","isShow","changeContent","includes","Component"],"mappings":";;;;;;AAAA,OAAOA,QAAP,MAAqB,iBAArB;AAEA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,wBAAhB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,SAASC,GAAT,QAAoB,UAApB;;IAWMC,K;;;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,UAMnBC,WANmB,GAML,UAACC,YAAD,EAA0B;AACtC,YAAKC,QAAL,CAAc;AAAED,QAAAA,YAAY,EAAZA;AAAF,OAAd;AACD,KARkB;;AAAA,UAUnBE,aAVmB,GAUH,YAAM;AAAA,UACZC,WADY,GACI,MAAKL,KADT,CACZK,WADY;AAGpB,aACE,oBAAC,gBAAD;AACE,QAAA,WAAW,EAAE,MAAKJ,WADpB;AAEE,QAAA,WAAW,EAAEI,WAFf;AAGE,QAAA,YAAY,EAAE,MAAKC,KAAL,CAAWJ,YAH3B;AAIE,QAAA,WAAW,EAAE,MAAKI,KAAL,CAAWC,WAJ1B;AAKE,QAAA,aAAa,EAAE,MAAKC,aALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AASD,KAtBkB;;AAAA,UAwBnBA,aAxBmB,GAwBH,UAACC,MAAD,EAAqB;AACnC,YAAKN,QAAL,CAAc;AAAEI,QAAAA,WAAW,EAAEE;AAAf,OAAd,EAAuC,YAAM;AAC3C,YAAI,CAACA,MAAL,EAAa;AACXf,UAAAA,QAAQ,CAAC;AAAA,mBAAM,MAAKO,WAAL,CAAiB,UAAjB,CAAN;AAAA,WAAD,EAAqC,GAArC,CAAR;AACD;AACF,OAJD;AAKD,KA9BkB;;AAAA,UAgCnBS,aAhCmB,GAgCH,YAAM;AAAA,UACZR,YADY,GACK,MAAKI,KADV,CACZJ,YADY;;AAGpB,UAAIA,YAAY,IAAI,CAACA,YAAY,CAACS,QAAb,CAAsB,MAAtB,CAArB,EAAoD;AAClD;AACD;;AAED,aAAO,MAAKH,aAAL,CAAmB,CAAC,MAAKF,KAAL,CAAWC,WAA/B,CAAP;AACD,KAxCkB;;AAGjB,UAAKD,KAAL,GAAa;AAAEJ,MAAAA,YAAY,EAAE,UAAhB;AAA4BK,MAAAA,WAAW,EAAE;AAAzC,KAAb;AAHiB;AAIlB;;;;6BAsCQ;AACP,aACE,0CACG,KAAKH,aAAL,EADH,EAEE,oBAAC,GAAD,CAAK,aAAL;AACE,QAAA,EAAE,EAAE,IADN;AAEE,QAAA,MAAM,EAAE,IAFV;AAGE,QAAA,OAAO,EAAE,IAHX;AAIE,QAAA,UAAU,EAAC,OAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,GAAD;AAAK,QAAA,OAAO,EAAE,KAAKM,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,EAAC,uBAAT;AAAiC,QAAA,GAAG,EAAC,iBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CANF,CAFF,CADF;AAeD;;;;EA3DiBf,KAAK,CAACiB,S;;AA8D1B,eAAeb,KAAf","sourcesContent":["import debounce from 'lodash/debounce';\nimport { IUser } from 'modules/auth/types';\nimport * as React from 'react';\nimport RTG from 'react-transition-group';\nimport AssistantContent from '../containers/AssistantContent';\nimport { Bot } from './styles';\n\ntype Props = {\n  currentUser: IUser;\n};\n\ntype State = {\n  currentRoute: string;\n  showContent: boolean;\n};\n\nclass Robot extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.state = { currentRoute: 'todoList', showContent: false };\n  }\n\n  changeRoute = (currentRoute: string) => {\n    this.setState({ currentRoute });\n  };\n\n  renderContent = () => {\n    const { currentUser } = this.props;\n\n    return (\n      <AssistantContent\n        changeRoute={this.changeRoute}\n        currentUser={currentUser}\n        currentRoute={this.state.currentRoute}\n        showContent={this.state.showContent}\n        toggleContent={this.toggleContent}\n      />\n    );\n  };\n\n  toggleContent = (isShow: boolean) => {\n    this.setState({ showContent: isShow }, () => {\n      if (!isShow) {\n        debounce(() => this.changeRoute('todoList'), 500)();\n      }\n    });\n  };\n\n  changeContent = () => {\n    const { currentRoute } = this.state;\n\n    if (currentRoute && !currentRoute.includes('todo')) {\n      return;\n    }\n\n    return this.toggleContent(!this.state.showContent);\n  };\n\n  render() {\n    return (\n      <>\n        {this.renderContent()}\n        <RTG.CSSTransition\n          in={true}\n          appear={true}\n          timeout={2600}\n          classNames=\"robot\"\n        >\n          <Bot onClick={this.changeContent}>\n            <img src=\"/images/erxes-bot.svg\" alt=\"assistant robot\" />\n          </Bot>\n        </RTG.CSSTransition>\n      </>\n    );\n  }\n}\n\nexport default Robot;\n"]},"metadata":{},"sourceType":"module"}