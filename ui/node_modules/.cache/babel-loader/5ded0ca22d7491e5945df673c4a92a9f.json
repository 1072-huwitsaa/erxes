{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/customers/components/common/DevicePropertiesSection.tsx\";\nimport Box from 'modules/common/components/Box';\nimport EmptyState from 'modules/common/components/EmptyState';\nimport { __ } from 'modules/common/utils';\nimport { FieldStyle, SidebarCounter, SidebarList } from 'modules/layout/styles';\nimport React from 'react';\nimport parse from 'ua-parser-js';\nexport var renderFlag = function renderFlag(countryCode) {\n  if (!countryCode) {\n    return null;\n  }\n\n  return React.createElement(\"img\", {\n    alt: \"Flag\",\n    style: {\n      marginBottom: '2px',\n      width: '17px'\n    },\n    src: \"https://www.countryflags.io/\".concat(countryCode, \"/shiny/24.png\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  });\n};\n\nvar DevicePropertiesSection =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DevicePropertiesSection, _React$Component);\n\n  function DevicePropertiesSection() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DevicePropertiesSection);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DevicePropertiesSection)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderDeviceProperty = function (text, value, secondValue, nowrap) {\n      if (value || secondValue) {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(FieldStyle, {\n          overflow: \"unset\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, __(text), \":\"), React.createElement(SidebarCounter, {\n          nowrap: nowrap,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, value, \" \", secondValue));\n      }\n\n      return null;\n    };\n\n    return _this;\n  }\n\n  _createClass(DevicePropertiesSection, [{\n    key: \"renderContent\",\n    value: function renderContent() {\n      var customer = this.props.customer;\n      var location = customer.location;\n\n      if (!location) {\n        return React.createElement(EmptyState, {\n          icon: \"placeholder\",\n          text: \"No location\",\n          size: \"small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n      }\n\n      var ua = parse(location.userAgent || ' ');\n      return React.createElement(SidebarList, {\n        className: \"no-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, this.renderDeviceProperty('Location', renderFlag(location.countryCode), location.country), this.renderDeviceProperty('Browser', ua.browser.name, ua.browser.version), this.renderDeviceProperty('Platform', ua.os.name, ua.os.version), this.renderDeviceProperty('IP Address', location.remoteAddress), this.renderDeviceProperty('Hostname', location.hostname), this.renderDeviceProperty('Language', location.language), this.renderDeviceProperty('User Agent', location.userAgent, '', true));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var collapseCallback = this.props.collapseCallback;\n      return React.createElement(Box, {\n        title: __('Device properties'),\n        name: \"showDeviceProperties\",\n        callback: collapseCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.renderContent());\n    }\n  }]);\n\n  return DevicePropertiesSection;\n}(React.Component);\n\nexport default DevicePropertiesSection;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/customers/components/common/DevicePropertiesSection.tsx"],"names":["Box","EmptyState","__","FieldStyle","SidebarCounter","SidebarList","React","parse","renderFlag","countryCode","marginBottom","width","DevicePropertiesSection","renderDeviceProperty","text","value","secondValue","nowrap","customer","props","location","ua","userAgent","country","browser","name","version","os","remoteAddress","hostname","language","collapseCallback","renderContent","Component"],"mappings":"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","sourcesContent":["import Box from 'modules/common/components/Box';\nimport EmptyState from 'modules/common/components/EmptyState';\nimport { __ } from 'modules/common/utils';\nimport { ICustomer } from 'modules/customers/types';\nimport { FieldStyle, SidebarCounter, SidebarList } from 'modules/layout/styles';\nimport React from 'react';\nimport parse from 'ua-parser-js';\n\ntype Props = {\n  customer: ICustomer;\n  collapseCallback?: () => void;\n};\n\nexport const renderFlag = (countryCode?: string) => {\n  if (!countryCode) {\n    return null;\n  }\n\n  return (\n    <img\n      alt=\"Flag\"\n      style={{ marginBottom: '2px', width: '17px' }}\n      src={`https://www.countryflags.io/${countryCode}/shiny/24.png`}\n    />\n  );\n};\n\nclass DevicePropertiesSection extends React.Component<Props> {\n  renderDeviceProperty = (\n    text: string,\n    value?: any,\n    secondValue?: string,\n    nowrap?: boolean\n  ) => {\n    if (value || secondValue) {\n      return (\n        <li>\n          <FieldStyle overflow=\"unset\">{__(text)}:</FieldStyle>\n          <SidebarCounter nowrap={nowrap}>\n            {value} {secondValue}\n          </SidebarCounter>\n        </li>\n      );\n    }\n\n    return null;\n  };\n\n  renderContent() {\n    const { customer } = this.props;\n    const location = customer.location;\n\n    if (!location) {\n      return <EmptyState icon=\"placeholder\" text=\"No location\" size=\"small\" />;\n    }\n\n    const ua = parse(location.userAgent || ' ');\n\n    return (\n      <SidebarList className=\"no-link\">\n        {this.renderDeviceProperty(\n          'Location',\n          renderFlag(location.countryCode),\n          location.country\n        )}\n        {this.renderDeviceProperty(\n          'Browser',\n          ua.browser.name,\n          ua.browser.version\n        )}\n        {this.renderDeviceProperty('Platform', ua.os.name, ua.os.version)}\n        {this.renderDeviceProperty('IP Address', location.remoteAddress)}\n        {this.renderDeviceProperty('Hostname', location.hostname)}\n        {this.renderDeviceProperty('Language', location.language)}\n        {this.renderDeviceProperty('User Agent', location.userAgent, '', true)}\n      </SidebarList>\n    );\n  }\n\n  render() {\n    const { collapseCallback } = this.props;\n\n    return (\n      <Box\n        title={__('Device properties')}\n        name=\"showDeviceProperties\"\n        callback={collapseCallback}\n      >\n        {this.renderContent()}\n      </Box>\n    );\n  }\n}\n\nexport default DevicePropertiesSection;\n"]},"metadata":{},"sourceType":"module"}