{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/sidebar/SidebarActivity.tsx\";\nimport ActivityList from 'modules/activityLogs/components/ActivityList';\nimport DataWithLoader from 'modules/common/components/DataWithLoader';\nimport { __ } from 'modules/common/utils';\nimport { hasAnyActivity } from 'modules/customers/utils';\nimport NoteForm from 'modules/internalNotes/containers/Form';\nimport React from 'react';\nimport { ActivityLogContent, NoteFormContainer } from './styles';\n\nvar SidebarActivity =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SidebarActivity, _React$Component);\n\n  function SidebarActivity() {\n    _classCallCheck(this, SidebarActivity);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SidebarActivity).apply(this, arguments));\n  }\n\n  _createClass(SidebarActivity, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          customer = _this$props.customer,\n          activityLogsCustomer = _this$props.activityLogsCustomer,\n          loadingLogs = _this$props.loadingLogs,\n          currentUser = _this$props.currentUser,\n          currentSubTab = _this$props.currentSubTab;\n      var hasActivity = hasAnyActivity(activityLogsCustomer);\n      return React.createElement(React.Fragment, null, React.createElement(NoteFormContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, __('Add a note'), \":\"), React.createElement(NoteForm, {\n        contentType: \"customer\",\n        contentTypeId: customer._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      })), React.createElement(ActivityLogContent, {\n        isEmpty: !hasActivity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(DataWithLoader, {\n        loading: loadingLogs,\n        count: !loadingLogs && hasActivity ? 1 : 0,\n        data: React.createElement(ActivityList, {\n          user: currentUser,\n          activities: activityLogsCustomer,\n          target: customer.firstName,\n          type: currentSubTab // show logs filtered by type\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }),\n        emptyText: \"No Activities\",\n        emptyImage: \"/images/actions/19.svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return SidebarActivity;\n}(React.Component);\n\nexport default SidebarActivity;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/sidebar/SidebarActivity.tsx"],"names":["ActivityList","DataWithLoader","__","hasAnyActivity","NoteForm","React","ActivityLogContent","NoteFormContainer","SidebarActivity","props","customer","activityLogsCustomer","loadingLogs","currentUser","currentSubTab","hasActivity","_id","firstName","Component"],"mappings":";;;;;;AAAA,OAAOA,YAAP,MAAyB,8CAAzB;AAEA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,SAASC,EAAT,QAAmB,sBAAnB;AAEA,SAASC,cAAT,QAA+B,yBAA/B;AACA,OAAOC,QAAP,MAAqB,uCAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,EAA6BC,iBAA7B,QAAsD,UAAtD;;IAUMC,e;;;;;;;;;;;;;6BACK;AAAA,wBAOH,KAAKC,KAPF;AAAA,UAELC,QAFK,eAELA,QAFK;AAAA,UAGLC,oBAHK,eAGLA,oBAHK;AAAA,UAILC,WAJK,eAILA,WAJK;AAAA,UAKLC,WALK,eAKLA,WALK;AAAA,UAMLC,aANK,eAMLA,aANK;AASP,UAAMC,WAAW,GAAGZ,cAAc,CAACQ,oBAAD,CAAlC;AAEA,aACE,0CACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOT,EAAE,CAAC,YAAD,CAAT,MADF,EAEE,oBAAC,QAAD;AAAU,QAAA,WAAW,EAAC,UAAtB;AAAiC,QAAA,aAAa,EAAEQ,QAAQ,CAACM,GAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAME,oBAAC,kBAAD;AAAoB,QAAA,OAAO,EAAE,CAACD,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AACE,QAAA,OAAO,EAAEH,WADX;AAEE,QAAA,KAAK,EAAE,CAACA,WAAD,IAAgBG,WAAhB,GAA8B,CAA9B,GAAkC,CAF3C;AAGE,QAAA,IAAI,EACF,oBAAC,YAAD;AACE,UAAA,IAAI,EAAEF,WADR;AAEE,UAAA,UAAU,EAAEF,oBAFd;AAGE,UAAA,MAAM,EAAED,QAAQ,CAACO,SAHnB;AAIE,UAAA,IAAI,EAAEH,aAJR,CAIuB;AAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJJ;AAWE,QAAA,SAAS,EAAC,eAXZ;AAYE,QAAA,UAAU,EAAC,wBAZb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CANF,CADF;AAyBD;;;;EArC2BT,KAAK,CAACa,S;;AAwCpC,eAAeV,eAAf","sourcesContent":["import ActivityList from 'modules/activityLogs/components/ActivityList';\nimport { IUser } from 'modules/auth/types';\nimport DataWithLoader from 'modules/common/components/DataWithLoader';\nimport { __ } from 'modules/common/utils';\nimport { ICustomer } from 'modules/customers/types';\nimport { hasAnyActivity } from 'modules/customers/utils';\nimport NoteForm from 'modules/internalNotes/containers/Form';\nimport React from 'react';\nimport { ActivityLogContent, NoteFormContainer } from './styles';\n\ntype Props = {\n  customer: ICustomer;\n  loadingLogs: boolean;\n  activityLogsCustomer: any[];\n  currentSubTab: string;\n  currentUser: IUser;\n};\n\nclass SidebarActivity extends React.Component<Props> {\n  render() {\n    const {\n      customer,\n      activityLogsCustomer,\n      loadingLogs,\n      currentUser,\n      currentSubTab\n    } = this.props;\n\n    const hasActivity = hasAnyActivity(activityLogsCustomer);\n\n    return (\n      <>\n        <NoteFormContainer>\n          <span>{__('Add a note') as string}:</span>\n          <NoteForm contentType=\"customer\" contentTypeId={customer._id} />\n        </NoteFormContainer>\n\n        <ActivityLogContent isEmpty={!hasActivity}>\n          <DataWithLoader\n            loading={loadingLogs}\n            count={!loadingLogs && hasActivity ? 1 : 0}\n            data={\n              <ActivityList\n                user={currentUser}\n                activities={activityLogsCustomer}\n                target={customer.firstName}\n                type={currentSubTab} // show logs filtered by type\n              />\n            }\n            emptyText=\"No Activities\"\n            emptyImage=\"/images/actions/19.svg\"\n          />\n        </ActivityLogContent>\n      </>\n    );\n  }\n}\n\nexport default SidebarActivity;\n"]},"metadata":{},"sourceType":"module"}