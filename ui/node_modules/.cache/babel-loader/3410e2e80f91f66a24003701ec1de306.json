{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/sidebar/ConversationDetails.tsx\";\nimport dayjs from 'dayjs';\nimport IntegrationIcon from 'modules/common/components/IntegrationIcon';\nimport { __ } from 'modules/common/utils';\nimport Sidebar from 'modules/layout/components/Sidebar';\nimport { FieldStyle, SidebarCounter, SidebarList } from 'modules/layout/styles';\nimport { cleanIntegrationKind } from 'modules/settings/integrations/containers/utils';\nimport React from 'react';\n\nvar ConversationDetails =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ConversationDetails, _React$Component);\n\n  function ConversationDetails() {\n    _classCallCheck(this, ConversationDetails);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ConversationDetails).apply(this, arguments));\n  }\n\n  _createClass(ConversationDetails, [{\n    key: \"renderVisitorContactInfo\",\n    value: function renderVisitorContactInfo(customer) {\n      if (!customer) {\n        return null;\n      }\n\n      var visitorContactInfo = customer.visitorContactInfo;\n\n      if (!visitorContactInfo) {\n        return null;\n      }\n\n      return React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(FieldStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, __('Visitor contact info')), React.createElement(SidebarCounter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, visitorContactInfo.email || visitorContactInfo.phone));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Section = Sidebar.Section;\n      var conversation = this.props.conversation;\n      var _conversation$integra = conversation.integration,\n          integration = _conversation$integra === void 0 ? {} : _conversation$integra,\n          customer = conversation.customer;\n      var _integration$brand = integration.brand,\n          brand = _integration$brand === void 0 ? {} : _integration$brand,\n          _integration$channels = integration.channels,\n          channels = _integration$channels === void 0 ? [] : _integration$channels;\n      return React.createElement(Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(SidebarList, {\n        className: \"no-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, this.renderVisitorContactInfo(customer), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(FieldStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, __('Opened')), React.createElement(SidebarCounter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, dayjs(conversation.createdAt).format('lll'))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(FieldStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, __('Channels')), React.createElement(SidebarCounter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, channels.map(function (c) {\n        return React.createElement(\"span\", {\n          key: c._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, c.name, \" \");\n      }))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(FieldStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, __('Brand')), React.createElement(SidebarCounter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, brand && brand.name)), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(FieldStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, __('Integration')), React.createElement(SidebarCounter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, cleanIntegrationKind(integration.kind), React.createElement(IntegrationIcon, {\n        integration: integration,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(FieldStyle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, __('Conversations')), React.createElement(SidebarCounter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, conversation.messageCount)))));\n    }\n  }]);\n\n  return ConversationDetails;\n}(React.Component);\n\nexport default ConversationDetails;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/inbox/components/conversationDetail/sidebar/ConversationDetails.tsx"],"names":["dayjs","IntegrationIcon","__","Sidebar","FieldStyle","SidebarCounter","SidebarList","cleanIntegrationKind","React","ConversationDetails","customer","visitorContactInfo","email","phone","Section","conversation","props","integration","brand","channels","renderVisitorContactInfo","createdAt","format","map","c","_id","name","kind","messageCount","Component"],"mappings":"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","sourcesContent":["import dayjs from 'dayjs';\nimport IntegrationIcon from 'modules/common/components/IntegrationIcon';\nimport { __ } from 'modules/common/utils';\nimport Sidebar from 'modules/layout/components/Sidebar';\nimport { FieldStyle, SidebarCounter, SidebarList } from 'modules/layout/styles';\nimport { cleanIntegrationKind } from 'modules/settings/integrations/containers/utils';\nimport React from 'react';\nimport { ICustomer } from '../../../../customers/types';\nimport { IBrand } from '../../../../settings/brands/types';\nimport { IIntegration } from '../../../../settings/integrations/types';\nimport { IConversation } from '../../../types';\n\ntype Props = {\n  conversation: IConversation;\n};\n\nclass ConversationDetails extends React.Component<Props> {\n  renderVisitorContactInfo(customer: ICustomer) {\n    if (!customer) {\n      return null;\n    }\n\n    const { visitorContactInfo } = customer;\n\n    if (!visitorContactInfo) {\n      return null;\n    }\n\n    return (\n      <li>\n        <FieldStyle>{__('Visitor contact info')}</FieldStyle>\n        <SidebarCounter>\n          {visitorContactInfo.email || visitorContactInfo.phone}\n        </SidebarCounter>\n      </li>\n    );\n  }\n\n  render() {\n    const { Section } = Sidebar;\n\n    const { conversation } = this.props;\n    const { integration = {} as IIntegration, customer } = conversation;\n    const { brand = {} as IBrand, channels = [] } = integration;\n\n    return (\n      <Section>\n        <div>\n          <SidebarList className=\"no-link\">\n            {this.renderVisitorContactInfo(customer)}\n            <li>\n              <FieldStyle>{__('Opened')}</FieldStyle>\n              <SidebarCounter>\n                {dayjs(conversation.createdAt).format('lll')}\n              </SidebarCounter>\n            </li>\n            <li>\n              <FieldStyle>{__('Channels')}</FieldStyle>\n              <SidebarCounter>\n                {channels.map(c => (\n                  <span key={c._id}>{c.name} </span>\n                ))}\n              </SidebarCounter>\n            </li>\n            <li>\n              <FieldStyle>{__('Brand')}</FieldStyle>\n              <SidebarCounter>{brand && brand.name}</SidebarCounter>\n            </li>\n            <li>\n              <FieldStyle>{__('Integration')}</FieldStyle>\n              <SidebarCounter>\n                {cleanIntegrationKind(integration.kind)}\n                <IntegrationIcon integration={integration} />\n              </SidebarCounter>\n            </li>\n            <li>\n              <FieldStyle>{__('Conversations')}</FieldStyle>\n              <SidebarCounter>{conversation.messageCount}</SidebarCounter>\n            </li>\n          </SidebarList>\n        </div>\n      </Section>\n    );\n  }\n}\n\nexport default ConversationDetails;\n"]},"metadata":{},"sourceType":"module"}