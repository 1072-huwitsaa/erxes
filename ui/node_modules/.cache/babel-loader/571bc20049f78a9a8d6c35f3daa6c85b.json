{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/boards/components/editForm/Actions.tsx\";\nimport SelectItem from 'modules/boards/components/SelectItem';\nimport { PRIORITIES } from 'modules/boards/constants';\nimport Watch from 'modules/boards/containers/editForm/Watch';\nimport LabelChooser from 'modules/boards/containers/label/LabelChooser';\nimport { ColorButton } from 'modules/boards/styles/common';\nimport { ActionContainer } from 'modules/boards/styles/item';\nimport ChecklistAdd from 'modules/checklists/components/AddButton';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { __ } from 'modules/common/utils';\nimport React from 'react';\nimport { ArchiveBtn } from './ArchiveBtn';\nimport PriorityIndicator from './PriorityIndicator';\n\nvar Actions =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Actions, _React$Component);\n\n  function Actions() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Actions);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Actions)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onPriorityChange = function (value) {\n      var _this$props = _this.props,\n          onUpdate = _this$props.onUpdate,\n          saveItem = _this$props.saveItem;\n\n      if (saveItem) {\n        saveItem({\n          priority: value\n        }, function (updatedItem) {\n          onUpdate(updatedItem);\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Actions, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          item = _this$props2.item,\n          saveItem = _this$props2.saveItem,\n          options = _this$props2.options,\n          copyItem = _this$props2.copyItem,\n          removeItem = _this$props2.removeItem,\n          sendToBoard = _this$props2.sendToBoard,\n          onChangeStage = _this$props2.onChangeStage;\n\n      var onLabelChange = function onLabelChange(labels) {\n        return saveItem({\n          labels: labels\n        });\n      };\n\n      var priorityTrigger = React.createElement(ColorButton, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, item.priority ? React.createElement(PriorityIndicator, {\n        value: item.priority,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }) : React.createElement(Icon, {\n        icon: \"sort-amount-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), item.priority ? item.priority : __('Priority'));\n      return React.createElement(ActionContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(SelectItem, {\n        items: PRIORITIES,\n        selectedItems: item.priority,\n        onChange: this.onPriorityChange,\n        trigger: priorityTrigger,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(LabelChooser, {\n        item: item,\n        onSelect: onLabelChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(ChecklistAdd, {\n        itemId: item._id,\n        type: options.type,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(Watch, {\n        item: item,\n        options: options,\n        isSmall: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(ColorButton, {\n        onClick: copyItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"copy-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), __('Copy')), React.createElement(ArchiveBtn, {\n        item: item,\n        removeItem: removeItem,\n        saveItem: saveItem,\n        sendToBoard: sendToBoard,\n        onChangeStage: onChangeStage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Actions;\n}(React.Component);\n\nexport default Actions;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/boards/components/editForm/Actions.tsx"],"names":["SelectItem","PRIORITIES","Watch","LabelChooser","ColorButton","ActionContainer","ChecklistAdd","Icon","__","React","ArchiveBtn","PriorityIndicator","Actions","onPriorityChange","value","props","onUpdate","saveItem","priority","updatedItem","item","options","copyItem","removeItem","sendToBoard","onChangeStage","onLabelChange","labels","priorityTrigger","_id","type","Component"],"mappings":"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","sourcesContent":["import SelectItem from 'modules/boards/components/SelectItem';\nimport { PRIORITIES } from 'modules/boards/constants';\nimport Watch from 'modules/boards/containers/editForm/Watch';\nimport LabelChooser from 'modules/boards/containers/label/LabelChooser';\nimport { ColorButton } from 'modules/boards/styles/common';\nimport { ActionContainer } from 'modules/boards/styles/item';\nimport { IItem, IOptions } from 'modules/boards/types';\nimport ChecklistAdd from 'modules/checklists/components/AddButton';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { __ } from 'modules/common/utils';\nimport React from 'react';\nimport { ArchiveBtn } from './ArchiveBtn';\nimport PriorityIndicator from './PriorityIndicator';\n\ntype Props = {\n  item: IItem;\n  options: IOptions;\n  copyItem: () => void;\n  removeItem: (itemId: string) => void;\n  saveItem: (doc: { [key: string]: any }, callback?: (item) => void) => void;\n  onUpdate: (item: IItem, prevStageId?: string) => void;\n  sendToBoard?: (item: any) => void;\n  onChangeStage?: (stageId: string) => void;\n};\n\nclass Actions extends React.Component<Props> {\n  onPriorityChange = (value: string) => {\n    const { onUpdate, saveItem } = this.props;\n\n    if (saveItem) {\n      saveItem({ priority: value }, updatedItem => {\n        onUpdate(updatedItem);\n      });\n    }\n  };\n\n  render() {\n    const {\n      item,\n      saveItem,\n      options,\n      copyItem,\n      removeItem,\n      sendToBoard,\n      onChangeStage\n    } = this.props;\n\n    const onLabelChange = labels => saveItem({ labels });\n\n    const priorityTrigger = (\n      <ColorButton>\n        {item.priority ? (\n          <PriorityIndicator value={item.priority} />\n        ) : (\n          <Icon icon=\"sort-amount-up\" />\n        )}\n        {item.priority ? item.priority : __('Priority')}\n      </ColorButton>\n    );\n\n    return (\n      <ActionContainer>\n        <SelectItem\n          items={PRIORITIES}\n          selectedItems={item.priority}\n          onChange={this.onPriorityChange}\n          trigger={priorityTrigger}\n        />\n\n        <LabelChooser item={item} onSelect={onLabelChange} />\n\n        <ChecklistAdd itemId={item._id} type={options.type} />\n\n        <Watch item={item} options={options} isSmall={true} />\n\n        <ColorButton onClick={copyItem}>\n          <Icon icon=\"copy-1\" />\n          {__('Copy')}\n        </ColorButton>\n\n        <ArchiveBtn\n          item={item}\n          removeItem={removeItem}\n          saveItem={saveItem}\n          sendToBoard={sendToBoard}\n          onChangeStage={onChangeStage}\n        />\n      </ActionContainer>\n    );\n  }\n}\n\nexport default Actions;\n"]},"metadata":{},"sourceType":"module"}