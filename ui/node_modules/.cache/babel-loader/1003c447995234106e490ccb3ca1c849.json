{"ast":null,"code":"var _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/integrations/components/store/Entry.tsx\";\nimport { formatText } from 'modules/activityLogs/utils';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport { __ } from 'modules/common/utils';\nimport NylasForm from 'modules/settings/integrations/containers/mail/Form';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { INTEGRATION_KINDS } from '../../constants';\nimport IntegrationForm from '../../containers/common/IntegrationForm';\nimport LineForm from '../../containers/line/Form';\nimport TelnyxForm from '../../containers/telnyx/TelnyxForm';\nimport Twitter from '../../containers/twitter/Twitter';\nimport { Box, IntegrationItem, Ribbon, Type } from './styles';\n\nfunction getCount(kind, totalCount) {\n  var countByKind = totalCount[kind];\n\n  if (typeof countByKind === 'undefined') {\n    return null;\n  }\n\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"(\", countByKind, \")\");\n}\n\nfunction renderType(type) {\n  if (!type) {\n    return null;\n  }\n\n  return React.createElement(Type, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    icon: \"comment-alt-lines\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), \" \", __('Works with messenger'));\n}\n\nfunction renderCreate(createUrl, kind) {\n  if (!createUrl && !kind) {\n    return null;\n  }\n\n  var trigger = React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"+ \", __('Add'));\n\n  if (kind === INTEGRATION_KINDS.FACEBOOK_MESSENGER) {\n    return React.createElement(Link, {\n      to: \"\".concat(createUrl, \"?kind=\").concat(INTEGRATION_KINDS.FACEBOOK_MESSENGER),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"+ \", __('Add'));\n  }\n\n  if (kind === INTEGRATION_KINDS.FACEBOOK_POST) {\n    return React.createElement(Link, {\n      to: \"\".concat(createUrl, \"?kind=\").concat(INTEGRATION_KINDS.FACEBOOK_POST),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"+ \", __('Add'));\n  }\n\n  if (kind === INTEGRATION_KINDS.MESSENGER) {\n    return React.createElement(Link, {\n      to: createUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"+ \", __('Add'));\n  }\n\n  if (kind === INTEGRATION_KINDS.NYLAS_OFFICE365 || kind === INTEGRATION_KINDS.NYLAS_GMAIL) {\n    var content = function content(props) {\n      return React.createElement(NylasForm, Object.assign({\n        kind: kind\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }));\n    };\n\n    return React.createElement(ModalTrigger, {\n      title: \"Add \".concat(formatText(kind)),\n      content: content,\n      autoOpenKey: \"show\".concat(formatText(kind, true), \"Modal\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    });\n  }\n\n  if (kind === INTEGRATION_KINDS.NYLAS_IMAP || kind === INTEGRATION_KINDS.NYLAS_EXCHANGE || kind === INTEGRATION_KINDS.NYLAS_OUTLOOK || kind === INTEGRATION_KINDS.NYLAS_YAHOO) {\n    var _content = function _content(props) {\n      return React.createElement(NylasForm, Object.assign({\n        kind: kind\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }));\n    };\n\n    return React.createElement(ModalTrigger, {\n      title: \"Add \".concat(formatText(kind)),\n      trigger: trigger,\n      content: _content,\n      autoOpenKey: \"show\".concat(formatText(kind), \"Modal\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    });\n  }\n\n  if (kind === INTEGRATION_KINDS.GMAIL) {\n    return React.createElement(Link, {\n      to: createUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"+ \", __('Add'));\n  }\n\n  if (kind === 'twitter') {\n    var _content2 = function _content2(props) {\n      return React.createElement(Twitter, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }));\n    };\n\n    return React.createElement(ModalTrigger, {\n      title: \"Add twitter\",\n      trigger: trigger,\n      content: _content2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    });\n  }\n\n  if (kind === INTEGRATION_KINDS.SMOOCH_LINE) {\n    var _content3 = function _content3(props) {\n      return React.createElement(LineForm, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }));\n    };\n\n    return React.createElement(ModalTrigger, {\n      title: \"Add Line\",\n      trigger: trigger,\n      content: _content3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    });\n  }\n\n  if (kind === INTEGRATION_KINDS.TELNYX) {\n    var _content4 = function _content4(props) {\n      return React.createElement(TelnyxForm, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }));\n    };\n\n    return React.createElement(ModalTrigger, {\n      title: \"Add telnyx\",\n      trigger: trigger,\n      content: _content4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    });\n  }\n\n  var formContent = function formContent(props) {\n    return React.createElement(IntegrationForm, Object.assign({}, props, {\n      type: kind,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }));\n  };\n\n  return React.createElement(ModalTrigger, {\n    title: \"Add \".concat(formatText(kind)),\n    trigger: trigger,\n    content: formContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  });\n}\n\nfunction Entry(_ref) {\n  var integration = _ref.integration,\n      getClassName = _ref.getClassName,\n      toggleBox = _ref.toggleBox,\n      totalCount = _ref.totalCount,\n      customLink = _ref.customLink;\n  var kind = integration.kind;\n  var createUrl = integration.createUrl,\n      createModal = integration.createModal;\n\n  var boxOnClick = function boxOnClick() {\n    return toggleBox(kind);\n  };\n\n  var handleLink = function handleLink() {\n    return customLink && customLink(kind, createUrl);\n  };\n\n  function renderCustomLink() {\n    if (![INTEGRATION_KINDS.NYLAS_GMAIL, INTEGRATION_KINDS.NYLAS_OFFICE365].includes(kind)) {\n      return null;\n    }\n\n    return React.createElement(\"button\", {\n      onClick: handleLink,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"+\", __('Add'));\n  }\n\n  return React.createElement(IntegrationItem, {\n    key: integration.name,\n    className: getClassName(kind),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(Box, {\n    onClick: boxOnClick,\n    isInMessenger: integration.inMessenger,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"logo\",\n    src: integration.logo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }), React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, integration.name, \" \", getCount(kind, totalCount)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, __(integration.description), renderType(integration.inMessenger)), !integration.isAvailable && React.createElement(Ribbon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, __('Coming soon')))), renderCustomLink(), renderCreate(createUrl, createModal));\n}\n\nexport default Entry;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/integrations/components/store/Entry.tsx"],"names":["formatText","Icon","ModalTrigger","__","NylasForm","React","Link","INTEGRATION_KINDS","IntegrationForm","LineForm","TelnyxForm","Twitter","Box","IntegrationItem","Ribbon","Type","getCount","kind","totalCount","countByKind","renderType","type","renderCreate","createUrl","trigger","FACEBOOK_MESSENGER","FACEBOOK_POST","MESSENGER","NYLAS_OFFICE365","NYLAS_GMAIL","content","props","NYLAS_IMAP","NYLAS_EXCHANGE","NYLAS_OUTLOOK","NYLAS_YAHOO","GMAIL","SMOOCH_LINE","TELNYX","formContent","Entry","integration","getClassName","toggleBox","customLink","createModal","boxOnClick","handleLink","renderCustomLink","includes","name","inMessenger","logo","description","isAvailable"],"mappings":"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","sourcesContent":["import { formatText } from 'modules/activityLogs/utils';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport { __ } from 'modules/common/utils';\nimport NylasForm from 'modules/settings/integrations/containers/mail/Form';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { INTEGRATION_KINDS } from '../../constants';\nimport IntegrationForm from '../../containers/common/IntegrationForm';\nimport LineForm from '../../containers/line/Form';\nimport TelnyxForm from '../../containers/telnyx/TelnyxForm';\nimport Twitter from '../../containers/twitter/Twitter';\nimport { Box, IntegrationItem, Ribbon, Type } from './styles';\n\ntype TotalCount = {\n  messenger: number;\n  form: number;\n  facebook: number;\n  callpro: number;\n  chatfuel: number;\n  gmail: number;\n  imap: number;\n  office365: number;\n  outlook: number;\n  yahoo: number;\n  line: number;\n  telegram: number;\n  viber: number;\n  twilio: number;\n  whatsapp: number;\n  exchange: number;\n  telnyx: number;\n};\n\ntype Props = {\n  integration: any;\n  getClassName: (selectedKind: string) => string;\n  toggleBox: (kind: string) => void;\n  customLink?: (kind: string, addLink: string) => void;\n  queryParams: any;\n  totalCount: TotalCount;\n};\n\nfunction getCount(kind: string, totalCount: TotalCount) {\n  const countByKind = totalCount[kind];\n\n  if (typeof countByKind === 'undefined') {\n    return null;\n  }\n\n  return <span>({countByKind})</span>;\n}\n\nfunction renderType(type: string) {\n  if (!type) {\n    return null;\n  }\n\n  return (\n    <Type>\n      <Icon icon=\"comment-alt-lines\" /> {__('Works with messenger')}\n    </Type>\n  );\n}\n\nfunction renderCreate(createUrl, kind) {\n  if (!createUrl && !kind) {\n    return null;\n  }\n\n  const trigger = <button>+ {__('Add')}</button>;\n\n  if (kind === INTEGRATION_KINDS.FACEBOOK_MESSENGER) {\n    return (\n      <Link to={`${createUrl}?kind=${INTEGRATION_KINDS.FACEBOOK_MESSENGER}`}>\n        + {__('Add')}\n      </Link>\n    );\n  }\n\n  if (kind === INTEGRATION_KINDS.FACEBOOK_POST) {\n    return (\n      <Link to={`${createUrl}?kind=${INTEGRATION_KINDS.FACEBOOK_POST}`}>\n        + {__('Add')}\n      </Link>\n    );\n  }\n\n  if (kind === INTEGRATION_KINDS.MESSENGER) {\n    return <Link to={createUrl}>+ {__('Add')}</Link>;\n  }\n\n  if (\n    kind === INTEGRATION_KINDS.NYLAS_OFFICE365 ||\n    kind === INTEGRATION_KINDS.NYLAS_GMAIL\n  ) {\n    const content = props => <NylasForm kind={kind} {...props} />;\n\n    return (\n      <ModalTrigger\n        title={`Add ${formatText(kind)}`}\n        content={content}\n        autoOpenKey={`show${formatText(kind, true)}Modal`}\n      />\n    );\n  }\n\n  if (\n    kind === INTEGRATION_KINDS.NYLAS_IMAP ||\n    kind === INTEGRATION_KINDS.NYLAS_EXCHANGE ||\n    kind === INTEGRATION_KINDS.NYLAS_OUTLOOK ||\n    kind === INTEGRATION_KINDS.NYLAS_YAHOO\n  ) {\n    const content = props => <NylasForm kind={kind} {...props} />;\n\n    return (\n      <ModalTrigger\n        title={`Add ${formatText(kind)}`}\n        trigger={trigger}\n        content={content}\n        autoOpenKey={`show${formatText(kind)}Modal`}\n      />\n    );\n  }\n\n  if (kind === INTEGRATION_KINDS.GMAIL) {\n    return <Link to={createUrl}>+ {__('Add')}</Link>;\n  }\n\n  if (kind === 'twitter') {\n    const content = props => <Twitter {...props} />;\n\n    return (\n      <ModalTrigger title=\"Add twitter\" trigger={trigger} content={content} />\n    );\n  }\n\n  if (kind === INTEGRATION_KINDS.SMOOCH_LINE) {\n    const content = props => <LineForm {...props} />;\n\n    return (\n      <ModalTrigger title=\"Add Line\" trigger={trigger} content={content} />\n    );\n  }\n\n  if (kind === INTEGRATION_KINDS.TELNYX) {\n    const content = props => <TelnyxForm {...props} />;\n\n    return (\n      <ModalTrigger title=\"Add telnyx\" trigger={trigger} content={content} />\n    );\n  }\n\n  const formContent = props => <IntegrationForm {...props} type={kind} />;\n\n  return (\n    <ModalTrigger\n      title={`Add ${formatText(kind)}`}\n      trigger={trigger}\n      content={formContent}\n    />\n  );\n}\n\nfunction Entry({\n  integration,\n  getClassName,\n  toggleBox,\n  totalCount,\n  customLink\n}: Props) {\n  const { kind } = integration;\n  const { createUrl, createModal } = integration;\n\n  const boxOnClick = () => toggleBox(kind);\n\n  const handleLink = () => {\n    return customLink && customLink(kind, createUrl);\n  };\n\n  function renderCustomLink() {\n    if (\n      ![\n        INTEGRATION_KINDS.NYLAS_GMAIL,\n        INTEGRATION_KINDS.NYLAS_OFFICE365\n      ].includes(kind)\n    ) {\n      return null;\n    }\n\n    return <button onClick={handleLink}>+{__('Add')}</button>;\n  }\n\n  return (\n    <IntegrationItem key={integration.name} className={getClassName(kind)}>\n      <Box onClick={boxOnClick} isInMessenger={integration.inMessenger}>\n        <img alt=\"logo\" src={integration.logo} />\n        <h5>\n          {integration.name} {getCount(kind, totalCount)}\n        </h5>\n        <p>\n          {__(integration.description)}\n          {renderType(integration.inMessenger)}\n        </p>\n        {!integration.isAvailable && (\n          <Ribbon>\n            <span>{__('Coming soon')}</span>\n          </Ribbon>\n        )}\n      </Box>\n      {renderCustomLink()}\n      {renderCreate(createUrl, createModal)}\n    </IntegrationItem>\n  );\n}\n\nexport default Entry;\n"]},"metadata":{},"sourceType":"module"}