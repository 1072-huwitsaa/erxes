{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/leads/components/step/FullPreviewStep.tsx\";\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { Tabs, TabTitle } from 'modules/common/components/tabs';\nimport { __ } from 'modules/common/utils';\nimport FieldsPreview from 'modules/forms/components/FieldsPreview';\nimport React from 'react';\nimport CalloutPreview from './preview/CalloutPreview';\nimport FormPreview from './preview/FormPreview';\nimport SuccessPreview from './preview/SuccessPreview';\nimport { CarouselInner, CarouselSteps, DesktopPreview, FlexItem, FullPreview, MobilePreview, TabletPreview } from './style';\n\nvar FullPreviewStep =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FullPreviewStep, _React$Component);\n\n  function FullPreviewStep(props) {\n    var _this;\n\n    _classCallCheck(this, FullPreviewStep);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FullPreviewStep).call(this, props));\n\n    _this.carouseItems = function (name, value) {\n      var onClick = function onClick() {\n        return _this.onChangePreview(value);\n      };\n\n      return React.createElement(CarouselInner, {\n        selected: _this.props.carousel === value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, __(name)));\n    };\n\n    _this.onChangeTab = function (currentTab) {\n      _this.setState({\n        currentTab: currentTab\n      });\n    };\n\n    _this.onChangePreview = function (value) {\n      return _this.props.onChange('carousel', value);\n    };\n\n    _this.state = {\n      currentTab: 'desktop'\n    };\n    return _this;\n  }\n\n  _createClass(FullPreviewStep, [{\n    key: \"renderPreview\",\n    value: function renderPreview() {\n      var _this$props = this.props,\n          carousel = _this$props.carousel,\n          formData = _this$props.formData;\n\n      if (carousel === 'callout') {\n        return React.createElement(CalloutPreview, Object.assign({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }));\n      }\n\n      if (carousel === 'form') {\n        var desc = formData.desc,\n            fields = formData.fields;\n\n        var previewRenderer = function previewRenderer() {\n          return React.createElement(FieldsPreview, {\n            fields: fields || [],\n            formDesc: desc,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          });\n        };\n\n        return React.createElement(FormPreview, Object.assign({}, this.props, {\n          title: formData.title,\n          btnText: formData.btnText,\n          previewRenderer: previewRenderer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(SuccessPreview, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"renderResolutionPreview\",\n    value: function renderResolutionPreview() {\n      var currentTab = this.state.currentTab;\n\n      if (currentTab === 'desktop') {\n        return React.createElement(DesktopPreview, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, this.renderPreview());\n      }\n\n      if (currentTab === 'tablet') {\n        return React.createElement(TabletPreview, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, this.renderPreview());\n      }\n\n      return React.createElement(MobilePreview, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.renderPreview());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var currentTab = this.state.currentTab;\n      return React.createElement(FlexItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(FullPreview, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        full: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(TabTitle, {\n        className: currentTab === 'desktop' ? 'active' : '',\n        onClick: this.onChangeTab.bind(this, 'desktop'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"monitor-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), \" \", __('Desktop')), React.createElement(TabTitle, {\n        className: currentTab === 'tablet' ? 'active' : '',\n        onClick: this.onChangeTab.bind(this, 'tablet'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"tablet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), \" \", __('Tablet')), React.createElement(TabTitle, {\n        className: currentTab === 'mobile' ? 'active' : '',\n        onClick: this.onChangeTab.bind(this, 'mobile'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"mobile-android\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), \" \", __('Mobile'))), this.renderResolutionPreview(), React.createElement(CarouselSteps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, !this.props.skip && this.carouseItems('CallOut', 'callout'), this.carouseItems('Form', 'form'), this.carouseItems('Success', 'success'))));\n    }\n  }]);\n\n  return FullPreviewStep;\n}(React.Component);\n\nexport default FullPreviewStep;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/leads/components/step/FullPreviewStep.tsx"],"names":["Icon","Tabs","TabTitle","__","FieldsPreview","React","CalloutPreview","FormPreview","SuccessPreview","CarouselInner","CarouselSteps","DesktopPreview","FlexItem","FullPreview","MobilePreview","TabletPreview","FullPreviewStep","props","carouseItems","name","value","onClick","onChangePreview","carousel","onChangeTab","currentTab","setState","onChange","state","formData","desc","fields","previewRenderer","title","btnText","renderPreview","bind","renderResolutionPreview","skip","Component"],"mappings":"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","sourcesContent":["import Icon from 'erxes-common-ui/lib/components/icon';\nimport { Tabs, TabTitle } from 'modules/common/components/tabs';\n\nimport { __ } from 'modules/common/utils';\nimport FieldsPreview from 'modules/forms/components/FieldsPreview';\nimport { IFormData } from 'modules/forms/types';\nimport React from 'react';\nimport CalloutPreview from './preview/CalloutPreview';\nimport FormPreview from './preview/FormPreview';\nimport SuccessPreview from './preview/SuccessPreview';\nimport {\n  CarouselInner,\n  CarouselSteps,\n  DesktopPreview,\n  FlexItem,\n  FullPreview,\n  MobilePreview,\n  TabletPreview\n} from './style';\n\ntype Props = {\n  formData: IFormData;\n  type: string;\n  calloutTitle?: string;\n  calloutBtnText?: string;\n  bodyValue?: string;\n  color: string;\n  theme: string;\n  image?: string;\n  onChange: (name: 'carousel', value: string) => void;\n  carousel: string;\n  thankContent?: string;\n  skip?: boolean;\n};\n\ntype State = {\n  currentTab: string;\n};\n\nclass FullPreviewStep extends React.Component<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTab: 'desktop'\n    };\n  }\n\n  carouseItems = (name: string, value: string) => {\n    const onClick = () => this.onChangePreview(value);\n\n    return (\n      <CarouselInner selected={this.props.carousel === value}>\n        <li>\n          <span onClick={onClick} />\n        </li>\n        <span>{__(name)}</span>\n      </CarouselInner>\n    );\n  };\n\n  onChangeTab = (currentTab: string) => {\n    this.setState({ currentTab });\n  };\n\n  onChangePreview = (value: string) => {\n    return this.props.onChange('carousel', value);\n  };\n\n  renderPreview() {\n    const { carousel, formData } = this.props;\n\n    if (carousel === 'callout') {\n      return <CalloutPreview {...this.props} />;\n    }\n\n    if (carousel === 'form') {\n      const { desc, fields } = formData;\n\n      const previewRenderer = () => (\n        <FieldsPreview fields={fields || []} formDesc={desc} />\n      );\n\n      return (\n        <FormPreview\n          {...this.props}\n          title={formData.title}\n          btnText={formData.btnText}\n          previewRenderer={previewRenderer}\n        />\n      );\n    }\n\n    return <SuccessPreview {...this.props} />;\n  }\n\n  renderResolutionPreview() {\n    const { currentTab } = this.state;\n\n    if (currentTab === 'desktop') {\n      return <DesktopPreview>{this.renderPreview()}</DesktopPreview>;\n    }\n\n    if (currentTab === 'tablet') {\n      return <TabletPreview>{this.renderPreview()}</TabletPreview>;\n    }\n\n    return <MobilePreview>{this.renderPreview()}</MobilePreview>;\n  }\n\n  render() {\n    const { currentTab } = this.state;\n\n    return (\n      <FlexItem>\n        <FullPreview>\n          <Tabs full={true}>\n            <TabTitle\n              className={currentTab === 'desktop' ? 'active' : ''}\n              onClick={this.onChangeTab.bind(this, 'desktop')}\n            >\n              <Icon icon=\"monitor-1\" /> {__('Desktop')}\n            </TabTitle>\n            <TabTitle\n              className={currentTab === 'tablet' ? 'active' : ''}\n              onClick={this.onChangeTab.bind(this, 'tablet')}\n            >\n              <Icon icon=\"tablet\" /> {__('Tablet')}\n            </TabTitle>\n            <TabTitle\n              className={currentTab === 'mobile' ? 'active' : ''}\n              onClick={this.onChangeTab.bind(this, 'mobile')}\n            >\n              <Icon icon=\"mobile-android\" /> {__('Mobile')}\n            </TabTitle>\n          </Tabs>\n          {this.renderResolutionPreview()}\n\n          <CarouselSteps>\n            {!this.props.skip && this.carouseItems('CallOut', 'callout')}\n            {this.carouseItems('Form', 'form')}\n            {this.carouseItems('Success', 'success')}\n          </CarouselSteps>\n        </FullPreview>\n      </FlexItem>\n    );\n  }\n}\n\nexport default FullPreviewStep;\n"]},"metadata":{},"sourceType":"module"}