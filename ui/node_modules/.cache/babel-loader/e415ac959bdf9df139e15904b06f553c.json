{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/ActivityLogs.tsx\";\nimport ActivityList from 'modules/activityLogs/components/ActivityList';\nimport DataWithLoader from 'modules/common/components/DataWithLoader';\nimport { Tabs, TabTitle } from 'modules/common/components/tabs';\nimport { ActivityContent } from 'modules/common/styles/main';\nimport { __ } from 'modules/common/utils';\nimport { hasAnyActivity } from 'modules/customers/utils';\nimport React from 'react';\n\nvar ActivityLogs =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ActivityLogs, _React$PureComponent);\n\n  function ActivityLogs(props) {\n    var _this;\n\n    _classCallCheck(this, ActivityLogs);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ActivityLogs).call(this, props));\n\n    _this.onTabClick = function (currentTab) {\n      var onTabClick = _this.props.onTabClick;\n\n      _this.setState({\n        currentTab: currentTab\n      }, function () {\n        onTabClick(currentTab);\n      });\n    };\n\n    _this.renderExtraTabs = function () {\n      var currentTab = _this.state.currentTab;\n      var extraTabs = _this.props.extraTabs;\n      return extraTabs.map(function (_ref) {\n        var name = _ref.name,\n            label = _ref.label;\n        return React.createElement(TabTitle, {\n          key: Math.random(),\n          className: currentTab === name ? 'active' : '',\n          onClick: _this.onTabClick.bind(_assertThisInitialized(_this), name),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, __(label));\n      });\n    };\n\n    _this.state = {\n      currentTab: 'activity'\n    };\n    return _this;\n  }\n\n  _createClass(ActivityLogs, [{\n    key: \"renderTabContent\",\n    value: function renderTabContent() {\n      var currentTab = this.state.currentTab;\n      var _this$props = this.props,\n          currentUser = _this$props.currentUser,\n          activityLogs = _this$props.activityLogs,\n          loadingLogs = _this$props.loadingLogs,\n          target = _this$props.target;\n      var hasActivity = hasAnyActivity(activityLogs);\n      return React.createElement(ActivityContent, {\n        isEmpty: !hasActivity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(DataWithLoader, {\n        loading: loadingLogs,\n        count: !loadingLogs && hasActivity ? 1 : 0,\n        data: React.createElement(ActivityList, {\n          user: currentUser,\n          activities: activityLogs,\n          target: target,\n          type: currentTab,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }),\n        emptyText: \"No Activities\",\n        emptyImage: \"/images/actions/19.svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var currentTab = this.state.currentTab;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        grayBorder: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(TabTitle, {\n        className: currentTab === 'activity' ? 'active' : '',\n        onClick: this.onTabClick.bind(this, 'activity'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, __('Activity')), React.createElement(TabTitle, {\n        className: currentTab === 'internal_note' ? 'active' : '',\n        onClick: this.onTabClick.bind(this, 'internal_note'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, __('Notes')), this.renderExtraTabs()), this.renderTabContent());\n    }\n  }]);\n\n  return ActivityLogs;\n}(React.PureComponent);\n\nexport default ActivityLogs;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/activityLogs/components/ActivityLogs.tsx"],"names":["ActivityList","DataWithLoader","Tabs","TabTitle","ActivityContent","__","hasAnyActivity","React","ActivityLogs","props","onTabClick","currentTab","setState","renderExtraTabs","state","extraTabs","map","name","label","Math","random","bind","currentUser","activityLogs","loadingLogs","target","hasActivity","renderTabContent","PureComponent"],"mappings":"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","sourcesContent":["import ActivityList from 'modules/activityLogs/components/ActivityList';\nimport { IActivityLog } from 'modules/activityLogs/types';\nimport { IUser } from 'modules/auth/types';\nimport DataWithLoader from 'modules/common/components/DataWithLoader';\nimport { Tabs, TabTitle } from 'modules/common/components/tabs';\nimport { ActivityContent } from 'modules/common/styles/main';\nimport { __ } from 'modules/common/utils';\nimport { hasAnyActivity } from 'modules/customers/utils';\nimport React from 'react';\n\ntype Props = {\n  activityLogs: IActivityLog[];\n  currentUser: IUser;\n  target?: string;\n  loadingLogs: boolean;\n  extraTabs: Array<{ name: string; label: string }>;\n  onTabClick: (currentTab: string) => void;\n};\n\ntype State = {\n  currentTab: string;\n};\n\nclass ActivityLogs extends React.PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTab: 'activity'\n    };\n  }\n\n  onTabClick = (currentTab: string) => {\n    const { onTabClick } = this.props;\n\n    this.setState({ currentTab }, () => {\n      onTabClick(currentTab);\n    });\n  };\n\n  renderTabContent() {\n    const { currentTab } = this.state;\n    const { currentUser, activityLogs, loadingLogs, target } = this.props;\n\n    const hasActivity = hasAnyActivity(activityLogs);\n\n    return (\n      <ActivityContent isEmpty={!hasActivity}>\n        <DataWithLoader\n          loading={loadingLogs}\n          count={!loadingLogs && hasActivity ? 1 : 0}\n          data={\n            <ActivityList\n              user={currentUser}\n              activities={activityLogs}\n              target={target}\n              type={currentTab}\n            />\n          }\n          emptyText=\"No Activities\"\n          emptyImage=\"/images/actions/19.svg\"\n        />\n      </ActivityContent>\n    );\n  }\n\n  renderExtraTabs = () => {\n    const { currentTab } = this.state;\n    const { extraTabs } = this.props;\n\n    return extraTabs.map(({ name, label }) => {\n      return (\n        <TabTitle\n          key={Math.random()}\n          className={currentTab === name ? 'active' : ''}\n          onClick={this.onTabClick.bind(this, name)}\n        >\n          {__(label)}\n        </TabTitle>\n      );\n    });\n  };\n\n  render() {\n    const { currentTab } = this.state;\n\n    return (\n      <div>\n        <Tabs grayBorder={true}>\n          <TabTitle\n            className={currentTab === 'activity' ? 'active' : ''}\n            onClick={this.onTabClick.bind(this, 'activity')}\n          >\n            {__('Activity')}\n          </TabTitle>\n          <TabTitle\n            className={currentTab === 'internal_note' ? 'active' : ''}\n            onClick={this.onTabClick.bind(this, 'internal_note')}\n          >\n            {__('Notes')}\n          </TabTitle>\n          {this.renderExtraTabs()}\n        </Tabs>\n\n        {this.renderTabContent()}\n      </div>\n    );\n  }\n}\n\nexport default ActivityLogs;\n"]},"metadata":{},"sourceType":"module"}