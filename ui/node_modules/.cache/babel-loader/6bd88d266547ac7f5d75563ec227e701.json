{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/scripts/components/List.tsx\";\nimport Button from \"erxes-common-ui/lib/components/button\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport EmptyContent from \"modules/common/components/empty/EmptyContent\";\nimport HeaderDescription from \"modules/common/components/HeaderDescription\";\nimport ModalTrigger from \"modules/common/components/ModalTrigger\";\nimport Table from \"modules/common/components/table\";\nimport Tip from \"modules/common/components/Tip\";\nimport { __ } from \"modules/common/utils\";\nimport { EMPTY_CONTENT_SCRIPT } from \"modules/settings/constants\";\nimport React from \"react\";\nimport List from \"../../common/components/List\";\nimport RowActions from \"../../common/components/RowActions\";\nimport Form from \"../containers/Form\";\nimport InstallCode from \"./InstallCode\";\n\nvar ScriptList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ScriptList, _React$Component);\n\n  function ScriptList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ScriptList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ScriptList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderForm = function (props) {\n      return React.createElement(Form, Object.assign({}, props, {\n        renderButton: _this.props.renderButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }));\n    };\n\n    _this.installCodeAction = function (object) {\n      var content = function content(props) {\n        return React.createElement(InstallCode, Object.assign({}, props, {\n          script: object,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        }));\n      };\n\n      return React.createElement(ModalTrigger, {\n        title: \"Install code\",\n        trigger: React.createElement(Button, {\n          btnStyle: \"link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, React.createElement(Tip, {\n          text: \"Install code\",\n          placement: \"top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: \"code\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }))),\n        content: content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      });\n    };\n\n    _this.renderRows = function (_ref) {\n      var objects = _ref.objects;\n      return objects.map(function (object, index) {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, object.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, object.messenger && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(Tip, {\n          text: \"Messenger\",\n          placement: \"top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: \"comment-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        })), \" \", object.messenger.name), object.kbTopic && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(Tip, {\n          text: \"Knowledge Base\",\n          placement: \"top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: \"book-open\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        })), \" \", object.kbTopic.title), object.leads.length > 0 && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(Tip, {\n          text: \"Pop ups\",\n          placement: \"top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: \"window\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        })), object.leads.map(function (lead) {\n          return \" \".concat(lead.name, \",\");\n        }))), React.createElement(RowActions, Object.assign({}, _this.props, {\n          object: object,\n          renderForm: _this.renderForm,\n          additionalActions: _this.installCodeAction,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        })));\n      });\n    };\n\n    _this.renderContent = function (props) {\n      return React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, __(\"Name\")), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, __(\"Integrations\")), React.createElement(\"th\", {\n        style: {\n          width: 120\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, __(\"Actions\")))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, _this.renderRows(props)));\n    };\n\n    return _this;\n  }\n\n  _createClass(ScriptList, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(List, Object.assign({\n        formTitle: __(\"New script\"),\n        breadcrumb: [{\n          title: __(\"Settings\"),\n          link: \"/settings\"\n        }, {\n          title: __(\"Scripts\")\n        }],\n        title: __(\"Scripts\"),\n        leftActionBar: React.createElement(HeaderDescription, {\n          icon: \"/images/actions/23.svg\",\n          title: \"Scripts\",\n          description: \"Script manager allows erxes users to quickly and easily generate and update related scripts for any of their business websites. Set up once and your team will be able to easily display multiple erxes widgets on any of their businesses websites\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }),\n        renderForm: this.renderForm,\n        renderContent: this.renderContent,\n        center: true,\n        emptyContent: React.createElement(EmptyContent, {\n          content: EMPTY_CONTENT_SCRIPT,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        })\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ScriptList;\n}(React.Component);\n\nexport default ScriptList;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/scripts/components/List.tsx"],"names":["Button","Icon","EmptyContent","HeaderDescription","ModalTrigger","Table","Tip","__","EMPTY_CONTENT_SCRIPT","React","List","RowActions","Form","InstallCode","ScriptList","renderForm","props","renderButton","installCodeAction","object","content","renderRows","objects","map","index","name","messenger","kbTopic","title","leads","length","lead","renderContent","width","link","Component"],"mappings":"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","sourcesContent":["import Button from \"erxes-common-ui/lib/components/button\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport EmptyContent from \"modules/common/components/empty/EmptyContent\";\nimport HeaderDescription from \"modules/common/components/HeaderDescription\";\nimport ModalTrigger from \"modules/common/components/ModalTrigger\";\nimport Table from \"modules/common/components/table\";\nimport Tip from \"modules/common/components/Tip\";\nimport { IButtonMutateProps } from \"modules/common/types\";\nimport { __ } from \"modules/common/utils\";\nimport { EMPTY_CONTENT_SCRIPT } from \"modules/settings/constants\";\nimport React from \"react\";\nimport List from \"../../common/components/List\";\nimport RowActions from \"../../common/components/RowActions\";\nimport { ICommonListProps } from \"../../common/types\";\nimport Form from \"../containers/Form\";\nimport InstallCode from \"./InstallCode\";\n\ntype Props = {\n  renderButton: (props: IButtonMutateProps) => JSX.Element;\n} & ICommonListProps;\n\nclass ScriptList extends React.Component<Props> {\n  renderForm = (props) => {\n    return <Form {...props} renderButton={this.props.renderButton} />;\n  };\n\n  installCodeAction = (object) => {\n    const content = (props) => <InstallCode {...props} script={object} />;\n\n    return (\n      <ModalTrigger\n        title=\"Install code\"\n        trigger={\n          <Button btnStyle=\"link\">\n            <Tip text=\"Install code\" placement=\"top\">\n              <Icon icon=\"code\" />\n            </Tip>\n          </Button>\n        }\n        content={content}\n      />\n    );\n  };\n\n  renderRows = ({ objects }) => {\n    return objects.map((object, index) => {\n      return (\n        <tr key={index}>\n          <td>{object.name}</td>\n          <td>\n            {object.messenger && (\n              <div>\n                <Tip text=\"Messenger\" placement=\"top\">\n                  <Icon icon=\"comment-1\" />\n                </Tip>{\" \"}\n                {object.messenger.name}\n              </div>\n            )}\n            {object.kbTopic && (\n              <div>\n                <Tip text=\"Knowledge Base\" placement=\"top\">\n                  <Icon icon=\"book-open\" />\n                </Tip>{\" \"}\n                {object.kbTopic.title}\n              </div>\n            )}\n            {object.leads.length > 0 && (\n              <div>\n                <Tip text=\"Pop ups\" placement=\"top\">\n                  <Icon icon=\"window\" />\n                </Tip>\n                {object.leads.map((lead) => ` ${lead.name},`)}\n              </div>\n            )}\n          </td>\n          <RowActions\n            {...this.props}\n            object={object}\n            renderForm={this.renderForm}\n            additionalActions={this.installCodeAction}\n          />\n        </tr>\n      );\n    });\n  };\n\n  renderContent = (props) => {\n    return (\n      <Table>\n        <thead>\n          <tr>\n            <th>{__(\"Name\")}</th>\n            <th>{__(\"Integrations\")}</th>\n            <th style={{ width: 120 }}>{__(\"Actions\")}</th>\n          </tr>\n        </thead>\n        <tbody>{this.renderRows(props)}</tbody>\n      </Table>\n    );\n  };\n\n  render() {\n    return (\n      <List\n        formTitle={__(\"New script\")}\n        breadcrumb={[\n          { title: __(\"Settings\"), link: \"/settings\" },\n          { title: __(\"Scripts\") },\n        ]}\n        title={__(\"Scripts\")}\n        leftActionBar={\n          <HeaderDescription\n            icon=\"/images/actions/23.svg\"\n            title=\"Scripts\"\n            description={`Script manager allows erxes users to quickly and easily generate and update related scripts for any of their business websites. Set up once and your team will be able to easily display multiple erxes widgets on any of their businesses websites`}\n          />\n        }\n        renderForm={this.renderForm}\n        renderContent={this.renderContent}\n        center={true}\n        emptyContent={<EmptyContent content={EMPTY_CONTENT_SCRIPT} />}\n        {...this.props}\n      />\n    );\n  }\n}\n\nexport default ScriptList;\n"]},"metadata":{},"sourceType":"module"}