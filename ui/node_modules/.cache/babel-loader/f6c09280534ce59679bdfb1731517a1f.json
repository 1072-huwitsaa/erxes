{"ast":null,"code":"var _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/deals/components/product/ProductRow.tsx\";\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport { NameWrapper, RemoveRow, TypeBox } from 'modules/deals/styles';\nimport React from 'react';\n\nfunction ProductRow(props) {\n  var renderAmmount = function renderAmmount(value) {\n    if (!value || value === 0) {\n      return '-';\n    }\n\n    return React.createElement(React.Fragment, null, value.toLocaleString(), \" \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, props.productData.currency));\n  };\n\n  var renderType = function renderType(type) {\n    if (!type) {\n      return React.createElement(Tip, {\n        text: __('Unknown'),\n        placement: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(TypeBox, {\n        color: \"#AAAEB3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"folder-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      })));\n    }\n\n    if (type === 'product') {\n      return React.createElement(Tip, {\n        text: __('Product'),\n        placement: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(TypeBox, {\n        color: \"#3B85F4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      })));\n    }\n\n    return React.createElement(Tip, {\n      text: __('Service'),\n      placement: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(TypeBox, {\n      color: \"#EA475D\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      icon: \"invoice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })));\n  };\n\n  var _props$productData = props.productData,\n      product = _props$productData.product,\n      quantity = _props$productData.quantity,\n      unitPrice = _props$productData.unitPrice,\n      discount = _props$productData.discount,\n      tax = _props$productData.tax,\n      amount = _props$productData.amount,\n      uom = _props$productData.uom,\n      _id = _props$productData._id;\n  var id = product ? product._id : _id;\n\n  var changeCurrent = function changeCurrent() {\n    return props.changeCurrentProduct(id);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"tr\", {\n    id: id,\n    className: props.activeProduct === id ? 'active' : '',\n    onClick: changeCurrent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(NameWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, renderType(product ? product.type : ''), product ? product.name : __('Not selected'))), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, quantity, \" \", React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, uom)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, renderAmmount(unitPrice)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, renderAmmount(discount)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, renderAmmount(tax)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, renderAmmount(amount)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(RemoveRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    onClick: props.onRemove,\n    icon: \"times-circle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })))), props.children && React.createElement(\"tr\", {\n    className: \"active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    colSpan: 7,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, props.children)));\n}\n\nexport default ProductRow;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/deals/components/product/ProductRow.tsx"],"names":["Icon","Tip","__","NameWrapper","RemoveRow","TypeBox","React","ProductRow","props","renderAmmount","value","toLocaleString","productData","currency","renderType","type","product","quantity","unitPrice","discount","tax","amount","uom","_id","id","changeCurrent","changeCurrentProduct","activeProduct","name","onRemove","children"],"mappings":"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","sourcesContent":["import Icon from 'erxes-common-ui/lib/components/icon';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport { NameWrapper, RemoveRow, TypeBox } from 'modules/deals/styles';\nimport { IProductData } from 'modules/deals/types';\nimport React from 'react';\n\ntype Props = {\n  productData: IProductData;\n  children: React.ReactNode;\n  activeProduct?: string;\n  onRemove: () => void;\n  changeCurrentProduct: (productId: string) => void;\n};\n\nfunction ProductRow(props: Props) {\n  const renderAmmount = (value: number) => {\n    if (!value || value === 0) {\n      return '-';\n    }\n\n    return (\n      <>\n        {value.toLocaleString()} <strong>{props.productData.currency}</strong>\n      </>\n    );\n  };\n\n  const renderType = (type: string) => {\n    if (!type) {\n      return (\n        <Tip text={__('Unknown')} placement=\"left\">\n          <TypeBox color=\"#AAAEB3\">\n            <Icon icon=\"folder-2\" />\n          </TypeBox>\n        </Tip>\n      );\n    }\n\n    if (type === 'product') {\n      return (\n        <Tip text={__('Product')} placement=\"left\">\n          <TypeBox color=\"#3B85F4\">\n            <Icon icon=\"box\" />\n          </TypeBox>\n        </Tip>\n      );\n    }\n\n    return (\n      <Tip text={__('Service')} placement=\"left\">\n        <TypeBox color=\"#EA475D\">\n          <Icon icon=\"invoice\" />\n        </TypeBox>\n      </Tip>\n    );\n  };\n\n  const {\n    product,\n    quantity,\n    unitPrice,\n    discount,\n    tax,\n    amount,\n    uom,\n    _id\n  } = props.productData;\n  const id = product ? product._id : _id;\n\n  const changeCurrent = () => props.changeCurrentProduct(id);\n\n  return (\n    <>\n      <tr\n        id={id}\n        className={props.activeProduct === id ? 'active' : ''}\n        onClick={changeCurrent}\n      >\n        <td>\n          <NameWrapper>\n            {renderType(product ? product.type : '')}\n            {product ? product.name : __('Not selected')}\n          </NameWrapper>\n        </td>\n        <td>\n          {quantity} <strong>{uom}</strong>\n        </td>\n        <td>{renderAmmount(unitPrice)}</td>\n        <td>{renderAmmount(discount)}</td>\n        <td>{renderAmmount(tax)}</td>\n        <td>{renderAmmount(amount)}</td>\n        <td>\n          <RemoveRow>\n            <Icon onClick={props.onRemove} icon=\"times-circle\" />\n          </RemoveRow>\n        </td>\n      </tr>\n      {props.children && (\n        <tr className=\"active\">\n          <td colSpan={7}>{props.children}</td>\n        </tr>\n      )}\n    </>\n  );\n}\n\nexport default ProductRow;\n"]},"metadata":{},"sourceType":"module"}