{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/productService/components/product/detail/BasicInfo.tsx\";\nimport { Content } from \"modules/boards/styles/item\";\nimport Attachment from \"modules/common/components/Attachment\";\nimport Button from \"erxes-common-ui/lib/components/button\";\nimport DropdownToggle from \"modules/common/components/DropdownToggle\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport ModalTrigger from \"modules/common/components/ModalTrigger\";\nimport { InfoWrapper } from \"modules/common/styles/main\";\nimport { __, Alert, confirm } from \"modules/common/utils\";\nimport { Action, Name } from \"modules/customers/styles\";\nimport Sidebar from \"modules/layout/components/Sidebar\";\nimport { SidebarCounter, SidebarFlexRow, SidebarList } from \"modules/layout/styles\";\nimport ProductForm from \"modules/settings/productService/containers/product/ProductForm\";\nimport React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport xss from \"xss\";\n\nvar BasicInfo =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BasicInfo, _React$Component);\n\n  function BasicInfo() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BasicInfo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BasicInfo)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderRow = function (label, value) {\n      return React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, __(\"\".concat(label)), \":\", React.createElement(SidebarCounter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, value || \"-\"));\n    };\n\n    _this.renderImage = function (item) {\n      if (!item) {\n        return React.createElement(React.Fragment, null);\n      }\n\n      return React.createElement(Attachment, {\n        attachment: item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BasicInfo, [{\n    key: \"renderAction\",\n    value: function renderAction() {\n      var remove = this.props.remove;\n\n      var onDelete = function onDelete() {\n        return confirm().then(function () {\n          return remove();\n        }).catch(function (error) {\n          Alert.error(error.message);\n        });\n      };\n\n      return React.createElement(Action, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Dropdown.Toggle, {\n        as: DropdownToggle,\n        id: \"dropdown-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Button, {\n        btnStyle: \"simple\",\n        size: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, __(\"Action\"), React.createElement(Icon, {\n        icon: \"angle-down\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }))), React.createElement(Dropdown.Menu, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"#delete\",\n        onClick: onDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, __(\"Delete\"))))));\n    }\n  }, {\n    key: \"renderInfo\",\n    value: function renderInfo() {\n      var product = this.props.product;\n\n      var content = function content(props) {\n        return React.createElement(ProductForm, Object.assign({}, props, {\n          product: product,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }));\n      };\n\n      return React.createElement(Sidebar.Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(InfoWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Name, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, product.name), React.createElement(ModalTrigger, {\n        title: \"Edit basic info\",\n        trigger: React.createElement(Icon, {\n          icon: \"edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }),\n        size: \"lg\",\n        content: content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), this.renderAction(), this.renderImage(product.attachment), React.createElement(SidebarList, {\n        className: \"no-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.renderRow(\"Code\", product.code), this.renderRow(\"Type\", product.type), this.renderRow(\"Category\", product.category ? product.category.name : \"\"), this.renderRow(\"Unit price\", product.unitPrice), this.renderRow(\"Sku\", product.sku), React.createElement(SidebarFlexRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, __(\"Description\"))), React.createElement(Content, {\n        dangerouslySetInnerHTML: {\n          __html: xss(product.description)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.renderInfo();\n    }\n  }]);\n\n  return BasicInfo;\n}(React.Component);\n\nexport default BasicInfo;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/productService/components/product/detail/BasicInfo.tsx"],"names":["Content","Attachment","Button","DropdownToggle","Icon","ModalTrigger","InfoWrapper","__","Alert","confirm","Action","Name","Sidebar","SidebarCounter","SidebarFlexRow","SidebarList","ProductForm","React","Dropdown","xss","BasicInfo","renderRow","label","value","renderImage","item","remove","props","onDelete","then","catch","error","message","product","content","name","renderAction","attachment","code","type","category","unitPrice","sku","__html","description","renderInfo","Component"],"mappings":"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","sourcesContent":["import { Content } from \"modules/boards/styles/item\";\nimport Attachment from \"modules/common/components/Attachment\";\nimport Button from \"erxes-common-ui/lib/components/button\";\nimport DropdownToggle from \"modules/common/components/DropdownToggle\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport ModalTrigger from \"modules/common/components/ModalTrigger\";\nimport { InfoWrapper } from \"modules/common/styles/main\";\nimport { IAttachment } from \"modules/common/types\";\nimport { __, Alert, confirm } from \"modules/common/utils\";\n\nimport { Action, Name } from \"modules/customers/styles\";\nimport Sidebar from \"modules/layout/components/Sidebar\";\nimport {\n  SidebarCounter,\n  SidebarFlexRow,\n  SidebarList,\n} from \"modules/layout/styles\";\nimport ProductForm from \"modules/settings/productService/containers/product/ProductForm\";\nimport { IProduct } from \"modules/settings/productService/types\";\nimport React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport xss from \"xss\";\n\ntype Props = {\n  product: IProduct;\n  remove: () => void;\n};\n\nclass BasicInfo extends React.Component<Props> {\n  renderRow = (label, value) => {\n    return (\n      <li>\n        {__(`${label}`)}:<SidebarCounter>{value || \"-\"}</SidebarCounter>\n      </li>\n    );\n  };\n\n  renderAction() {\n    const { remove } = this.props;\n\n    const onDelete = () =>\n      confirm()\n        .then(() => remove())\n        .catch((error) => {\n          Alert.error(error.message);\n        });\n\n    return (\n      <Action>\n        <Dropdown>\n          <Dropdown.Toggle as={DropdownToggle} id=\"dropdown-info\">\n            <Button btnStyle=\"simple\" size=\"medium\">\n              {__(\"Action\")}\n              <Icon icon=\"angle-down\" />\n            </Button>\n          </Dropdown.Toggle>\n          <Dropdown.Menu>\n            <li>\n              <a href=\"#delete\" onClick={onDelete}>\n                {__(\"Delete\")}\n              </a>\n            </li>\n          </Dropdown.Menu>\n        </Dropdown>\n      </Action>\n    );\n  }\n\n  renderImage = (item?: IAttachment) => {\n    if (!item) {\n      return <></>;\n    }\n\n    return <Attachment attachment={item} />;\n  };\n\n  renderInfo() {\n    const { product } = this.props;\n\n    const content = (props) => <ProductForm {...props} product={product} />;\n\n    return (\n      <Sidebar.Section>\n        <InfoWrapper>\n          <Name>{product.name}</Name>\n          <ModalTrigger\n            title=\"Edit basic info\"\n            trigger={<Icon icon=\"edit\" />}\n            size=\"lg\"\n            content={content}\n          />\n        </InfoWrapper>\n\n        {this.renderAction()}\n\n        {this.renderImage(product.attachment)}\n\n        <SidebarList className=\"no-link\">\n          {this.renderRow(\"Code\", product.code)}\n          {this.renderRow(\"Type\", product.type)}\n          {this.renderRow(\n            \"Category\",\n            product.category ? product.category.name : \"\"\n          )}\n          {this.renderRow(\"Unit price\", product.unitPrice)}\n          {this.renderRow(\"Sku\", product.sku)}\n          <SidebarFlexRow>{__(`Description`)}</SidebarFlexRow>\n        </SidebarList>\n        <Content\n          dangerouslySetInnerHTML={{\n            __html: xss(product.description),\n          }}\n        />\n      </Sidebar.Section>\n    );\n  }\n\n  render() {\n    return this.renderInfo();\n  }\n}\n\nexport default BasicInfo;\n"]},"metadata":{},"sourceType":"module"}