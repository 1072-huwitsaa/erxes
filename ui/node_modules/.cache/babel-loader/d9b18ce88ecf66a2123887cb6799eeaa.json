{"ast":null,"code":"import _objectSpread from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/growthHacks/components/TemplateList.tsx\";\nimport dayjs from 'dayjs';\nimport Button from 'erxes-common-ui/lib/components/button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Tip from 'modules/common/components/Tip';\nimport { __ } from 'modules/common/utils';\nimport { BoxContainer } from 'modules/growthHacks/components/home/styles';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport List from '../../common/components/List';\nimport { Actions, Bottom, BoxItem, Created } from '../styles';\nimport TemplateForm from './TemplateForm';\n\nvar TemplateList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TemplateList, _React$Component);\n\n  function TemplateList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TemplateList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TemplateList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderForm = function (props) {\n      return React.createElement(TemplateForm, Object.assign({}, props, {\n        renderButton: _this.props.renderButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }));\n    };\n\n    _this.removeTemplate = function (object) {\n      _this.props.remove(object._id);\n    };\n\n    _this.duplicateTemplate = function (id) {\n      _this.props.duplicate(id);\n    };\n\n    _this.renderEditAction = function (object) {\n      var save = _this.props.save;\n\n      var content = function content(props) {\n        return _this.renderForm(_objectSpread({}, props, {\n          object: object,\n          save: save\n        }));\n      };\n\n      return React.createElement(ModalTrigger, {\n        enforceFocus: false,\n        title: \"Edit\",\n        trigger: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(Tip, {\n          text: \"Edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          icon: \"edit-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }))),\n        content: content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      });\n    };\n\n    _this.renderActions = function (object) {\n      if (object.isDefinedByErxes) {\n        return React.createElement(Actions, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, _this.renderDuplicateAction(object));\n      }\n\n      return React.createElement(Actions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, _this.renderEditAction(object), _this.renderDuplicateAction(object), React.createElement(Tip, {\n        text: \"Remove\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: _this.removeTemplate.bind(_assertThisInitialized(_this), object),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }))));\n    };\n\n    _this.renderContent = function (props) {\n      return React.createElement(BoxContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, _this.renderRow(props));\n    };\n\n    _this.renderButton = function () {\n      return React.createElement(Link, {\n        to: \"/settings/boards/growthHack\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Button, {\n        icon: \"award\",\n        btnStyle: \"primary\",\n        uppercase: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Go to Campaign\"));\n    };\n\n    return _this;\n  }\n\n  _createClass(TemplateList, [{\n    key: \"renderDuplicateAction\",\n    value: function renderDuplicateAction(object) {\n      return React.createElement(Tip, {\n        text: \"Duplicate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.duplicateTemplate.bind(this, object._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"copy-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"renderRow\",\n    value: function renderRow(_ref) {\n      var _this2 = this;\n\n      var objects = _ref.objects;\n      return objects.map(function (object, index) {\n        return React.createElement(BoxItem, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, object.name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, object.description)), React.createElement(Bottom, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(Created, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, dayjs(object.createdAt).format('DD MMM YYYY')), _this2.renderActions(object)));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(List, Object.assign({\n        formTitle: __('New Growth Hacking Templates'),\n        breadcrumb: [{\n          title: __('Settings'),\n          link: '/settings'\n        }, {\n          title: __('Growth Hacking Templates')\n        }],\n        title: __('Growth Hacking Templates'),\n        leftActionBar: React.createElement(HeaderDescription, {\n          icon: \"/images/actions/34.svg\",\n          title: \"Growth Hacking Templates\",\n          description: \"Manage your boards and pipelines so that its easy to manage incoming leads or requests that is adaptable to your team's needs. Add in or delete boards and pipelines to keep business development on track and in check.\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }),\n        additionalButton: this.renderButton(),\n        renderForm: this.renderForm,\n        renderContent: this.renderContent\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TemplateList;\n}(React.Component);\n\nexport default TemplateList;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/growthHacks/components/TemplateList.tsx"],"names":["dayjs","Button","Icon","HeaderDescription","ModalTrigger","Tip","__","BoxContainer","React","Link","List","Actions","Bottom","BoxItem","Created","TemplateForm","TemplateList","renderForm","props","renderButton","removeTemplate","object","remove","_id","duplicateTemplate","id","duplicate","renderEditAction","save","content","renderActions","isDefinedByErxes","renderDuplicateAction","bind","renderContent","renderRow","objects","map","index","name","description","createdAt","format","title","link","Component"],"mappings":"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","sourcesContent":["import dayjs from 'dayjs';\nimport Button from 'erxes-common-ui/lib/components/button';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport ModalTrigger from 'modules/common/components/ModalTrigger';\nimport Tip from 'modules/common/components/Tip';\nimport { IButtonMutateProps } from 'modules/common/types';\nimport { __ } from 'modules/common/utils';\nimport { BoxContainer } from 'modules/growthHacks/components/home/styles';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport List from '../../common/components/List';\nimport { ICommonListProps } from '../../common/types';\nimport { Actions, Bottom, BoxItem, Created } from '../styles';\nimport TemplateForm from './TemplateForm';\n\ntype Props = {\n  renderButton: (props: IButtonMutateProps) => JSX.Element;\n  duplicate: (id: string) => void;\n} & ICommonListProps;\n\nclass TemplateList extends React.Component<Props> {\n  renderForm = props => {\n    return <TemplateForm {...props} renderButton={this.props.renderButton} />;\n  };\n\n  removeTemplate = object => {\n    this.props.remove(object._id);\n  };\n\n  duplicateTemplate = id => {\n    this.props.duplicate(id);\n  };\n\n  renderEditAction = object => {\n    const { save } = this.props;\n\n    const content = props => {\n      return this.renderForm({ ...props, object, save });\n    };\n\n    return (\n      <ModalTrigger\n        enforceFocus={false}\n        title=\"Edit\"\n        trigger={\n          <div>\n            <Tip text=\"Edit\">\n              <Icon icon=\"edit-3\" />\n            </Tip>\n          </div>\n        }\n        content={content}\n      />\n    );\n  };\n\n  renderDuplicateAction(object) {\n    return (\n      <Tip text=\"Duplicate\">\n        <div onClick={this.duplicateTemplate.bind(this, object._id)}>\n          <Icon icon=\"copy-1\" />\n        </div>\n      </Tip>\n    );\n  }\n\n  renderActions = object => {\n    if (object.isDefinedByErxes) {\n      return <Actions>{this.renderDuplicateAction(object)}</Actions>;\n    }\n\n    return (\n      <Actions>\n        {this.renderEditAction(object)}\n        {this.renderDuplicateAction(object)}\n        <Tip text=\"Remove\">\n          <div onClick={this.removeTemplate.bind(this, object)}>\n            <Icon icon=\"trash\" />\n          </div>\n        </Tip>\n      </Actions>\n    );\n  };\n\n  renderRow({ objects }) {\n    return objects.map((object, index) => (\n      <BoxItem key={index}>\n        <div>\n          <h5>{object.name}</h5>\n          <p>{object.description}</p>\n        </div>\n        <Bottom>\n          <Created>{dayjs(object.createdAt).format('DD MMM YYYY')}</Created>\n          {this.renderActions(object)}\n        </Bottom>\n      </BoxItem>\n    ));\n  }\n\n  renderContent = props => {\n    return <BoxContainer>{this.renderRow(props)}</BoxContainer>;\n  };\n\n  renderButton = () => {\n    return (\n      <Link to=\"/settings/boards/growthHack\">\n        <Button icon=\"award\" btnStyle=\"primary\" uppercase={false}>\n          Go to Campaign\n        </Button>\n      </Link>\n    );\n  };\n\n  render() {\n    return (\n      <List\n        formTitle={__('New Growth Hacking Templates')}\n        breadcrumb={[\n          { title: __('Settings'), link: '/settings' },\n          { title: __('Growth Hacking Templates') }\n        ]}\n        title={__('Growth Hacking Templates')}\n        leftActionBar={\n          <HeaderDescription\n            icon=\"/images/actions/34.svg\"\n            title=\"Growth Hacking Templates\"\n            description={`Manage your boards and pipelines so that its easy to manage incoming leads or requests that is adaptable to your team's needs. Add in or delete boards and pipelines to keep business development on track and in check.`}\n          />\n        }\n        additionalButton={this.renderButton()}\n        renderForm={this.renderForm}\n        renderContent={this.renderContent}\n        {...this.props}\n      />\n    );\n  }\n}\n\nexport default TemplateList;\n"]},"metadata":{},"sourceType":"module"}