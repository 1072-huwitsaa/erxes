{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/importHistory/components/HistoryDetail.tsx\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  padding: 5px 0;\\n\\n  > div {\\n    margin-right: 20px;\\n    flex-basis: 160px;\\n    font-size: 14px;\\n    font-weight: 500;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: \", \"px;\\n  border-bottom: 1px solid \", \";\\n  display: flex;\\n  align-items: center;\\n\\n  > div {\\n    flex: 1;\\n  }\\n\\n  svg {\\n    margin-right: 40px;\\n    flex-shrink: 0;\\n    align-self: baseline;\\n    margin-top: 10px;\\n\\n    text {\\n      fill: \", \";\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport DataWithLoader from 'modules/common/components/DataWithLoader';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport Table from 'modules/common/components/table';\nimport TextInfo from 'modules/common/components/TextInfo';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { colors, dimensions } from '../../../common/styles';\nimport { __ } from '../../../common/utils';\nimport Wrapper from '../../../layout/components/Wrapper';\nimport CircularProgressBar from './CircularProgressBar';\nvar TopContent = styled.div(_templateObject(), dimensions.coreSpacing, colors.borderPrimary, colors.colorCoreDarkGray);\nvar Row = styled.div(_templateObject2());\n\nvar HistoryDetail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(HistoryDetail, _React$Component);\n\n  function HistoryDetail() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HistoryDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HistoryDetail)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderProgressBar = function () {\n      var _this$props = _this.props,\n          percentage = _this$props.percentage,\n          importHistory = _this$props.importHistory;\n      var percent = percentage;\n\n      if (importHistory.status === 'Done') {\n        percent = 100;\n      }\n\n      return React.createElement(CircularProgressBar, {\n        sqSize: 60,\n        strokeWidth: 3,\n        percentage: percent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      });\n    };\n\n    _this.renderContent = function (importHistory) {\n      var status = importHistory.status,\n          total = importHistory.total,\n          failed = importHistory.failed,\n          success = importHistory.success,\n          errorMsgs = importHistory.errorMsgs;\n      return React.createElement(React.Fragment, null, React.createElement(TopContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, _this.renderProgressBar(), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, __('Status'), \":\"), React.createElement(TextInfo, {\n        hugeness: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, status)), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, __('Total'), \":\"), React.createElement(TextInfo, {\n        hugeness: \"large\",\n        textStyle: \"simple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, total)), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, __('Success'), \":\"), React.createElement(TextInfo, {\n        textStyle: \"success\",\n        hugeness: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, success)), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, __('Failed'), \":\"), React.createElement(TextInfo, {\n        textStyle: \"danger\",\n        hugeness: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, failed)))), React.createElement(Table, {\n        striped: true,\n        alignTop: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, __('Errors')), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, (errorMsgs || []).map(function (msg, index) {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, msg), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }));\n      }))));\n    };\n\n    return _this;\n  }\n\n  _createClass(HistoryDetail, [{\n    key: \"render\",\n    value: function render() {\n      var importHistory = this.props.importHistory;\n      var breadcrumb = [{\n        title: __('Settings'),\n        link: '/settings'\n      }, {\n        title: __('Import & Export'),\n        link: '/settings/importHistories'\n      }, {\n        title: __('Import History ')\n      }];\n      return React.createElement(Wrapper, {\n        header: React.createElement(Wrapper.Header, {\n          title: __('Import History '),\n          breadcrumb: breadcrumb,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }),\n        actionBar: React.createElement(Wrapper.ActionBar, {\n          left: React.createElement(HeaderDescription, {\n            icon: \"/images/actions/28.svg\",\n            title: \"Import history\",\n            description: \"You can track your recently imported customers or companies here\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }),\n        content: React.createElement(DataWithLoader, {\n          loading: this.props.loading,\n          data: this.renderContent(importHistory),\n          emptyText: \"No errors\",\n          emptyImage: \"/images/actions/15.svg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }),\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return HistoryDetail;\n}(React.Component);\n\nexport default HistoryDetail;","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/settings/importHistory/components/HistoryDetail.tsx"],"names":["DataWithLoader","HeaderDescription","Table","TextInfo","React","styled","colors","dimensions","__","Wrapper","CircularProgressBar","TopContent","div","coreSpacing","borderPrimary","colorCoreDarkGray","Row","HistoryDetail","renderProgressBar","props","percentage","importHistory","percent","status","renderContent","total","failed","success","errorMsgs","map","msg","index","breadcrumb","title","link","loading","Component"],"mappings":"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","sourcesContent":["import DataWithLoader from 'modules/common/components/DataWithLoader';\nimport HeaderDescription from 'modules/common/components/HeaderDescription';\nimport Table from 'modules/common/components/table';\nimport TextInfo from 'modules/common/components/TextInfo';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { colors, dimensions } from '../../../common/styles';\nimport { __ } from '../../../common/utils';\nimport Wrapper from '../../../layout/components/Wrapper';\nimport { IImportHistory } from '../types';\nimport CircularProgressBar from './CircularProgressBar';\n\nconst TopContent = styled.div`\n  padding: ${dimensions.coreSpacing}px;\n  border-bottom: 1px solid ${colors.borderPrimary};\n  display: flex;\n  align-items: center;\n\n  > div {\n    flex: 1;\n  }\n\n  svg {\n    margin-right: 40px;\n    flex-shrink: 0;\n    align-self: baseline;\n    margin-top: 10px;\n\n    text {\n      fill: ${colors.colorCoreDarkGray};\n    }\n  }\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 5px 0;\n\n  > div {\n    margin-right: 20px;\n    flex-basis: 160px;\n    font-size: 14px;\n    font-weight: 500;\n  }\n`;\n\ntype Props = {\n  importHistory: IImportHistory;\n  loading: boolean;\n  percentage: number;\n};\n\nclass HistoryDetail extends React.Component<Props> {\n  renderProgressBar = () => {\n    const { percentage, importHistory } = this.props;\n    let percent = percentage;\n\n    if (importHistory.status === 'Done') {\n      percent = 100;\n    }\n\n    return (\n      <CircularProgressBar sqSize={60} strokeWidth={3} percentage={percent} />\n    );\n  };\n\n  renderContent = (importHistory: IImportHistory) => {\n    const { status, total, failed, success, errorMsgs } = importHistory;\n\n    return (\n      <>\n        <TopContent>\n          {this.renderProgressBar()}\n          <div>\n            <Row>\n              <div>{__('Status')}:</div>\n              <TextInfo hugeness=\"large\">{status}</TextInfo>\n            </Row>\n            <Row>\n              <div>{__('Total')}:</div>\n              <TextInfo hugeness=\"large\" textStyle=\"simple\">\n                {total}\n              </TextInfo>\n            </Row>\n            <Row>\n              <div>{__('Success')}:</div>\n              <TextInfo textStyle=\"success\" hugeness=\"large\">\n                {success}\n              </TextInfo>\n            </Row>\n            <Row>\n              <div>{__('Failed')}:</div>\n              <TextInfo textStyle=\"danger\" hugeness=\"large\">\n                {failed}\n              </TextInfo>\n            </Row>\n          </div>\n        </TopContent>\n        <Table striped={true} alignTop={true}>\n          <thead>\n            <tr>\n              <th>{__('Errors')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {(errorMsgs || []).map((msg, index) => {\n              return (\n                <tr key={index}>\n                  <td>{msg}</td>\n                  <td />\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </>\n    );\n  };\n\n  render() {\n    const { importHistory } = this.props;\n\n    const breadcrumb = [\n      { title: __('Settings'), link: '/settings' },\n      { title: __('Import & Export'), link: '/settings/importHistories' },\n      { title: __('Import History ') }\n    ];\n\n    return (\n      <Wrapper\n        header={\n          <Wrapper.Header\n            title={__('Import History ')}\n            breadcrumb={breadcrumb}\n          />\n        }\n        actionBar={\n          <Wrapper.ActionBar\n            left={\n              <HeaderDescription\n                icon=\"/images/actions/28.svg\"\n                title=\"Import history\"\n                description={`You can track your recently imported customers or companies here`}\n              />\n            }\n          />\n        }\n        content={\n          <DataWithLoader\n            loading={this.props.loading}\n            data={this.renderContent(importHistory)}\n            emptyText=\"No errors\"\n            emptyImage=\"/images/actions/15.svg\"\n          />\n        }\n        center={true}\n      />\n    );\n  }\n}\n\nexport default HistoryDetail;\n"]},"metadata":{},"sourceType":"module"}