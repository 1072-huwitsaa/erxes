{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/Box.tsx\";\nimport { SectionContainer, SidebarCollapse } from \"modules/inbox/components/conversationDetail/sidebar/styles\";\nimport { getConfig, setConfig } from \"modules/inbox/utils\";\nimport Sidebar from \"modules/layout/components/Sidebar\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport React from \"react\";\nvar STORAGE_KEY = \"erxes_sidebar_section_config\";\n\nvar Box =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Box, _React$Component);\n\n  function Box(props) {\n    var _this;\n\n    _classCallCheck(this, Box);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Box).call(this, props));\n\n    _this.toggle = function () {\n      var _this$props = _this.props,\n          name = _this$props.name,\n          callback = _this$props.callback;\n      var isOpen = _this.state.isOpen;\n\n      _this.setState({\n        isOpen: !isOpen\n      });\n\n      if (name) {\n        var config = getConfig(STORAGE_KEY) || {};\n        config[name] = !isOpen;\n        setConfig(STORAGE_KEY, config);\n        return callback && callback();\n      }\n    };\n\n    var _name = props.name,\n        _props$isOpen = props.isOpen,\n        _isOpen = _props$isOpen === void 0 ? false : _props$isOpen;\n\n    var _config = getConfig(STORAGE_KEY) || {};\n\n    _this.state = {\n      isOpen: _name ? _config[_name] || _isOpen : false\n    };\n    return _this;\n  }\n\n  _createClass(Box, [{\n    key: \"renderDropBtn\",\n    value: function renderDropBtn() {\n      var isOpen = this.state.isOpen;\n      var icon = isOpen ? \"angle-down\" : \"angle-right\";\n      var QuickButtons = Sidebar.Section.QuickButtons;\n      var extraButtons = this.props.extraButtons;\n      return React.createElement(React.Fragment, null, isOpen && extraButtons && React.createElement(QuickButtons, {\n        isSidebarOpen: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, extraButtons), React.createElement(SidebarCollapse, {\n        onClick: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: icon,\n        size: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Section = Sidebar.Section;\n      var Title = Section.Title;\n      var isOpen = this.state.isOpen;\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          title = _this$props2.title,\n          collapsible = _this$props2.collapsible;\n      return React.createElement(SectionContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Title, {\n        onClick: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, title), this.renderDropBtn(), isOpen ? React.createElement(Section, {\n        collapsible: collapsible,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, children) : null);\n    }\n  }]);\n\n  return Box;\n}(React.Component);\n\nexport { Box as default };","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/common/components/Box.tsx"],"names":["SectionContainer","SidebarCollapse","getConfig","setConfig","Sidebar","Icon","React","STORAGE_KEY","Box","props","toggle","name","callback","isOpen","state","setState","config","icon","QuickButtons","Section","extraButtons","Title","children","title","collapsible","renderDropBtn","Component"],"mappings":"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","sourcesContent":["import {\n  SectionContainer,\n  SidebarCollapse,\n} from \"modules/inbox/components/conversationDetail/sidebar/styles\";\nimport { getConfig, setConfig } from \"modules/inbox/utils\";\nimport Sidebar from \"modules/layout/components/Sidebar\";\nimport Icon from \"erxes-common-ui/lib/components/icon\";\nimport React from \"react\";\n\ntype BoxProps = {\n  title: string;\n  name?: string;\n  children: React.ReactNode;\n  extraButtons?: React.ReactNode;\n  callback?: () => void;\n  collapsible?: boolean;\n  isOpen?: boolean;\n};\n\ntype BoxState = {\n  isOpen?: boolean;\n};\n\nconst STORAGE_KEY = `erxes_sidebar_section_config`;\n\nexport default class Box extends React.Component<BoxProps, BoxState> {\n  constructor(props: BoxProps) {\n    super(props);\n    const { name, isOpen = false } = props;\n    const config = getConfig(STORAGE_KEY) || {};\n\n    this.state = {\n      isOpen: name ? config[name] || isOpen : false,\n    };\n  }\n\n  toggle = () => {\n    const { name, callback } = this.props;\n    const { isOpen } = this.state;\n\n    this.setState({ isOpen: !isOpen });\n\n    if (name) {\n      const config = getConfig(STORAGE_KEY) || {};\n\n      config[name] = !isOpen;\n\n      setConfig(STORAGE_KEY, config);\n\n      return callback && callback();\n    }\n  };\n\n  renderDropBtn() {\n    const { isOpen } = this.state;\n    const icon = isOpen ? \"angle-down\" : \"angle-right\";\n    const { QuickButtons } = Sidebar.Section;\n    const { extraButtons } = this.props;\n\n    return (\n      <>\n        {isOpen && extraButtons && (\n          <QuickButtons isSidebarOpen={true}>{extraButtons}</QuickButtons>\n        )}\n        <SidebarCollapse onClick={this.toggle}>\n          <Icon icon={icon} size={16} />\n        </SidebarCollapse>\n      </>\n    );\n  }\n\n  render() {\n    const { Section } = Sidebar;\n    const { Title } = Section;\n\n    const { isOpen } = this.state;\n    const { children, title, collapsible } = this.props;\n\n    return (\n      <SectionContainer>\n        <Title onClick={this.toggle}>{title}</Title>\n        {this.renderDropBtn()}\n        {isOpen ? (\n          <Section collapsible={collapsible}>{children}</Section>\n        ) : null}\n      </SectionContainer>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}