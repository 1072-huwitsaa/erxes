{"ast":null,"code":"import _classCallCheck from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anu-ujin/Works/open-source/erxes/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/GrowthHackItem.tsx\";\nimport dayjs from 'dayjs';\nimport Labels from 'modules/boards/components/label/Labels';\nimport EditForm from 'modules/boards/containers/editForm/EditForm';\nimport { ItemContainer, ItemDate } from 'modules/boards/styles/common';\nimport { Footer, Left, PriceContainer, Right } from 'modules/boards/styles/item';\nimport { Content } from 'modules/boards/styles/stage';\nimport { renderPriority } from 'modules/boards/utils';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { __ } from 'modules/common/utils';\nimport Participators from 'modules/inbox/components/conversationDetail/workarea/Participators';\nimport React from 'react';\nimport { ScoreAmount, Vote } from '../styles';\nimport Score from './Score';\n\nvar GrowthHackItem =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(GrowthHackItem, _React$PureComponent);\n\n  function GrowthHackItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GrowthHackItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GrowthHackItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderForm = function () {\n      var _this$props = _this.props,\n          stageId = _this$props.stageId,\n          item = _this$props.item,\n          isFormVisible = _this$props.isFormVisible;\n\n      if (!isFormVisible) {\n        return null;\n      }\n\n      return React.createElement(EditForm, Object.assign({}, _this.props, {\n        stageId: stageId || item.stageId,\n        itemId: item._id,\n        isPopupVisible: isFormVisible,\n        hideHeader: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(GrowthHackItem, [{\n    key: \"renderDate\",\n    value: function renderDate(date) {\n      if (!date) {\n        return null;\n      }\n\n      return React.createElement(ItemDate, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, dayjs(date).format('MMM D, h:mm a'));\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var item = this.props.item;\n      var scoringType = item.scoringType,\n          _item$reach = item.reach,\n          reach = _item$reach === void 0 ? 0 : _item$reach,\n          _item$impact = item.impact,\n          impact = _item$impact === void 0 ? 0 : _item$impact,\n          _item$confidence = item.confidence,\n          confidence = _item$confidence === void 0 ? 0 : _item$confidence,\n          _item$ease = item.ease,\n          ease = _item$ease === void 0 ? 0 : _item$ease;\n      return React.createElement(React.Fragment, null, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, renderPriority(item.priority), item.name), React.createElement(ScoreAmount, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Score.Amount, {\n        type: scoringType,\n        r: reach,\n        i: impact,\n        c: confidence,\n        e: ease,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(PriceContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Left, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Vote, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        icon: \"thumbs-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), item.voteCount)), React.createElement(Right, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Participators, {\n        participatedUsers: item.assignedUsers,\n        limit: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, __('Last updated'), \":\", React.createElement(Right, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.renderDate(item.modifiedAt))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          item = _this$props2.item,\n          onClick = _this$props2.onClick,\n          portable = _this$props2.portable;\n\n      if (portable) {\n        return React.createElement(React.Fragment, null, React.createElement(ItemContainer, {\n          onClick: onClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, this.renderContent())), this.renderForm());\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(Labels, {\n        labels: item.labels,\n        indicator: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(Content, {\n        onClick: onClick,\n        type: \"growthHack\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.renderContent()), this.renderForm());\n    }\n  }]);\n\n  return GrowthHackItem;\n}(React.PureComponent);\n\nexport { GrowthHackItem as default };","map":{"version":3,"sources":["/home/anu-ujin/Works/open-source/erxes/ui/src/modules/growthHacks/components/GrowthHackItem.tsx"],"names":["dayjs","Labels","EditForm","ItemContainer","ItemDate","Footer","Left","PriceContainer","Right","Content","renderPriority","Icon","__","Participators","React","ScoreAmount","Vote","Score","GrowthHackItem","renderForm","props","stageId","item","isFormVisible","_id","date","format","scoringType","reach","impact","confidence","ease","priority","name","voteCount","assignedUsers","renderDate","modifiedAt","onClick","portable","renderContent","labels","PureComponent"],"mappings":"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","sourcesContent":["import dayjs from 'dayjs';\nimport Labels from 'modules/boards/components/label/Labels';\nimport EditForm from 'modules/boards/containers/editForm/EditForm';\nimport { ItemContainer, ItemDate } from 'modules/boards/styles/common';\nimport {\n  Footer,\n  Left,\n  PriceContainer,\n  Right\n} from 'modules/boards/styles/item';\nimport { Content } from 'modules/boards/styles/stage';\nimport { IOptions } from 'modules/boards/types';\nimport { renderPriority } from 'modules/boards/utils';\nimport Icon from 'erxes-common-ui/lib/components/icon';\nimport { __ } from 'modules/common/utils';\nimport Participators from 'modules/inbox/components/conversationDetail/workarea/Participators';\nimport React from 'react';\nimport { ScoreAmount, Vote } from '../styles';\nimport { IGrowthHack } from '../types';\nimport Score from './Score';\n\ntype Props = {\n  stageId: string;\n  item: IGrowthHack;\n  beforePopupClose: () => void;\n  onClick: () => void;\n  options: IOptions;\n  isFormVisible: boolean;\n  portable?: boolean;\n};\n\nexport default class GrowthHackItem extends React.PureComponent<Props> {\n  renderDate(date) {\n    if (!date) {\n      return null;\n    }\n\n    return <ItemDate>{dayjs(date).format('MMM D, h:mm a')}</ItemDate>;\n  }\n\n  renderForm = () => {\n    const { stageId, item, isFormVisible } = this.props;\n\n    if (!isFormVisible) {\n      return null;\n    }\n\n    return (\n      <EditForm\n        {...this.props}\n        stageId={stageId || item.stageId}\n        itemId={item._id}\n        isPopupVisible={isFormVisible}\n        hideHeader={true}\n      />\n    );\n  };\n\n  renderContent() {\n    const { item } = this.props;\n    const {\n      scoringType,\n      reach = 0,\n      impact = 0,\n      confidence = 0,\n      ease = 0\n    } = item;\n\n    return (\n      <>\n        <h5>\n          {renderPriority(item.priority)}\n          {item.name}\n        </h5>\n        <ScoreAmount>\n          <Score.Amount\n            type={scoringType}\n            r={reach}\n            i={impact}\n            c={confidence}\n            e={ease}\n          />\n        </ScoreAmount>\n\n        <PriceContainer>\n          <Left>\n            <Vote>\n              <Icon icon=\"thumbs-up\" />\n              {item.voteCount}\n            </Vote>\n          </Left>\n          <Right>\n            <Participators participatedUsers={item.assignedUsers} limit={3} />\n          </Right>\n        </PriceContainer>\n\n        <Footer>\n          {__('Last updated')}:<Right>{this.renderDate(item.modifiedAt)}</Right>\n        </Footer>\n      </>\n    );\n  }\n\n  render() {\n    const { item, onClick, portable } = this.props;\n\n    if (portable) {\n      return (\n        <>\n          <ItemContainer onClick={onClick}>\n            <Content>{this.renderContent()}</Content>\n          </ItemContainer>\n          {this.renderForm()}\n        </>\n      );\n    }\n\n    return (\n      <>\n        <Labels labels={item.labels} indicator={true} />\n        <Content onClick={onClick} type=\"growthHack\">\n          {this.renderContent()}\n        </Content>\n        {this.renderForm()}\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}