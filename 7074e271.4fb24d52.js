(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{179:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return b}));var a=t(2),r=t(9),i=(t(0),t(213)),o={id:"debian10",title:"Debian 10"},l={id:"installation/debian10",title:"Debian 10",description:"This steps explain how to install Erxes on Debian 10.",source:"@site/docs/installation/debian10.md",permalink:"/installation/debian10",editUrl:"https://github.com/erxes/erxes/edit/develop/docs/docs/installation/debian10.md",lastUpdatedBy:"Batnasan Byambasuren",lastUpdatedAt:1592641544,sidebar:"docs",previous:{title:"Ubuntu 18.04",permalink:"/installation/ubuntu"},next:{title:"CentOS 8",permalink:"/installation/centos8"}},c=[{value:"Installing erxes on Debian 10",id:"installing-erxes-on-debian-10",children:[]},{value:"Create an admin user",id:"create-an-admin-user",children:[]},{value:"Load initial data",id:"load-initial-data",children:[]},{value:"SSL integration",id:"ssl-integration",children:[]}],s={rightToc:c};function b(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This steps explain how to install Erxes on Debian 10."),Object(i.b)("h2",{id:"installing-erxes-on-debian-10"},"Installing erxes on Debian 10"),Object(i.b)("p",null,"To have erxes up and running quickly, you can follow the following steps."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Provision a new server running Debian 10.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Log in to your new server as ",Object(i.b)("inlineCode",{parentName:"p"},"root")," account and run the following command."),Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},'bash -c "$(wget -O - https://raw.githubusercontent.com/erxes/erxes/develop/scripts/install/debian10.sh)"')),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Note"),": you will be asked to provide a domain for nginx server to set up config for erxes")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Log in to your domain DNS and create A record based on your new server IP."))),Object(i.b)("h2",{id:"create-an-admin-user"},"Create an admin user"),Object(i.b)("p",null,"Switch to user ",Object(i.b)("inlineCode",{parentName:"p"},"erxes")," and run the following commands based on your needs."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),'su erxes\ncd ~/erxes-api\nexport MONGO_URL="API_MONGO_URL"\n')),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"API_MONGO_URL")," - copy and paste the value of the ",Object(i.b)("inlineCode",{parentName:"li"},"MONGO_URL")," env var of erxes-api in the ",Object(i.b)("inlineCode",{parentName:"li"},"/home/erxes/ecosystem.json"))),Object(i.b)("p",null,"The following will create an admin user ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"mailto:admin@erxes.io"}),"admin@erxes.io")," with a random password. The password will be printed into your terminal."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"\nyarn initProject\n\n")),Object(i.b)("h2",{id:"load-initial-data"},"Load initial data"),Object(i.b)("p",null,"The below command will create initial permission groups, permissions, growth hack templates, email templates and some sample data and reset the admin password and it will be printed into terminal."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"\nyarn loadInitialData\n\n")),Object(i.b)("p",null,"If do not want to load sample data then you can run following command just to load permissions."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"\nyarn loadPermission\n\n")),Object(i.b)("p",null,"Now you have erxes up and running!"),Object(i.b)("h2",{id:"ssl-integration"},"SSL integration"),Object(i.b)("p",null,"If you want to use ",Object(i.b)("inlineCode",{parentName:"p"},"erxes")," with HTTPS, please go to ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-debian-10"}),"this article")," written by Digital Ocean, where you can install letsencrypt, free SSL certificate, to secure your nginx. But, it is up to you if you want to use different SSL provider."),Object(i.b)("p",null,"Once you have installed your ssl certificate, you need to update env vars."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Log in to your server as ",Object(i.b)("inlineCode",{parentName:"li"},"erxes")," via ",Object(i.b)("inlineCode",{parentName:"li"},"ssh"),"."),Object(i.b)("li",{parentName:"ol"},"Edit ",Object(i.b)("inlineCode",{parentName:"li"},"erxes/build/js/env.js")," file where env vars for frontend app are stored.\nThe content of the file should be as follows:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),'window.env = {\n  PORT: 3000,\n  NODE_ENV: "production",\n  REACT_APP_API_URL: "https://your_domain/api",\n  REACT_APP_API_SUBSCRIPTION_URL: "wss://your_domain/api/subscriptions",\n  REACT_APP_CDN_HOST: "https://your_domain/widgets",\n};\n')),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"Update all env vars with HTTPS url in the ",Object(i.b)("inlineCode",{parentName:"li"},"ecosystem.json")," file."),Object(i.b)("li",{parentName:"ol"},"Finally, you need to restart pm2 erxes processes by running the following command:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"pm2 restart ecosystem.json\n")),Object(i.b)("p",null,"If you need more information about pm2, please go to official documentation ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://pm2.keymetrics.io/docs/usage/application-declaration/"}),"here"),"."))}b.isMDXComponent=!0},213:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),b=function(e){var n=r.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=b(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},d=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=b(t),d=a,m=p["".concat(o,".").concat(d)]||p[d]||u[d]||i;return t?r.a.createElement(m,l(l({ref:n},s),{},{components:t})):r.a.createElement(m,l({ref:n},s))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=t[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);