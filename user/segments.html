<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Segments · erxes</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;!--Content--&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Segments · erxes"/><meta property="og:type" content="website"/><meta property="og:url" content="https://erxes.io/"/><meta property="og:description" content="&lt;!--Content--&gt;"/><meta property="og:image" content="https://erxes.io/img/erxes.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://erxes.io/img/erxes.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-87254317-8"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-87254317-8');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/erxes.png" alt="erxes"/><h2 class="headerTitleWithLogo">erxes</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://erxes.io/signin" target="_blank">Sign in</a></li><li class=""><a href="https://erxes.io/create" target="_blank">Get started</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>User&#x27;s Guide</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Overview<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/overview/getting-started">Getting  Started</a></li><li class="navListItem"><a class="navItem" href="/overview/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/overview/architecture-overview">Architecture Overview</a></li><li class="navListItem"><a class="navItem" href="/overview/deployment-overview">Deployment Overview</a></li><li class="navListItem"><a class="navItem" href="/overview/integrations-overview">Integrations Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Installation Guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/installation/ubuntu">Ubuntu 18.04</a></li><li class="navListItem"><a class="navItem" href="/installation/debian10">Debian 10</a></li><li class="navListItem"><a class="navItem" href="/installation/centos8">CentOS 8</a></li><li class="navListItem"><a class="navItem" href="/installation/redhat8">REHL 8</a></li><li class="navListItem"><a class="navItem" href="/installation/docker">Docker</a></li><li class="navListItem"><a class="navItem" href="/installation/heroku">Heroku</a></li><li class="navListItem"><a class="navItem" href="/installation/aws">AWS Marketplace</a></li><li class="navListItem"><a class="navItem" href="/installation/digitalocean">DigitalOcean Marketplace</a></li><li class="navListItem"><a class="navItem" href="/installation/upgrade">Upgrade</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">User&#x27;s Guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/user/subscription-getting-started">Subscription getting started</a></li><li class="navListItem"><a class="navItem" href="/user/initial-setup">Initial Setup</a></li><li class="navListItem"><a class="navItem" href="/user/general-settings">General Settings</a></li><li class="navListItem"><a class="navItem" href="/user/team-inbox">Team inbox</a></li><li class="navListItem"><a class="navItem" href="/user/knowledge-base">Knowledge Base</a></li><li class="navListItem"><a class="navItem" href="/user/popups">Popups</a></li><li class="navListItem"><a class="navItem" href="/user/script-install">Script installation</a></li><li class="navListItem"><a class="navItem" href="/user/contacts">Contacts</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/user/segments">Segments</a></li><li class="navListItem"><a class="navItem" href="/user/sales-pipeline">Sales pipeline</a></li><li class="navListItem"><a class="navItem" href="/user/engage">Engage</a></li><li class="navListItem"><a class="navItem" href="/user/insights">Insights</a></li><li class="navListItem"><a class="navItem" href="/user/profile-settings">Profile settings</a></li><li class="navListItem"><a class="navItem" href="/user/notification">Notifications</a></li><li class="navListItem"><a class="navItem" href="/user/mobile-apps">Mobile Apps</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Administrator&#x27;s guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/administrator/creating-first-user">Creating first user</a></li><li class="navListItem"><a class="navItem" href="/administrator/environment-variables">Environment variables</a></li><li class="navListItem"><a class="navItem" href="/administrator/system-config">System config</a></li><li class="navListItem"><a class="navItem" href="/administrator/migration">Migration</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Developer&#x27;s guide<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/developer/developer">Developer</a></li><li class="navListItem"><a class="navItem" href="/developer/contributing">Contributing</a></li><li class="navListItem"><a class="navItem" href="/developer/graphql-api">GraphQL API</a></li><li class="navListItem"><a class="navItem" href="/developer/push-notifications">Push notifications</a></li><li class="navListItem"><a class="navItem" href="/developer/android-sdk">Android SDK</a></li><li class="navListItem"><a class="navItem" href="/developer/ios-sdk">iOS SDK</a></li><li class="navListItem"><a class="navItem" href="/developer/troubleshooting">Troubleshooting</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/erxes/erxes/edit/develop/docs/docs/user/segments.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Segments</h1></header><article><div><span><!--Content-->
 A segment is smaller group of your contacts defined by rules or filters that you set. Coordinate and manage your companies and customers in one go from the company database. Erxes let you filter and segment an important group of data for targeted purposes such as by websites, size, plan industry, session count or some criteria in a more realistic way.
<hr>
<h2><a class="anchor" aria-hidden="true" id="setup-segment"></a><a href="#setup-segment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup segment</h2>
<p>The segment is a customer data management and analytics solution that helps you make sense of customer and company data coming from multiple sources. There are two main categories of segments. One is the properties segment which belongs to basic information of companies, customers and leads. The another one is the custom event segment. It will able to create actions yourself that are triggered by something your customer performs on your site or app.</p>
<p>You can create a new segment by different ways from different paths.</p>
<ol>
<li>Go to Erxes Settings =&gt; Segments =&gt; select Customer/Company =&gt; New segment.</li>
</ol>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/1.png">
</div>
<br>
<aside class="notice">
  In this customer field, it contains all customers in your database. The Leads and Customers in the contacts feature, they have passed the specified criteria. This means, if you create a segment on a certain feature, you also need to add more filter properties. More details will be shown create properties segments section.   
</aside>
<br>
<ol start="2">
<li>You can directly create from Certain Features. Certain feature =&gt; Segment =&gt; New segment.</li>
</ol>
<ul>
<li>Click on top right corner of segment.</li>
<li>Click New segment.</li>
</ul>
<div>
  <img src="https://s3-us-west-2.amazonaws.com/erxes-docs/customer-support/customer-support-17.png" style="width:400px;height:280px;"/>
</div>
<aside class="notice">
  The created segments will be used in Customer, Company, Leads and Engage features. 
</aside>
<h2><a class="anchor" aria-hidden="true" id="create-properties-segments"></a><a href="#create-properties-segments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Properties Segments</h2>
<p>The properties segment is a data management and analytics solution that helps you make sense of customer and company basic data coming from multiple sources.</p>
<ul>
<li>Please follow the steps for setup: Certain Features =&gt; FILTER BY SEGMENTS =&gt; New Segment.</li>
</ul>
<ul>
<li><strong>Let's take an example, It is shown the number of new users created in March 2020.</strong></li>
</ul>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/2.png" 
  style="border:1px solid #eee;" />
</div>
<ol>
<li>Insert Name for the Segment.</li>
<li>Choose Sub Segment.</li>
<li>Insert Description for the Segment.</li>
<li>Choose Color for the Segment.</li>
<li>Choose Segment type. (If you create Properties Segments, select the Add Properties.</li>
<li>Choose Segment type. (If you create Event Segments, select the Add Events.</li>
<li>Select the Filter property.</li>
<li>Select operator.</li>
<li>Insert value.</li>
<li>Show count and Save the Segment.</li>
<li>The numbers of results.</li>
</ol>
<aside class="notice">
  You need to make sure that insert the correct format on values field (number 9). For instance, DATE value has to "YYYY-MM-DD". 
</aside>
<h3><a class="anchor" aria-hidden="true" id="sub-segments-of-segment"></a><a href="#sub-segments-of-segment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sub-segments of segment</h3>
<p>Sub-segment allows you to create a new filter on the parent segment. Once we have created the segment on the above example. If we need more filters on that segment, you can create a new segment. In the sub-segment section, you need to call the parent segment. The following example shows who had set their primary email from created users in March 2020.</p>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/3.png">
</div>
<h3><a class="anchor" aria-hidden="true" id="study-case-of-segment"></a><a href="#study-case-of-segment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Study case of segment</h3>
 <!--Content-->
 Learn the following case studies for how to set segments using some SELECT OPERATORs on date fields.  
<ul>
<li>date relative less than</li>
<li>date relative greater than</li>
<li>will occur before on following n-th minute</li>
<li>will occur after on following n-th minute</li>
<li>will occur before on following n-th day</li>
<li>will occur after on following n-th day</li>
</ul>
<hr>
<h4><a class="anchor" aria-hidden="true" id="date-relative-less-than"></a><a href="#date-relative-less-than" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Date relative less than</h4>
<p>This operator let you filter on date fields that the all-action or all-state had been being occurred until your specified date.<br>
Take an example, let's create a segment that inactive users <strong>for the last 3 weeks</strong>.  In this case, use &quot;date relative less than&quot;  operator to show all inactive users who did not seen at on exactly twenty-one days from the current time.</p>
<p><code>&quot;date relative less than now-21d/d &quot;</code>- filters the specified data from the past until 21 days ago from the current time.</p>
<pre><code class="hljs">Last seen <span class="hljs-keyword">at</span> <span class="hljs-string">"date relative less than"</span> <span class="hljs-string">"now-21d/d"</span>

</code></pre>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/date+less+than.png">
</div>
<p><br></p>
<ul>
<li><p>In the value field, you can insert minutes also such <code>date related less than now-30m/m</code>. It will show you the all actions that had been being happened 30 minutes ago.</p></li>
<li><p>For some special case, you can create an action that <code>date related less than now+24h/h</code>, which means you can filter all data <strong>from</strong> the past <strong>until</strong> tomorrow.</p></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="date-relative-greater-than"></a><a href="#date-relative-greater-than" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Date relative greater than</h4>
<p>This operator let you filter on date fields that the all-action or all-state will have been being occurred from your specified date.<br>
Take an example, let's create a segment that all users registered in the last 24 hours.  In this case, use &quot;date relative greater than&quot;  operator to show all users who created at last 24 hours from the current time.</p>
<p><code>&quot;date relative greater than now-24h/h &quot;</code>- filters the specified data between 24 hours ago from the current time and future time.</p>
<pre><code class="hljs">Created <span class="hljs-keyword">at</span> <span class="hljs-string">"date relative greater than"</span> <span class="hljs-string">"now-24h/h"</span>
</code></pre>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/date+greater+than.png">
</div>
<p><br>
<br></p>
<ul>
<li><p>In the value field, you can insert minutes also such <code>date related greater than now-30m/m</code>. It will show you the all actions that start from 30 minutes ago to future.</p></li>
<li><p>For some special case, you can create an action that <code>date related greater than now+1d/d</code>, which means you can filter all data from tomorrow to future.</p></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="will-occur-before-on-following-n-th-minute-n-th-day"></a><a href="#will-occur-before-on-following-n-th-minute-n-th-day" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Will occur before on following n-th minute/ n-th day</h4>
<p>This operator let you filter on date fields that the action or the state will occur on the exact n-th minute or n-th day. Take an example, let's create a segment that all users date will expire on eleven days later from current time. In this case, use &quot;will occur before on following n-th day&quot;  operator to show the users whose date will expire on eleven days later from the current time. This means the segment will show you the number of users whose specified action will occur before on the following 11th day.</p>
<p><code>&quot;expire date&quot; - &quot;will occur before on following n-th day&quot; - &quot;11&quot;</code>- filters the specified data which date will just expire 11 days later from the current moment.</p>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/will+occur+before.png">
</div>
<p><br></p>
<ul>
<li><strong>The difference between  &quot;will occur before on following n-th minute&quot; and &quot;will occur before on following n-th day&quot; is the system will check n-th minute and n-th day respectively.</strong></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="will-occur-after-on-following-n-th-minuten-th-day"></a><a href="#will-occur-after-on-following-n-th-minuten-th-day" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Will occur after on following n-th minute/n-th day</h4>
<p>This operator let you filter on date fields that the action or the state occurred on the exact n-th minute or n-th day. Take an example, let's create a segment that all users date expired and which have elapsed on just 2nd day. In this case, use &quot;will occur after on following n-th day&quot;  operator to show the users whose date expired at two days ago from the current time. This means, the action has already ended and 2 days have elapsed.</p>
<p><code>&quot;expire date&quot; - &quot;will occur after on following n-th day&quot; - &quot;2&quot;</code>- filters the specified data which elapsed on just second date.</p>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/will+occur+after.png">
</div>
<p><br></p>
<ul>
<li><strong>The difference between  &quot;will occur after on following n-th minute&quot; and &quot;will occur after on following n-th day&quot; is the system will check n-th minute and n-th day respectively.</strong></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="create-event-segments"></a><a href="#create-event-segments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Event Segments</h2>
<p>Events are actions that are triggered by something your customer performs on your site or app. Every time the event occurs, a new record is created in the analytics database. Refer to the following instruction to create event-based segments.</p>
<h4><a class="anchor" aria-hidden="true" id="step-1-copy-the-script"></a><a href="#step-1-copy-the-script" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Copy the script</h4>
<p>Copy the code below and paste it onto your website page body section.</p>
<pre><code class="hljs">   <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);
    script.src = <span class="hljs-string">"http://localhost:3200/build/eventsWidget.bundle.js"</span>;
    script.async = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> entry = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'script'</span>)[<span class="hljs-number">0</span>];
    entry.parentNode.insertBefore(script, entry);
  })();

  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

</code></pre>
<h4><a class="anchor" aria-hidden="true" id="step-2-register-events"></a><a href="#step-2-register-events" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Register events</h4>
<p>You can arrange the event occurs (such as when a user clicks a button). The example shows when users click <code>GET STARTED</code> button, it will register event named <code>get-start</code> with attributes price 100 and view 80%. Later you can make segment for event name, therefore filter with your defined attributes. Copy the code below and paste it onto your website page body section.</p>
<pre><code class="hljs"> 
&lt;div&gt;
&lt;button id=<span class="hljs-string">"get-start"</span>&gt;Pricing for Team&lt;/button&gt;
&lt;/div&gt;
&lt;script&gt;
  <span class="hljs-keyword">if</span>(document.addEventListener){
    document.query<span class="hljs-constructor">Selector('#<span class="hljs-params">get</span>-<span class="hljs-params">start</span>)</span>.add<span class="hljs-constructor">EventListener('<span class="hljs-params">click</span>', <span class="hljs-params">function</span>()</span> {
      window.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Erxes</span>.</span></span>send<span class="hljs-constructor">Event({ <span class="hljs-params">name</span>: '<span class="hljs-params">get</span>-<span class="hljs-params">start</span>', <span class="hljs-params">attributes</span>: { <span class="hljs-params">price</span>: 100, <span class="hljs-params">view</span>: '80%' } })</span>
    })
  }
      
&lt;/script&gt;

</code></pre>
<h4><a class="anchor" aria-hidden="true" id="step-3-create-segments-using-registered-events"></a><a href="#step-3-create-segments-using-registered-events" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3: Create segments using registered events</h4>
<p>While your configured event is triggered, the event will be recorded on your database, then you can create the event segments.</p>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/5.png" >
</div>
<br>
In the above script, there are configured attributes such as price and view. You can add more filters on the attributes. 
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/4.png" >
</div>
<br>
<hr>
<h3><a class="anchor" aria-hidden="true" id="segment-customer-properties-according-to-tracked-data"></a><a href="#segment-customer-properties-according-to-tracked-data" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Segment customer properties according to tracked data.</h3>
<p>Erxes allows you to create customer properties segment based on event triggers. For example, when user clicked button for <strong>Update plan attribute</strong>, this user will be registered Tracked data section with <code>pricing-team111</code> attributes. Later you can create properties segment directly.</p>
<pre><code class="hljs"> 
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"button"</span>&gt;</span>Update plan attribute<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#button'</span>).addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.Erxes.updateCustomerProperty(<span class="hljs-string">'pricing-team111'</span>, <span class="hljs-string">'successfully'</span>);
      })
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

</code></pre>
<h4><a class="anchor" aria-hidden="true" id="check-users-registered-attribute"></a><a href="#check-users-registered-attribute" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Check user's registered attribute</h4>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/6.png" >
</div>
<h4><a class="anchor" aria-hidden="true" id="customer-segment-based-on-event-triggers-using-properties-segmenttracked-data-section"></a><a href="#customer-segment-based-on-event-triggers-using-properties-segmenttracked-data-section" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customer segment based on event triggers using properties segment(Tracked data section).</h4>
<div>
  <img src="https://erxes-docs.s3-us-west-2.amazonaws.com/segments/7.png" >
</div></span></div></article></div><div class="docLastUpdate"><em>Last updated on 5/20/2020 by Battulga BatAmar</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/user/contacts"><span class="arrow-prev">← </span><span>Contacts</span></a><a class="docs-next button" href="/user/sales-pipeline"><span>Sales pipeline</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#setup-segment">Setup segment</a></li><li><a href="#create-properties-segments">Create Properties Segments</a><ul class="toc-headings"><li><a href="#sub-segments-of-segment">Sub-segments of segment</a></li><li><a href="#study-case-of-segment">Study case of segment</a></li></ul></li><li><a href="#create-event-segments">Create Event Segments</a><ul class="toc-headings"><li><a href="#segment-customer-properties-according-to-tracked-data">Segment customer properties according to tracked data.</a></li></ul></li></ul></nav></div><footer class="footer"><hr/><p> © Copyright 2020 <a class="footerLink" href="https://erxes.io" target="_blank">erxes Inc</a> </p></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '807b5401b0a7d39f4b0596cd989bba35',
                indexName: 'erxes',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>